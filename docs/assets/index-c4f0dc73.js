var FS=Object.defineProperty;var $S=(e,t,n)=>t in e?FS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>($S(e,typeof t!="symbol"?t+"":t,n),n);function BS(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function zS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L0={exports:{}},Ec={},N0={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),jS=Symbol.for("react.portal"),US=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),WS=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),KS=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),GS=Symbol.for("react.suspense"),YS=Symbol.for("react.memo"),XS=Symbol.for("react.lazy"),Bm=Symbol.iterator;function JS(e){return e===null||typeof e!="object"?null:(e=Bm&&e[Bm]||e["@@iterator"],typeof e=="function"?e:null)}var F0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$0=Object.assign,B0={};function Bs(e,t,n){this.props=e,this.context=t,this.refs=B0,this.updater=n||F0}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z0(){}z0.prototype=Bs.prototype;function cp(e,t,n){this.props=e,this.context=t,this.refs=B0,this.updater=n||F0}var hp=cp.prototype=new z0;hp.constructor=cp;$0(hp,Bs.prototype);hp.isPureReactComponent=!0;var zm=Array.isArray,j0=Object.prototype.hasOwnProperty,fp={current:null},U0={key:!0,ref:!0,__self:!0,__source:!0};function H0(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)j0.call(t,i)&&!U0.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ba,type:e,key:s,ref:o,props:r,_owner:fp.current}}function ZS(e,t){return{$$typeof:Ba,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ba}function tI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jm=/\/+/g;function wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tI(""+e.key):t.toString(36)}function Yl(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ba:case jS:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+wh(o,0):i,zm(r)?(n="",e!=null&&(n=e.replace(jm,"$&/")+"/"),Yl(r,t,n,"",function(u){return u})):r!=null&&(dp(r)&&(r=ZS(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(jm,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",zm(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+wh(s,a);o+=Yl(s,t,n,l,r)}else if(l=JS(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+wh(s,a++),o+=Yl(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cl(e,t,n){if(e==null)return e;var i=[],r=0;return Yl(e,i,"","",function(s){return t.call(n,s,r++)}),i}function eI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},Xl={transition:null},nI={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:fp};st.Children={map:cl,forEach:function(e,t,n){cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!dp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=Bs;st.Fragment=US;st.Profiler=WS;st.PureComponent=cp;st.StrictMode=HS;st.Suspense=GS;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI;st.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=$0({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=fp.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)j0.call(t,l)&&!U0.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Ba,type:e.type,key:r,ref:s,props:i,_owner:o}};st.createContext=function(e){return e={$$typeof:KS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qS,_context:e},e.Consumer=e};st.createElement=H0;st.createFactory=function(e){var t=H0.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:QS,render:e}};st.isValidElement=dp;st.lazy=function(e){return{$$typeof:XS,_payload:{_status:-1,_result:e},_init:eI}};st.memo=function(e,t){return{$$typeof:YS,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Xl.transition;Xl.transition={};try{e()}finally{Xl.transition=t}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(e,t){return Re.current.useCallback(e,t)};st.useContext=function(e){return Re.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};st.useEffect=function(e,t){return Re.current.useEffect(e,t)};st.useId=function(){return Re.current.useId()};st.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};st.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Re.current.useMemo(e,t)};st.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};st.useRef=function(e){return Re.current.useRef(e)};st.useState=function(e){return Re.current.useState(e)};st.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};st.useTransition=function(){return Re.current.useTransition()};st.version="18.2.0";N0.exports=st;var D=N0.exports;const nn=zS(D),iI=BS({__proto__:null,default:nn},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=D,sI=Symbol.for("react.element"),oI=Symbol.for("react.fragment"),aI=Object.prototype.hasOwnProperty,lI=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uI={key:!0,ref:!0,__self:!0,__source:!0};function W0(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)aI.call(t,i)&&!uI.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:sI,type:e,key:s,ref:o,props:r,_owner:lI.current}}Ec.Fragment=oI;Ec.jsx=W0;Ec.jsxs=W0;L0.exports=Ec;var z=L0.exports,kf={},q0={exports:{}},Ge={},K0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,Q){var X=V.length;V.push(Q);t:for(;0<X;){var dt=X-1>>>1,_t=V[dt];if(0<r(_t,Q))V[dt]=Q,V[X]=_t,X=dt;else break t}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var Q=V[0],X=V.pop();if(X!==Q){V[0]=X;t:for(var dt=0,_t=V.length,Xe=_t>>>1;dt<Xe;){var fe=2*(dt+1)-1,fn=V[fe],re=fe+1,Yi=V[re];if(0>r(fn,X))re<_t&&0>r(Yi,fn)?(V[dt]=Yi,V[re]=X,dt=re):(V[dt]=fn,V[fe]=X,dt=fe);else if(re<_t&&0>r(Yi,X))V[dt]=Yi,V[re]=X,dt=re;else break t}}return Q}function r(V,Q){var X=V.sortIndex-Q.sortIndex;return X!==0?X:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(V){for(var Q=n(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=V)i(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(u)}}function E(V){if(y=!1,v(V),!g)if(n(l)!==null)g=!0,at(x);else{var Q=n(u);Q!==null&&vt(E,Q.startTime-V)}}function x(V,Q){g=!1,y&&(y=!1,m(k),k=-1),d=!0;var X=f;try{for(v(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||V&&!W());){var dt=h.callback;if(typeof dt=="function"){h.callback=null,f=h.priorityLevel;var _t=dt(h.expirationTime<=Q);Q=e.unstable_now(),typeof _t=="function"?h.callback=_t:h===n(l)&&i(l),v(Q)}else i(l);h=n(l)}if(h!==null)var Xe=!0;else{var fe=n(u);fe!==null&&vt(E,fe.startTime-Q),Xe=!1}return Xe}finally{h=null,f=X,d=!1}}var S=!1,I=null,k=-1,O=5,M=-1;function W(){return!(e.unstable_now()-M<O)}function F(){if(I!==null){var V=e.unstable_now();M=V;var Q=!0;try{Q=I(!0,V)}finally{Q?q():(S=!1,I=null)}}else S=!1}var q;if(typeof p=="function")q=function(){p(F)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,nt=ot.port2;ot.port1.onmessage=F,q=function(){nt.postMessage(null)}}else q=function(){_(F,0)};function at(V){I=V,S||(S=!0,q())}function vt(V,Q){k=_(function(){V(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,at(x))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var X=f;f=Q;try{return V()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=f;f=V;try{return Q()}finally{f=X}},e.unstable_scheduleCallback=function(V,Q,X){var dt=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?dt+X:dt):X=dt,V){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=X+_t,V={id:c++,callback:Q,priorityLevel:V,startTime:X,expirationTime:_t,sortIndex:-1},X>dt?(V.sortIndex=X,t(u,V),n(l)===null&&V===n(u)&&(y?(m(k),k=-1):y=!0,vt(E,X-dt))):(V.sortIndex=_t,t(l,V),g||d||(g=!0,at(x))),V},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(V){var Q=f;return function(){var X=f;f=Q;try{return V.apply(this,arguments)}finally{f=X}}}})(Q0);K0.exports=Q0;var cI=K0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=D,Ke=cI;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y0=new Set,Yo={};function Vr(e,t){xs(e,t),xs(e+"Capture",t)}function xs(e,t){for(Yo[e]=t,e=0;e<t.length;e++)Y0.add(t[e])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=Object.prototype.hasOwnProperty,hI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Um={},Hm={};function fI(e){return Af.call(Hm,e)?!0:Af.call(Um,e)?!1:hI.test(e)?Hm[e]=!0:(Um[e]=!0,!1)}function dI(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pI(e,t,n,i){if(t===null||typeof t>"u"||dI(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function gp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pp,gp);he[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pp,gp);he[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pp,gp);he[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function mp(e,t,n,i){var r=he.hasOwnProperty(t)?he[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pI(t,n,r,i)&&(n=null),i||r===null?fI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var li=G0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hl=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),bf=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),Z0=Symbol.for("react.offscreen"),Wm=Symbol.iterator;function Zs(e){return e===null||typeof e!="object"?null:(e=Wm&&e[Wm]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,Eh;function yo(e){if(Eh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eh=t&&t[1]||""}return`
`+Eh+e}var xh=!1;function Th(e,t){if(!e||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yo(e):""}function gI(e){switch(e.tag){case 5:return yo(e.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return e=Th(e.type,!1),e;case 11:return e=Th(e.type.render,!1),e;case 1:return e=Th(e.type,!0),e;default:return""}}function Rf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yr:return"Fragment";case Gr:return"Portal";case Pf:return"Profiler";case yp:return"StrictMode";case Cf:return"Suspense";case bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J0:return(e.displayName||"Context")+".Consumer";case X0:return(e._context.displayName||"Context")+".Provider";case _p:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vp:return t=e.displayName||null,t!==null?t:Rf(e.type)||"Memo";case hi:t=e._payload,e=e._init;try{return Rf(e(t))}catch{}}return null}function mI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rf(t);case 8:return t===yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ni(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yI(e){var t=t1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fl(e){e._valueTracker||(e._valueTracker=yI(e))}function e1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=t1(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function _u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Df(e,t){var n=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qm(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ni(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function n1(e,t){t=t.checked,t!=null&&mp(e,"checked",t,!1)}function Mf(e,t){n1(e,t);var n=Ni(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vf(e,t.type,Ni(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Km(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vf(e,t,n){(t!=="number"||_u(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _o=Array.isArray;function us(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ni(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Of(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(_o(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ni(n)}}function i1(e,t){var n=Ni(t.value),i=Ni(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Gm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function r1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?r1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dl,s1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_I=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){_I.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function o1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function a1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=o1(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var vI=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nf(e,t){if(t){if(vI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function Ff(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function wp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bf=null,cs=null,hs=null;function Ym(e){if(e=Ua(e)){if(typeof Bf!="function")throw Error(b(280));var t=e.stateNode;t&&(t=kc(t),Bf(e.stateNode,e.type,t))}}function l1(e){cs?hs?hs.push(e):hs=[e]:cs=e}function u1(){if(cs){var e=cs,t=hs;if(hs=cs=null,Ym(e),t)for(e=0;e<t.length;e++)Ym(t[e])}}function c1(e,t){return e(t)}function h1(){}var Sh=!1;function f1(e,t,n){if(Sh)return e(t,n);Sh=!0;try{return c1(e,t,n)}finally{Sh=!1,(cs!==null||hs!==null)&&(h1(),u1())}}function Jo(e,t){var n=e.stateNode;if(n===null)return null;var i=kc(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var zf=!1;if(ei)try{var to={};Object.defineProperty(to,"passive",{get:function(){zf=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{zf=!1}function wI(e,t,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ro=!1,vu=null,wu=!1,jf=null,EI={onError:function(e){Ro=!0,vu=e}};function xI(e,t,n,i,r,s,o,a,l){Ro=!1,vu=null,wI.apply(EI,arguments)}function TI(e,t,n,i,r,s,o,a,l){if(xI.apply(this,arguments),Ro){if(Ro){var u=vu;Ro=!1,vu=null}else throw Error(b(198));wu||(wu=!0,jf=u)}}function Or(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xm(e){if(Or(e)!==e)throw Error(b(188))}function SI(e){var t=e.alternate;if(!t){if(t=Or(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Xm(r),e;if(s===i)return Xm(r),t;s=s.sibling}throw Error(b(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==i)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function p1(e){return e=SI(e),e!==null?g1(e):null}function g1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g1(e);if(t!==null)return t;e=e.sibling}return null}var m1=Ke.unstable_scheduleCallback,Jm=Ke.unstable_cancelCallback,II=Ke.unstable_shouldYield,kI=Ke.unstable_requestPaint,$t=Ke.unstable_now,AI=Ke.unstable_getCurrentPriorityLevel,Ep=Ke.unstable_ImmediatePriority,y1=Ke.unstable_UserBlockingPriority,Eu=Ke.unstable_NormalPriority,PI=Ke.unstable_LowPriority,_1=Ke.unstable_IdlePriority,xc=null,Vn=null;function CI(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(xc,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:DI,bI=Math.log,RI=Math.LN2;function DI(e){return e>>>=0,e===0?32:31-(bI(e)/RI|0)|0}var pl=64,gl=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xu(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=vo(a):(s&=o,s!==0&&(i=vo(s)))}else o=n&~r,o!==0?i=vo(o):s!==0&&(i=vo(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-wn(t),r=1<<n,i|=e[n],t&=~r;return i}function MI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VI(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-wn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=MI(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Uf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v1(){var e=pl;return pl<<=1,!(pl&4194240)&&(pl=64),e}function Ih(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function za(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function OI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-wn(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function xp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-wn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var mt=0;function w1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var E1,Tp,x1,T1,S1,Hf=!1,ml=[],Si=null,Ii=null,ki=null,Zo=new Map,ta=new Map,di=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(t.pointerId)}}function eo(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Ua(t),t!==null&&Tp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function NI(e,t,n,i,r){switch(t){case"focusin":return Si=eo(Si,e,t,n,i,r),!0;case"dragenter":return Ii=eo(Ii,e,t,n,i,r),!0;case"mouseover":return ki=eo(ki,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Zo.set(s,eo(Zo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ta.set(s,eo(ta.get(s)||null,e,t,n,i,r)),!0}return!1}function I1(e){var t=or(e.target);if(t!==null){var n=Or(t);if(n!==null){if(t=n.tag,t===13){if(t=d1(n),t!==null){e.blockedOn=t,S1(e.priority,function(){x1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);$f=i,n.target.dispatchEvent(i),$f=null}else return t=Ua(n),t!==null&&Tp(t),e.blockedOn=n,!1;t.shift()}return!0}function ty(e,t,n){Jl(e)&&n.delete(t)}function FI(){Hf=!1,Si!==null&&Jl(Si)&&(Si=null),Ii!==null&&Jl(Ii)&&(Ii=null),ki!==null&&Jl(ki)&&(ki=null),Zo.forEach(ty),ta.forEach(ty)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,Hf||(Hf=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,FI)))}function ea(e){function t(r){return no(r,e)}if(0<ml.length){no(ml[0],e);for(var n=1;n<ml.length;n++){var i=ml[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Si!==null&&no(Si,e),Ii!==null&&no(Ii,e),ki!==null&&no(ki,e),Zo.forEach(t),ta.forEach(t),n=0;n<di.length;n++)i=di[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)I1(n),n.blockedOn===null&&di.shift()}var fs=li.ReactCurrentBatchConfig,Tu=!0;function $I(e,t,n,i){var r=mt,s=fs.transition;fs.transition=null;try{mt=1,Sp(e,t,n,i)}finally{mt=r,fs.transition=s}}function BI(e,t,n,i){var r=mt,s=fs.transition;fs.transition=null;try{mt=4,Sp(e,t,n,i)}finally{mt=r,fs.transition=s}}function Sp(e,t,n,i){if(Tu){var r=Wf(e,t,n,i);if(r===null)Oh(e,t,i,Su,n),Zm(e,i);else if(NI(r,e,t,n,i))i.stopPropagation();else if(Zm(e,i),t&4&&-1<LI.indexOf(e)){for(;r!==null;){var s=Ua(r);if(s!==null&&E1(s),s=Wf(e,t,n,i),s===null&&Oh(e,t,i,Su,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Oh(e,t,i,null,n)}}var Su=null;function Wf(e,t,n,i){if(Su=null,e=wp(i),e=or(e),e!==null)if(t=Or(e),t===null)e=null;else if(n=t.tag,n===13){if(e=d1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Su=e,null}function k1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AI()){case Ep:return 1;case y1:return 4;case Eu:case PI:return 16;case _1:return 536870912;default:return 16}default:return 16}}var gi=null,Ip=null,Zl=null;function A1(){if(Zl)return Zl;var e,t=Ip,n=t.length,i,r="value"in gi?gi.value:gi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return Zl=r.slice(e,1<i?1-i:void 0)}function tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function ey(){return!1}function Ye(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yl:ey,this.isPropagationStopped=ey,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kp=Ye(zs),ja=Dt({},zs,{view:0,detail:0}),zI=Ye(ja),kh,Ah,io,Tc=Dt({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(kh=e.screenX-io.screenX,Ah=e.screenY-io.screenY):Ah=kh=0,io=e),kh)},movementY:function(e){return"movementY"in e?e.movementY:Ah}}),ny=Ye(Tc),jI=Dt({},Tc,{dataTransfer:0}),UI=Ye(jI),HI=Dt({},ja,{relatedTarget:0}),Ph=Ye(HI),WI=Dt({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),qI=Ye(WI),KI=Dt({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QI=Ye(KI),GI=Dt({},zs,{data:0}),iy=Ye(GI),YI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JI[e])?!!t[e]:!1}function Ap(){return ZI}var tk=Dt({},ja,{key:function(e){if(e.key){var t=YI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(e){return e.type==="keypress"?tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ek=Ye(tk),nk=Dt({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=Ye(nk),ik=Dt({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),rk=Ye(ik),sk=Dt({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ok=Ye(sk),ak=Dt({},Tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lk=Ye(ak),uk=[9,13,27,32],Pp=ei&&"CompositionEvent"in window,Do=null;ei&&"documentMode"in document&&(Do=document.documentMode);var ck=ei&&"TextEvent"in window&&!Do,P1=ei&&(!Pp||Do&&8<Do&&11>=Do),sy=String.fromCharCode(32),oy=!1;function C1(e,t){switch(e){case"keyup":return uk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function hk(e,t){switch(e){case"compositionend":return b1(t);case"keypress":return t.which!==32?null:(oy=!0,sy);case"textInput":return e=t.data,e===sy&&oy?null:e;default:return null}}function fk(e,t){if(Xr)return e==="compositionend"||!Pp&&C1(e,t)?(e=A1(),Zl=Ip=gi=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P1&&t.locale!=="ko"?null:t.data;default:return null}}var dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dk[e.type]:t==="textarea"}function R1(e,t,n,i){l1(i),t=Iu(t,"onChange"),0<t.length&&(n=new kp("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Mo=null,na=null;function pk(e){j1(e,0)}function Sc(e){var t=ts(e);if(e1(t))return e}function gk(e,t){if(e==="change")return t}var D1=!1;if(ei){var Ch;if(ei){var bh="oninput"in document;if(!bh){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),bh=typeof ly.oninput=="function"}Ch=bh}else Ch=!1;D1=Ch&&(!document.documentMode||9<document.documentMode)}function uy(){Mo&&(Mo.detachEvent("onpropertychange",M1),na=Mo=null)}function M1(e){if(e.propertyName==="value"&&Sc(na)){var t=[];R1(t,na,e,wp(e)),f1(pk,t)}}function mk(e,t,n){e==="focusin"?(uy(),Mo=t,na=n,Mo.attachEvent("onpropertychange",M1)):e==="focusout"&&uy()}function yk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(na)}function _k(e,t){if(e==="click")return Sc(t)}function vk(e,t){if(e==="input"||e==="change")return Sc(t)}function wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:wk;function ia(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Af.call(t,r)||!xn(e[r],t[r]))return!1}return!0}function cy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hy(e,t){var n=cy(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cy(n)}}function V1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function O1(){for(var e=window,t=_u();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_u(e.document)}return t}function Cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ek(e){var t=O1(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&V1(n.ownerDocument.documentElement,n)){if(i!==null&&Cp(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=hy(n,s);var o=hy(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xk=ei&&"documentMode"in document&&11>=document.documentMode,Jr=null,qf=null,Vo=null,Kf=!1;function fy(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||Jr==null||Jr!==_u(i)||(i=Jr,"selectionStart"in i&&Cp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vo&&ia(Vo,i)||(Vo=i,i=Iu(qf,"onSelect"),0<i.length&&(t=new kp("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Jr)))}function _l(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},Rh={},L1={};ei&&(L1=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Ic(e){if(Rh[e])return Rh[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in L1)return Rh[e]=t[n];return e}var N1=Ic("animationend"),F1=Ic("animationiteration"),$1=Ic("animationstart"),B1=Ic("transitionend"),z1=new Map,dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(e,t){z1.set(e,t),Vr(t,[e])}for(var Dh=0;Dh<dy.length;Dh++){var Mh=dy[Dh],Tk=Mh.toLowerCase(),Sk=Mh[0].toUpperCase()+Mh.slice(1);Ui(Tk,"on"+Sk)}Ui(N1,"onAnimationEnd");Ui(F1,"onAnimationIteration");Ui($1,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(B1,"onTransitionEnd");xs("onMouseEnter",["mouseout","mouseover"]);xs("onMouseLeave",["mouseout","mouseover"]);xs("onPointerEnter",["pointerout","pointerover"]);xs("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ik=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function py(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,TI(i,t,void 0,e),e.currentTarget=null}function j1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;py(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;py(r,a,u),s=l}}}if(wu)throw e=jf,wu=!1,jf=null,e}function xt(e,t){var n=t[Jf];n===void 0&&(n=t[Jf]=new Set);var i=e+"__bubble";n.has(i)||(U1(t,e,2,!1),n.add(i))}function Vh(e,t,n){var i=0;t&&(i|=4),U1(n,e,i,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function ra(e){if(!e[vl]){e[vl]=!0,Y0.forEach(function(n){n!=="selectionchange"&&(Ik.has(n)||Vh(n,!1,e),Vh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,Vh("selectionchange",!1,t))}}function U1(e,t,n,i){switch(k1(t)){case 1:var r=$I;break;case 4:r=BI;break;default:r=Sp}n=r.bind(null,t,n,e),r=void 0,!zf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Oh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=or(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}f1(function(){var u=s,c=wp(n),h=[];t:{var f=z1.get(e);if(f!==void 0){var d=kp,g=e;switch(e){case"keypress":if(tu(n)===0)break t;case"keydown":case"keyup":d=ek;break;case"focusin":g="focus",d=Ph;break;case"focusout":g="blur",d=Ph;break;case"beforeblur":case"afterblur":d=Ph;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=UI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=rk;break;case N1:case F1:case $1:d=qI;break;case B1:d=ok;break;case"scroll":d=zI;break;case"wheel":d=lk;break;case"copy":case"cut":case"paste":d=QI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=ry}var y=(t&4)!==0,_=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,v;p!==null;){v=p;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=Jo(p,m),E!=null&&y.push(sa(p,E,v)))),_)break;p=p.return}0<y.length&&(f=new d(f,g,null,n,c),h.push({event:f,listeners:y}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==$f&&(g=n.relatedTarget||n.fromElement)&&(or(g)||g[ni]))break t;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?or(g):null,g!==null&&(_=Or(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(y=ny,E="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=ry,E="onPointerLeave",m="onPointerEnter",p="pointer"),_=d==null?f:ts(d),v=g==null?f:ts(g),f=new y(E,p+"leave",d,n,c),f.target=_,f.relatedTarget=v,E=null,or(c)===u&&(y=new y(m,p+"enter",g,n,c),y.target=v,y.relatedTarget=_,E=y),_=E,d&&g)e:{for(y=d,m=g,p=0,v=y;v;v=jr(v))p++;for(v=0,E=m;E;E=jr(E))v++;for(;0<p-v;)y=jr(y),p--;for(;0<v-p;)m=jr(m),v--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break e;y=jr(y),m=jr(m)}y=null}else y=null;d!==null&&gy(h,f,d,y,!1),g!==null&&_!==null&&gy(h,_,g,y,!0)}}t:{if(f=u?ts(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var x=gk;else if(ay(f))if(D1)x=vk;else{x=yk;var S=mk}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=_k);if(x&&(x=x(e,u))){R1(h,x,n,c);break t}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Vf(f,"number",f.value)}switch(S=u?ts(u):window,e){case"focusin":(ay(S)||S.contentEditable==="true")&&(Jr=S,qf=u,Vo=null);break;case"focusout":Vo=qf=Jr=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,fy(h,n,c);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":fy(h,n,c)}var I;if(Pp)t:{switch(e){case"compositionstart":var k="onCompositionStart";break t;case"compositionend":k="onCompositionEnd";break t;case"compositionupdate":k="onCompositionUpdate";break t}k=void 0}else Xr?C1(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(P1&&n.locale!=="ko"&&(Xr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xr&&(I=A1()):(gi=c,Ip="value"in gi?gi.value:gi.textContent,Xr=!0)),S=Iu(u,k),0<S.length&&(k=new iy(k,e,null,n,c),h.push({event:k,listeners:S}),I?k.data=I:(I=b1(n),I!==null&&(k.data=I)))),(I=ck?hk(e,n):fk(e,n))&&(u=Iu(u,"onBeforeInput"),0<u.length&&(c=new iy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=I))}j1(h,t)})}function sa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Iu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Jo(e,n),s!=null&&i.unshift(sa(e,s,r)),s=Jo(e,t),s!=null&&i.push(sa(e,s,r))),e=e.return}return i}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gy(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Jo(n,s),l!=null&&o.unshift(sa(n,l,a))):r||(l=Jo(n,s),l!=null&&o.push(sa(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kk=/\r\n?/g,Ak=/\u0000|\uFFFD/g;function my(e){return(typeof e=="string"?e:""+e).replace(kk,`
`).replace(Ak,"")}function wl(e,t,n){if(t=my(t),my(e)!==t&&n)throw Error(b(425))}function ku(){}var Qf=null,Gf=null;function Yf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,Pk=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(bk)}:Xf;function bk(e){setTimeout(function(){throw e})}function Lh(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),ea(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ea(t)}function Ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _y(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),Cn="__reactFiber$"+js,oa="__reactProps$"+js,ni="__reactContainer$"+js,Jf="__reactEvents$"+js,Rk="__reactListeners$"+js,Dk="__reactHandles$"+js;function or(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ni]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_y(e);e!==null;){if(n=e[Cn])return n;e=_y(e)}return t}e=n,n=e.parentNode}return null}function Ua(e){return e=e[Cn]||e[ni],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function kc(e){return e[oa]||null}var Zf=[],es=-1;function Hi(e){return{current:e}}function It(e){0>es||(e.current=Zf[es],Zf[es]=null,es--)}function Et(e,t){es++,Zf[es]=e.current,e.current=t}var Fi={},Se=Hi(Fi),Ne=Hi(!1),xr=Fi;function Ts(e,t){var n=e.type.contextTypes;if(!n)return Fi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Fe(e){return e=e.childContextTypes,e!=null}function Au(){It(Ne),It(Se)}function vy(e,t,n){if(Se.current!==Fi)throw Error(b(168));Et(Se,t),Et(Ne,n)}function H1(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(b(108,mI(e)||"Unknown",r));return Dt({},n,i)}function Pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,xr=Se.current,Et(Se,e),Et(Ne,Ne.current),!0}function wy(e,t,n){var i=e.stateNode;if(!i)throw Error(b(169));n?(e=H1(e,t,xr),i.__reactInternalMemoizedMergedChildContext=e,It(Ne),It(Se),Et(Se,e)):It(Ne),Et(Ne,n)}var Kn=null,Ac=!1,Nh=!1;function W1(e){Kn===null?Kn=[e]:Kn.push(e)}function Mk(e){Ac=!0,W1(e)}function Wi(){if(!Nh&&Kn!==null){Nh=!0;var e=0,t=mt;try{var n=Kn;for(mt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Kn=null,Ac=!1}catch(r){throw Kn!==null&&(Kn=Kn.slice(e+1)),m1(Ep,Wi),r}finally{mt=t,Nh=!1}}return null}var ns=[],is=0,Cu=null,bu=0,tn=[],en=0,Tr=null,Gn=1,Yn="";function er(e,t){ns[is++]=bu,ns[is++]=Cu,Cu=e,bu=t}function q1(e,t,n){tn[en++]=Gn,tn[en++]=Yn,tn[en++]=Tr,Tr=e;var i=Gn;e=Yn;var r=32-wn(i)-1;i&=~(1<<r),n+=1;var s=32-wn(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Gn=1<<32-wn(t)+r|n<<r|i,Yn=s+e}else Gn=1<<s|n<<r|i,Yn=e}function bp(e){e.return!==null&&(er(e,1),q1(e,1,0))}function Rp(e){for(;e===Cu;)Cu=ns[--is],ns[is]=null,bu=ns[--is],ns[is]=null;for(;e===Tr;)Tr=tn[--en],tn[en]=null,Yn=tn[--en],tn[en]=null,Gn=tn[--en],tn[en]=null}var We=null,je=null,Pt=!1,yn=null;function K1(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ey(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,je=Ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tr!==null?{id:Gn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,je=null,!0):!1;default:return!1}}function td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ed(e){if(Pt){var t=je;if(t){var n=t;if(!Ey(e,t)){if(td(e))throw Error(b(418));t=Ai(n.nextSibling);var i=We;t&&Ey(e,t)?K1(i,n):(e.flags=e.flags&-4097|2,Pt=!1,We=e)}}else{if(td(e))throw Error(b(418));e.flags=e.flags&-4097|2,Pt=!1,We=e}}}function xy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function El(e){if(e!==We)return!1;if(!Pt)return xy(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yf(e.type,e.memoizedProps)),t&&(t=je)){if(td(e))throw Q1(),Error(b(418));for(;t;)K1(e,t),t=Ai(t.nextSibling)}if(xy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){je=Ai(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}je=null}}else je=We?Ai(e.stateNode.nextSibling):null;return!0}function Q1(){for(var e=je;e;)e=Ai(e.nextSibling)}function Ss(){je=We=null,Pt=!1}function Dp(e){yn===null?yn=[e]:yn.push(e)}var Vk=li.ReactCurrentBatchConfig;function pn(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ru=Hi(null),Du=null,rs=null,Mp=null;function Vp(){Mp=rs=Du=null}function Op(e){var t=Ru.current;It(Ru),e._currentValue=t}function nd(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ds(e,t){Du=e,Mp=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Mp!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(Du===null)throw Error(b(308));rs=e,Du.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var ar=null;function Lp(e){ar===null?ar=[e]:ar.push(e)}function G1(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,Lp(t)):(n.next=r.next,r.next=n),t.interleaved=n,ii(e,i)}function ii(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fi=!1;function Np(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ct&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,ii(e,n)}return r=i.interleaved,r===null?(t.next=t,Lp(i)):(t.next=r.next,r.next=t),i.interleaved=t,ii(e,n)}function eu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,xp(e,n)}}function Ty(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mu(e,t,n,i){var r=e.updateQueue;fi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=e,y=a;switch(f=t,d=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(d,h,f);break t}h=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(d,h,f):g,f==null)break t;h=Dt({},h,f);break t;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Ir|=o,e.lanes=o,e.memoizedState=h}}function Sy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(b(191,r));r.call(i)}}}var X1=new G0.Component().refs;function id(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pc={isMounted:function(e){return(e=e._reactInternals)?Or(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=be(),r=bi(e),s=Zn(i,r);s.payload=t,n!=null&&(s.callback=n),t=Pi(e,s,r),t!==null&&(En(t,e,r,i),eu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=be(),r=bi(e),s=Zn(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Pi(e,s,r),t!==null&&(En(t,e,r,i),eu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),i=bi(e),r=Zn(n,i);r.tag=2,t!=null&&(r.callback=t),t=Pi(e,r,i),t!==null&&(En(t,e,i,n),eu(t,e,i))}};function Iy(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!ia(n,i)||!ia(r,s):!0}function J1(e,t,n){var i=!1,r=Fi,s=t.contextType;return typeof s=="object"&&s!==null?s=cn(s):(r=Fe(t)?xr:Se.current,i=t.contextTypes,s=(i=i!=null)?Ts(e,r):Fi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function ky(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Pc.enqueueReplaceState(t,t.state,null)}function rd(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=X1,Np(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=cn(s):(s=Fe(t)?xr:Se.current,r.context=Ts(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(id(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Pc.enqueueReplaceState(r,r.state,null),Mu(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function ro(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var i=n.stateNode}if(!i)throw Error(b(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;a===X1&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function xl(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ay(e){var t=e._init;return t(e._payload)}function Z1(e){function t(m,p){if(e){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function i(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function r(m,p){return m=Ri(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,E){return p===null||p.tag!==6?(p=Hh(v,m.mode,E),p.return=m,p):(p=r(p,v),p.return=m,p)}function l(m,p,v,E){var x=v.type;return x===Yr?c(m,p,v.props.children,E,v.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===hi&&Ay(x)===p.type)?(E=r(p,v.props),E.ref=ro(m,p,v),E.return=m,E):(E=au(v.type,v.key,v.props,null,m.mode,E),E.ref=ro(m,p,v),E.return=m,E)}function u(m,p,v,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Wh(v,m.mode,E),p.return=m,p):(p=r(p,v.children||[]),p.return=m,p)}function c(m,p,v,E,x){return p===null||p.tag!==7?(p=yr(v,m.mode,E,x),p.return=m,p):(p=r(p,v),p.return=m,p)}function h(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Hh(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case hl:return v=au(p.type,p.key,p.props,null,m.mode,v),v.ref=ro(m,null,p),v.return=m,v;case Gr:return p=Wh(p,m.mode,v),p.return=m,p;case hi:var E=p._init;return h(m,E(p._payload),v)}if(_o(p)||Zs(p))return p=yr(p,m.mode,v,null),p.return=m,p;xl(m,p)}return null}function f(m,p,v,E){var x=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(m,p,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hl:return v.key===x?l(m,p,v,E):null;case Gr:return v.key===x?u(m,p,v,E):null;case hi:return x=v._init,f(m,p,x(v._payload),E)}if(_o(v)||Zs(v))return x!==null?null:c(m,p,v,E,null);xl(m,v)}return null}function d(m,p,v,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,a(p,m,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hl:return m=m.get(E.key===null?v:E.key)||null,l(p,m,E,x);case Gr:return m=m.get(E.key===null?v:E.key)||null,u(p,m,E,x);case hi:var S=E._init;return d(m,p,v,S(E._payload),x)}if(_o(E)||Zs(E))return m=m.get(v)||null,c(p,m,E,x,null);xl(p,E)}return null}function g(m,p,v,E){for(var x=null,S=null,I=p,k=p=0,O=null;I!==null&&k<v.length;k++){I.index>k?(O=I,I=null):O=I.sibling;var M=f(m,I,v[k],E);if(M===null){I===null&&(I=O);break}e&&I&&M.alternate===null&&t(m,I),p=s(M,p,k),S===null?x=M:S.sibling=M,S=M,I=O}if(k===v.length)return n(m,I),Pt&&er(m,k),x;if(I===null){for(;k<v.length;k++)I=h(m,v[k],E),I!==null&&(p=s(I,p,k),S===null?x=I:S.sibling=I,S=I);return Pt&&er(m,k),x}for(I=i(m,I);k<v.length;k++)O=d(I,m,k,v[k],E),O!==null&&(e&&O.alternate!==null&&I.delete(O.key===null?k:O.key),p=s(O,p,k),S===null?x=O:S.sibling=O,S=O);return e&&I.forEach(function(W){return t(m,W)}),Pt&&er(m,k),x}function y(m,p,v,E){var x=Zs(v);if(typeof x!="function")throw Error(b(150));if(v=x.call(v),v==null)throw Error(b(151));for(var S=x=null,I=p,k=p=0,O=null,M=v.next();I!==null&&!M.done;k++,M=v.next()){I.index>k?(O=I,I=null):O=I.sibling;var W=f(m,I,M.value,E);if(W===null){I===null&&(I=O);break}e&&I&&W.alternate===null&&t(m,I),p=s(W,p,k),S===null?x=W:S.sibling=W,S=W,I=O}if(M.done)return n(m,I),Pt&&er(m,k),x;if(I===null){for(;!M.done;k++,M=v.next())M=h(m,M.value,E),M!==null&&(p=s(M,p,k),S===null?x=M:S.sibling=M,S=M);return Pt&&er(m,k),x}for(I=i(m,I);!M.done;k++,M=v.next())M=d(I,m,k,M.value,E),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?k:M.key),p=s(M,p,k),S===null?x=M:S.sibling=M,S=M);return e&&I.forEach(function(F){return t(m,F)}),Pt&&er(m,k),x}function _(m,p,v,E){if(typeof v=="object"&&v!==null&&v.type===Yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case hl:t:{for(var x=v.key,S=p;S!==null;){if(S.key===x){if(x=v.type,x===Yr){if(S.tag===7){n(m,S.sibling),p=r(S,v.props.children),p.return=m,m=p;break t}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===hi&&Ay(x)===S.type){n(m,S.sibling),p=r(S,v.props),p.ref=ro(m,S,v),p.return=m,m=p;break t}n(m,S);break}else t(m,S);S=S.sibling}v.type===Yr?(p=yr(v.props.children,m.mode,E,v.key),p.return=m,m=p):(E=au(v.type,v.key,v.props,null,m.mode,E),E.ref=ro(m,p,v),E.return=m,m=E)}return o(m);case Gr:t:{for(S=v.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=r(p,v.children||[]),p.return=m,m=p;break t}else{n(m,p);break}else t(m,p);p=p.sibling}p=Wh(v,m.mode,E),p.return=m,m=p}return o(m);case hi:return S=v._init,_(m,p,S(v._payload),E)}if(_o(v))return g(m,p,v,E);if(Zs(v))return y(m,p,v,E);xl(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=r(p,v),p.return=m,m=p):(n(m,p),p=Hh(v,m.mode,E),p.return=m,m=p),o(m)):n(m,p)}return _}var Is=Z1(!0),tw=Z1(!1),Ha={},On=Hi(Ha),aa=Hi(Ha),la=Hi(Ha);function lr(e){if(e===Ha)throw Error(b(174));return e}function Fp(e,t){switch(Et(la,t),Et(aa,e),Et(On,Ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lf(t,e)}It(On),Et(On,t)}function ks(){It(On),It(aa),It(la)}function ew(e){lr(la.current);var t=lr(On.current),n=Lf(t,e.type);t!==n&&(Et(aa,e),Et(On,n))}function $p(e){aa.current===e&&(It(On),It(aa))}var bt=Hi(0);function Vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function Bp(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var nu=li.ReactCurrentDispatcher,$h=li.ReactCurrentBatchConfig,Sr=0,Rt=null,Kt=null,Zt=null,Ou=!1,Oo=!1,ua=0,Ok=0;function de(){throw Error(b(321))}function zp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function jp(e,t,n,i,r,s){if(Sr=s,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nu.current=e===null||e.memoizedState===null?$k:Bk,e=n(i,r),Oo){s=0;do{if(Oo=!1,ua=0,25<=s)throw Error(b(301));s+=1,Zt=Kt=null,t.updateQueue=null,nu.current=zk,e=n(i,r)}while(Oo)}if(nu.current=Lu,t=Kt!==null&&Kt.next!==null,Sr=0,Zt=Kt=Rt=null,Ou=!1,t)throw Error(b(300));return e}function Up(){var e=ua!==0;return ua=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Rt.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function hn(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=Zt===null?Rt.memoizedState:Zt.next;if(t!==null)Zt=t,Kt=e;else{if(e===null)throw Error(b(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Zt===null?Rt.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function ca(e,t){return typeof t=="function"?t(e):t}function Bh(e){var t=hn(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var i=Kt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Sr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Rt.lanes|=c,Ir|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,xn(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,Rt.lanes|=s,Ir|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zh(e){var t=hn(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);xn(s,t.memoizedState)||(Le=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function nw(){}function iw(e,t){var n=Rt,i=hn(),r=t(),s=!xn(i.memoizedState,r);if(s&&(i.memoizedState=r,Le=!0),i=i.queue,Hp(ow.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Zt!==null&&Zt.memoizedState.tag&1){if(n.flags|=2048,ha(9,sw.bind(null,n,i,r,t),void 0,null),ee===null)throw Error(b(349));Sr&30||rw(n,t,r)}return r}function rw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sw(e,t,n,i){t.value=n,t.getSnapshot=i,aw(t)&&lw(e)}function ow(e,t,n){return n(function(){aw(t)&&lw(e)})}function aw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function lw(e){var t=ii(e,1);t!==null&&En(t,e,1,-1)}function Py(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t.queue=e,e=e.dispatch=Fk.bind(null,Rt,e),[t.memoizedState,e]}function ha(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function uw(){return hn().memoizedState}function iu(e,t,n,i){var r=An();Rt.flags|=e,r.memoizedState=ha(1|t,n,void 0,i===void 0?null:i)}function Cc(e,t,n,i){var r=hn();i=i===void 0?null:i;var s=void 0;if(Kt!==null){var o=Kt.memoizedState;if(s=o.destroy,i!==null&&zp(i,o.deps)){r.memoizedState=ha(t,n,s,i);return}}Rt.flags|=e,r.memoizedState=ha(1|t,n,s,i)}function Cy(e,t){return iu(8390656,8,e,t)}function Hp(e,t){return Cc(2048,8,e,t)}function cw(e,t){return Cc(4,2,e,t)}function hw(e,t){return Cc(4,4,e,t)}function fw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dw(e,t,n){return n=n!=null?n.concat([e]):null,Cc(4,4,fw.bind(null,t,e),n)}function Wp(){}function pw(e,t){var n=hn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&zp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function gw(e,t){var n=hn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&zp(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function mw(e,t,n){return Sr&21?(xn(n,t)||(n=v1(),Rt.lanes|=n,Ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Lk(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var i=$h.transition;$h.transition={};try{e(!1),t()}finally{mt=n,$h.transition=i}}function yw(){return hn().memoizedState}function Nk(e,t,n){var i=bi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},_w(e))vw(t,n);else if(n=G1(e,t,n,i),n!==null){var r=be();En(n,e,i,r),ww(n,t,i)}}function Fk(e,t,n){var i=bi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(_w(e))vw(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,xn(a,o)){var l=t.interleaved;l===null?(r.next=r,Lp(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=G1(e,t,r,i),n!==null&&(r=be(),En(n,e,i,r),ww(n,t,i))}}function _w(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function vw(e,t){Oo=Ou=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ww(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,xp(e,n)}}var Lu={readContext:cn,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},$k={readContext:cn,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,iu(4194308,4,fw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return iu(4194308,4,e,t)},useInsertionEffect:function(e,t){return iu(4,2,e,t)},useMemo:function(e,t){var n=An();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=An();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Nk.bind(null,Rt,e),[i.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:Py,useDebugValue:Wp,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=Py(!1),t=e[0];return e=Lk.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Rt,r=An();if(Pt){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ee===null)throw Error(b(349));Sr&30||rw(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Cy(ow.bind(null,i,s,e),[e]),i.flags|=2048,ha(9,sw.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=An(),t=ee.identifierPrefix;if(Pt){var n=Yn,i=Gn;n=(i&~(1<<32-wn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=ua++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ok++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bk={readContext:cn,useCallback:pw,useContext:cn,useEffect:Hp,useImperativeHandle:dw,useInsertionEffect:cw,useLayoutEffect:hw,useMemo:gw,useReducer:Bh,useRef:uw,useState:function(){return Bh(ca)},useDebugValue:Wp,useDeferredValue:function(e){var t=hn();return mw(t,Kt.memoizedState,e)},useTransition:function(){var e=Bh(ca)[0],t=hn().memoizedState;return[e,t]},useMutableSource:nw,useSyncExternalStore:iw,useId:yw,unstable_isNewReconciler:!1},zk={readContext:cn,useCallback:pw,useContext:cn,useEffect:Hp,useImperativeHandle:dw,useInsertionEffect:cw,useLayoutEffect:hw,useMemo:gw,useReducer:zh,useRef:uw,useState:function(){return zh(ca)},useDebugValue:Wp,useDeferredValue:function(e){var t=hn();return Kt===null?t.memoizedState=e:mw(t,Kt.memoizedState,e)},useTransition:function(){var e=zh(ca)[0],t=hn().memoizedState;return[e,t]},useMutableSource:nw,useSyncExternalStore:iw,useId:yw,unstable_isNewReconciler:!1};function As(e,t){try{var n="",i=t;do n+=gI(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function jh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jk=typeof WeakMap=="function"?WeakMap:Map;function Ew(e,t,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Fu||(Fu=!0,gd=i),sd(e,t)},n}function xw(e,t,n){n=Zn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){sd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sd(e,t),typeof i!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function by(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new jk;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=nA.bind(null,e,t,n),t.then(e,e))}function Ry(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dy(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zn(-1,1),t.tag=2,Pi(n,t,1))),n.lanes|=1),e)}var Uk=li.ReactCurrentOwner,Le=!1;function Ae(e,t,n,i){t.child=e===null?tw(t,null,n,i):Is(t,e.child,n,i)}function My(e,t,n,i,r){n=n.render;var s=t.ref;return ds(t,r),i=jp(e,t,n,i,s,r),n=Up(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ri(e,t,r)):(Pt&&n&&bp(t),t.flags|=1,Ae(e,t,i,r),t.child)}function Vy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Tw(e,t,s,i,r)):(e=au(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ia,n(o,i)&&e.ref===t.ref)return ri(e,t,r)}return t.flags|=1,e=Ri(s,i),e.ref=t.ref,e.return=t,t.child=e}function Tw(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(ia(s,i)&&e.ref===t.ref)if(Le=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,ri(e,t,r)}return od(e,t,n,i,r)}function Sw(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(os,ze),ze|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Et(os,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Et(os,ze),ze|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,Et(os,ze),ze|=i;return Ae(e,t,r,n),t.child}function Iw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function od(e,t,n,i,r){var s=Fe(n)?xr:Se.current;return s=Ts(t,s),ds(t,r),n=jp(e,t,n,i,s,r),i=Up(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ri(e,t,r)):(Pt&&i&&bp(t),t.flags|=1,Ae(e,t,n,r),t.child)}function Oy(e,t,n,i,r){if(Fe(n)){var s=!0;Pu(t)}else s=!1;if(ds(t,r),t.stateNode===null)ru(e,t),J1(t,n,i),rd(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Fe(n)?xr:Se.current,u=Ts(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&ky(t,o,i,u),fi=!1;var f=t.memoizedState;o.state=f,Mu(t,i,o,r),l=t.memoizedState,a!==i||f!==l||Ne.current||fi?(typeof c=="function"&&(id(t,n,c,i),l=t.memoizedState),(a=fi||Iy(t,n,a,i,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Y1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pn(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Fe(n)?xr:Se.current,l=Ts(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ky(t,o,i,l),fi=!1,f=t.memoizedState,o.state=f,Mu(t,i,o,r);var g=t.memoizedState;a!==h||f!==g||Ne.current||fi?(typeof d=="function"&&(id(t,n,d,i),g=t.memoizedState),(u=fi||Iy(t,n,u,i,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),o.props=i,o.state=g,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return ad(e,t,n,i,s,r)}function ad(e,t,n,i,r,s){Iw(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&wy(t,n,!1),ri(e,t,s);i=t.stateNode,Uk.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,s),t.child=Is(t,null,a,s)):Ae(e,t,a,s),t.memoizedState=i.state,r&&wy(t,n,!0),t.child}function kw(e){var t=e.stateNode;t.pendingContext?vy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vy(e,t.context,!1),Fp(e,t.containerInfo)}function Ly(e,t,n,i,r){return Ss(),Dp(r),t.flags|=256,Ae(e,t,n,i),t.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function Aw(e,t,n){var i=t.pendingProps,r=bt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Et(bt,r&1),e===null)return ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dc(o,i,0,null),e=yr(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ud(n),t.memoizedState=ld,e):qp(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Hk(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ri(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=yr(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?ud(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ld,i}return s=e.child,e=s.sibling,i=Ri(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qp(e,t){return t=Dc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tl(e,t,n,i){return i!==null&&Dp(i),Is(t,e.child,null,n),e=qp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hk(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=jh(Error(b(422))),Tl(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Dc({mode:"visible",children:i.children},r,0,null),s=yr(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=ud(o),t.memoizedState=ld,s);if(!(t.mode&1))return Tl(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(b(419)),i=jh(s,i,void 0),Tl(e,t,o,i)}if(a=(o&e.childLanes)!==0,Le||a){if(i=ee,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ii(e,r),En(i,e,r,-1))}return Jp(),i=jh(Error(b(421))),Tl(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=iA.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,je=Ai(r.nextSibling),We=t,Pt=!0,yn=null,e!==null&&(tn[en++]=Gn,tn[en++]=Yn,tn[en++]=Tr,Gn=e.id,Yn=e.overflow,Tr=t),t=qp(t,i.children),t.flags|=4096,t)}function Ny(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),nd(e.return,t,n)}function Uh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Pw(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Ae(e,t,i.children,n),i=bt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ny(e,n,t);else if(e.tag===19)Ny(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Et(bt,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Vu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Vu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uh(t,!0,n,null,s);break;case"together":Uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ru(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Ri(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ri(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wk(e,t,n){switch(t.tag){case 3:kw(t),Ss();break;case 5:ew(t);break;case 1:Fe(t.type)&&Pu(t);break;case 4:Fp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Et(Ru,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Et(bt,bt.current&1),t.flags|=128,null):n&t.child.childLanes?Aw(e,t,n):(Et(bt,bt.current&1),e=ri(e,t,n),e!==null?e.sibling:null);Et(bt,bt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Pw(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Et(bt,bt.current),i)break;return null;case 22:case 23:return t.lanes=0,Sw(e,t,n)}return ri(e,t,n)}var Cw,cd,bw,Rw;Cw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cd=function(){};bw=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,lr(On.current);var s=null;switch(n){case"input":r=Df(e,r),i=Df(e,i),s=[];break;case"select":r=Dt({},r,{value:void 0}),i=Dt({},i,{value:void 0}),s=[];break;case"textarea":r=Of(e,r),i=Of(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ku)}Nf(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Rw=function(e,t,n,i){n!==i&&(t.flags|=4)};function so(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qk(e,t,n){var i=t.pendingProps;switch(Rp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return Fe(t.type)&&Au(),pe(t),null;case 3:return i=t.stateNode,ks(),It(Ne),It(Se),Bp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(El(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yn!==null&&(_d(yn),yn=null))),cd(e,t),pe(t),null;case 5:$p(t);var r=lr(la.current);if(n=t.type,e!==null&&t.stateNode!=null)bw(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(b(166));return pe(t),null}if(e=lr(On.current),El(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Cn]=t,i[oa]=s,e=(t.mode&1)!==0,n){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(r=0;r<wo.length;r++)xt(wo[r],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":qm(i,s),xt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},xt("invalid",i);break;case"textarea":Qm(i,s),xt("invalid",i)}Nf(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&wl(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wl(i.textContent,a,e),r=["children",""+a]):Yo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xt("scroll",i)}switch(n){case"input":fl(i),Km(i,s,!0);break;case"textarea":fl(i),Gm(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=ku)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=r1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Cn]=t,e[oa]=i,Cw(e,t,!1,!1),t.stateNode=e;t:{switch(o=Ff(n,i),n){case"dialog":xt("cancel",e),xt("close",e),r=i;break;case"iframe":case"object":case"embed":xt("load",e),r=i;break;case"video":case"audio":for(r=0;r<wo.length;r++)xt(wo[r],e);r=i;break;case"source":xt("error",e),r=i;break;case"img":case"image":case"link":xt("error",e),xt("load",e),r=i;break;case"details":xt("toggle",e),r=i;break;case"input":qm(e,i),r=Df(e,i),xt("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Dt({},i,{value:void 0}),xt("invalid",e);break;case"textarea":Qm(e,i),r=Of(e,i),xt("invalid",e);break;default:r=i}Nf(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?a1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xo(e,l):typeof l=="number"&&Xo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xt("scroll",e):l!=null&&mp(e,s,l,o))}switch(n){case"input":fl(e),Km(e,i,!1);break;case"textarea":fl(e),Gm(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ni(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?us(e,!!i.multiple,s,!1):i.defaultValue!=null&&us(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=ku)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)Rw(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(b(166));if(n=lr(la.current),lr(On.current),El(t)){if(i=t.stateNode,n=t.memoizedProps,i[Cn]=t,(s=i.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:wl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wl(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Cn]=t,t.stateNode=i}return pe(t),null;case 13:if(It(bt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&je!==null&&t.mode&1&&!(t.flags&128))Q1(),Ss(),t.flags|=98560,s=!1;else if(s=El(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(b(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[Cn]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),s=!1}else yn!==null&&(_d(yn),yn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||bt.current&1?Qt===0&&(Qt=3):Jp())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return ks(),cd(e,t),e===null&&ra(t.stateNode.containerInfo),pe(t),null;case 10:return Op(t.type._context),pe(t),null;case 17:return Fe(t.type)&&Au(),pe(t),null;case 19:if(It(bt),s=t.memoizedState,s===null)return pe(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)so(s,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vu(e),o!==null){for(t.flags|=128,so(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Et(bt,bt.current&1|2),t.child}e=e.sibling}s.tail!==null&&$t()>Ps&&(t.flags|=128,i=!0,so(s,!1),t.lanes=4194304)}else{if(!i)if(e=Vu(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),so(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pt)return pe(t),null}else 2*$t()-s.renderingStartTime>Ps&&n!==1073741824&&(t.flags|=128,i=!0,so(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$t(),t.sibling=null,n=bt.current,Et(bt,i?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return Xp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?ze&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function Kk(e,t){switch(Rp(t),t.tag){case 1:return Fe(t.type)&&Au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ks(),It(Ne),It(Se),Bp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $p(t),null;case 13:if(It(bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return It(bt),null;case 4:return ks(),null;case 10:return Op(t.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Sl=!1,_e=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,$=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ot(e,t,i)}else n.current=null}function hd(e,t,n){try{n()}catch(i){Ot(e,t,i)}}var Fy=!1;function Gk(e,t){if(Qf=Tu,e=O1(),Cp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;e:for(;;){for(var d;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break e;if(f===n&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:e,selectionRange:n},Tu=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:pn(t.type,y),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(E){Ot(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return g=Fy,Fy=!1,g}function Lo(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&hd(t,n,s)}r=r.next}while(r!==i)}}function bc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function fd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dw(e){var t=e.alternate;t!==null&&(e.alternate=null,Dw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[oa],delete t[Jf],delete t[Rk],delete t[Dk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mw(e){return e.tag===5||e.tag===3||e.tag===4}function $y(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Mw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ku));else if(i!==4&&(e=e.child,e!==null))for(dd(e,t,n),e=e.sibling;e!==null;)dd(e,t,n),e=e.sibling}function pd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}var oe=null,gn=!1;function ui(e,t,n){for(n=n.child;n!==null;)Vw(e,t,n),n=n.sibling}function Vw(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(xc,n)}catch{}switch(n.tag){case 5:_e||ss(n,t);case 6:var i=oe,r=gn;oe=null,ui(e,t,n),oe=i,gn=r,oe!==null&&(gn?(e=oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(gn?(e=oe,n=n.stateNode,e.nodeType===8?Lh(e.parentNode,n):e.nodeType===1&&Lh(e,n),ea(e)):Lh(oe,n.stateNode));break;case 4:i=oe,r=gn,oe=n.stateNode.containerInfo,gn=!0,ui(e,t,n),oe=i,gn=r;break;case 0:case 11:case 14:case 15:if(!_e&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hd(n,t,o),r=r.next}while(r!==i)}ui(e,t,n);break;case 1:if(!_e&&(ss(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ot(n,t,a)}ui(e,t,n);break;case 21:ui(e,t,n);break;case 22:n.mode&1?(_e=(i=_e)||n.memoizedState!==null,ui(e,t,n),_e=i):ui(e,t,n);break;default:ui(e,t,n)}}function By(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qk),t.forEach(function(i){var r=rA.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function dn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:oe=a.stateNode,gn=!1;break t;case 3:oe=a.stateNode.containerInfo,gn=!0;break t;case 4:oe=a.stateNode.containerInfo,gn=!0;break t}a=a.return}if(oe===null)throw Error(b(160));Vw(s,o,r),oe=null,gn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ot(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ow(t,e),t=t.sibling}function Ow(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),In(e),i&4){try{Lo(3,e,e.return),bc(3,e)}catch(y){Ot(e,e.return,y)}try{Lo(5,e,e.return)}catch(y){Ot(e,e.return,y)}}break;case 1:dn(t,e),In(e),i&512&&n!==null&&ss(n,n.return);break;case 5:if(dn(t,e),In(e),i&512&&n!==null&&ss(n,n.return),e.flags&32){var r=e.stateNode;try{Xo(r,"")}catch(y){Ot(e,e.return,y)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&n1(r,s),Ff(a,o);var u=Ff(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?a1(r,h):c==="dangerouslySetInnerHTML"?s1(r,h):c==="children"?Xo(r,h):mp(r,c,h,u)}switch(a){case"input":Mf(r,s);break;case"textarea":i1(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?us(r,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?us(r,!!s.multiple,s.defaultValue,!0):us(r,!!s.multiple,s.multiple?[]:"",!1))}r[oa]=s}catch(y){Ot(e,e.return,y)}}break;case 6:if(dn(t,e),In(e),i&4){if(e.stateNode===null)throw Error(b(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(y){Ot(e,e.return,y)}}break;case 3:if(dn(t,e),In(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ea(t.containerInfo)}catch(y){Ot(e,e.return,y)}break;case 4:dn(t,e),In(e);break;case 13:dn(t,e),In(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Gp=$t())),i&4&&By(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(u=_e)||c,dn(t,e),_e=u):dn(t,e),In(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for($=e,c=e.child;c!==null;){for(h=$=c;$!==null;){switch(f=$,d=f.child,f.tag){case 0:case 11:case 14:case 15:Lo(4,f,f.return);break;case 1:ss(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Ot(i,n,y)}}break;case 5:ss(f,f.return);break;case 22:if(f.memoizedState!==null){jy(h);continue}}d!==null?(d.return=f,$=d):jy(h)}c=c.sibling}t:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=o1("display",o))}catch(y){Ot(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ot(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dn(t,e),In(e),i&4&&By(e);break;case 21:break;default:dn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(Mw(n)){var i=n;break t}n=n.return}throw Error(b(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Xo(r,""),i.flags&=-33);var s=$y(e);pd(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=$y(e);dd(e,a,o);break;default:throw Error(b(161))}}catch(l){Ot(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yk(e,t,n){$=e,Lw(e)}function Lw(e,t,n){for(var i=(e.mode&1)!==0;$!==null;){var r=$,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Sl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||_e;a=Sl;var u=_e;if(Sl=o,(_e=l)&&!u)for($=r;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Uy(r):l!==null?(l.return=o,$=l):Uy(r);for(;s!==null;)$=s,Lw(s),s=s.sibling;$=r,Sl=a,_e=u}zy(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,$=s):zy(e)}}function zy(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||bc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!_e)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:pn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sy(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sy(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ea(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}_e||t.flags&512&&fd(t)}catch(f){Ot(t,t.return,f)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function jy(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Uy(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bc(4,t)}catch(l){Ot(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){Ot(t,r,l)}}var s=t.return;try{fd(t)}catch(l){Ot(t,s,l)}break;case 5:var o=t.return;try{fd(t)}catch(l){Ot(t,o,l)}}}catch(l){Ot(t,t.return,l)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var Xk=Math.ceil,Nu=li.ReactCurrentDispatcher,Kp=li.ReactCurrentOwner,ln=li.ReactCurrentBatchConfig,ct=0,ee=null,Ut=null,ue=0,ze=0,os=Hi(0),Qt=0,fa=null,Ir=0,Rc=0,Qp=0,No=null,Ve=null,Gp=0,Ps=1/0,qn=null,Fu=!1,gd=null,Ci=null,Il=!1,mi=null,$u=0,Fo=0,md=null,su=-1,ou=0;function be(){return ct&6?$t():su!==-1?su:su=$t()}function bi(e){return e.mode&1?ct&2&&ue!==0?ue&-ue:Vk.transition!==null?(ou===0&&(ou=v1()),ou):(e=mt,e!==0||(e=window.event,e=e===void 0?16:k1(e.type)),e):1}function En(e,t,n,i){if(50<Fo)throw Fo=0,md=null,Error(b(185));za(e,n,i),(!(ct&2)||e!==ee)&&(e===ee&&(!(ct&2)&&(Rc|=n),Qt===4&&pi(e,ue)),$e(e,i),n===1&&ct===0&&!(t.mode&1)&&(Ps=$t()+500,Ac&&Wi()))}function $e(e,t){var n=e.callbackNode;VI(e,t);var i=xu(e,e===ee?ue:0);if(i===0)n!==null&&Jm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Jm(n),t===1)e.tag===0?Mk(Hy.bind(null,e)):W1(Hy.bind(null,e)),Ck(function(){!(ct&6)&&Wi()}),n=null;else{switch(w1(i)){case 1:n=Ep;break;case 4:n=y1;break;case 16:n=Eu;break;case 536870912:n=_1;break;default:n=Eu}n=Hw(n,Nw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nw(e,t){if(su=-1,ou=0,ct&6)throw Error(b(327));var n=e.callbackNode;if(ps()&&e.callbackNode!==n)return null;var i=xu(e,e===ee?ue:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Bu(e,i);else{t=i;var r=ct;ct|=2;var s=$w();(ee!==e||ue!==t)&&(qn=null,Ps=$t()+500,mr(e,t));do try{tA();break}catch(a){Fw(e,a)}while(1);Vp(),Nu.current=s,ct=r,Ut!==null?t=0:(ee=null,ue=0,t=Qt)}if(t!==0){if(t===2&&(r=Uf(e),r!==0&&(i=r,t=yd(e,r))),t===1)throw n=fa,mr(e,0),pi(e,i),$e(e,$t()),n;if(t===6)pi(e,i);else{if(r=e.current.alternate,!(i&30)&&!Jk(r)&&(t=Bu(e,i),t===2&&(s=Uf(e),s!==0&&(i=s,t=yd(e,s))),t===1))throw n=fa,mr(e,0),pi(e,i),$e(e,$t()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(b(345));case 2:nr(e,Ve,qn);break;case 3:if(pi(e,i),(i&130023424)===i&&(t=Gp+500-$t(),10<t)){if(xu(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){be(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Xf(nr.bind(null,e,Ve,qn),t);break}nr(e,Ve,qn);break;case 4:if(pi(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-wn(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=$t()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Xk(i/1960))-i,10<i){e.timeoutHandle=Xf(nr.bind(null,e,Ve,qn),i);break}nr(e,Ve,qn);break;case 5:nr(e,Ve,qn);break;default:throw Error(b(329))}}}return $e(e,$t()),e.callbackNode===n?Nw.bind(null,e):null}function yd(e,t){var n=No;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=Bu(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&_d(t)),e}function _d(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Jk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!xn(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pi(e,t){for(t&=~Qp,t&=~Rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),i=1<<n;e[n]=-1,t&=~i}}function Hy(e){if(ct&6)throw Error(b(327));ps();var t=xu(e,0);if(!(t&1))return $e(e,$t()),null;var n=Bu(e,t);if(e.tag!==0&&n===2){var i=Uf(e);i!==0&&(t=i,n=yd(e,i))}if(n===1)throw n=fa,mr(e,0),pi(e,t),$e(e,$t()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,Ve,qn),$e(e,$t()),null}function Yp(e,t){var n=ct;ct|=1;try{return e(t)}finally{ct=n,ct===0&&(Ps=$t()+500,Ac&&Wi())}}function kr(e){mi!==null&&mi.tag===0&&!(ct&6)&&ps();var t=ct;ct|=1;var n=ln.transition,i=mt;try{if(ln.transition=null,mt=1,e)return e()}finally{mt=i,ln.transition=n,ct=t,!(ct&6)&&Wi()}}function Xp(){ze=os.current,It(os)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pk(n)),Ut!==null)for(n=Ut.return;n!==null;){var i=n;switch(Rp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Au();break;case 3:ks(),It(Ne),It(Se),Bp();break;case 5:$p(i);break;case 4:ks();break;case 13:It(bt);break;case 19:It(bt);break;case 10:Op(i.type._context);break;case 22:case 23:Xp()}n=n.return}if(ee=e,Ut=e=Ri(e.current,null),ue=ze=t,Qt=0,fa=null,Qp=Rc=Ir=0,Ve=No=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}ar=null}return e}function Fw(e,t){do{var n=Ut;try{if(Vp(),nu.current=Lu,Ou){for(var i=Rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ou=!1}if(Sr=0,Zt=Kt=Rt=null,Oo=!1,ua=0,Kp.current=null,n===null||n.return===null){Qt=1,fa=t,Ut=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Ry(o);if(d!==null){d.flags&=-257,Dy(d,o,a,s,t),d.mode&1&&by(s,u,t),t=d,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break t}else{if(!(t&1)){by(s,u,t),Jp();break t}l=Error(b(426))}}else if(Pt&&a.mode&1){var _=Ry(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Dy(_,o,a,s,t),Dp(As(l,a));break t}}s=l=As(l,a),Qt!==4&&(Qt=2),No===null?No=[s]:No.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Ew(s,l,t);Ty(s,m);break t;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ci===null||!Ci.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=xw(s,a,t);Ty(s,E);break t}}s=s.return}while(s!==null)}zw(n)}catch(x){t=x,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(1)}function $w(){var e=Nu.current;return Nu.current=Lu,e===null?Lu:e}function Jp(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),ee===null||!(Ir&268435455)&&!(Rc&268435455)||pi(ee,ue)}function Bu(e,t){var n=ct;ct|=2;var i=$w();(ee!==e||ue!==t)&&(qn=null,mr(e,t));do try{Zk();break}catch(r){Fw(e,r)}while(1);if(Vp(),ct=n,Nu.current=i,Ut!==null)throw Error(b(261));return ee=null,ue=0,Qt}function Zk(){for(;Ut!==null;)Bw(Ut)}function tA(){for(;Ut!==null&&!II();)Bw(Ut)}function Bw(e){var t=Uw(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?zw(e):Ut=t,Kp.current=null}function zw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kk(n,t),n!==null){n.flags&=32767,Ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,Ut=null;return}}else if(n=qk(n,t,ze),n!==null){Ut=n;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);Qt===0&&(Qt=5)}function nr(e,t,n){var i=mt,r=ln.transition;try{ln.transition=null,mt=1,eA(e,t,n,i)}finally{ln.transition=r,mt=i}return null}function eA(e,t,n,i){do ps();while(mi!==null);if(ct&6)throw Error(b(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(OI(e,s),e===ee&&(Ut=ee=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,Hw(Eu,function(){return ps(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=mt;mt=1;var a=ct;ct|=4,Kp.current=null,Gk(e,n),Ow(n,e),Ek(Gf),Tu=!!Qf,Gf=Qf=null,e.current=n,Yk(n),kI(),ct=a,mt=o,ln.transition=s}else e.current=n;if(Il&&(Il=!1,mi=e,$u=r),s=e.pendingLanes,s===0&&(Ci=null),CI(n.stateNode),$e(e,$t()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Fu)throw Fu=!1,e=gd,gd=null,e;return $u&1&&e.tag!==0&&ps(),s=e.pendingLanes,s&1?e===md?Fo++:(Fo=0,md=e):Fo=0,Wi(),null}function ps(){if(mi!==null){var e=w1($u),t=ln.transition,n=mt;try{if(ln.transition=null,mt=16>e?16:e,mi===null)var i=!1;else{if(e=mi,mi=null,$u=0,ct&6)throw Error(b(331));var r=ct;for(ct|=4,$=e.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:Lo(8,c,s)}var h=c.child;if(h!==null)h.return=c,$=h;else for(;$!==null;){c=$;var f=c.sibling,d=c.return;if(Dw(c),c===u){$=null;break}if(f!==null){f.return=d,$=f;break}$=d}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else t:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,$=m;break t}$=s.return}}var p=e.current;for($=p;$!==null;){o=$;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,$=v;else t:for(o=p;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bc(9,a)}}catch(x){Ot(a,a.return,x)}if(a===o){$=null;break t}var E=a.sibling;if(E!==null){E.return=a.return,$=E;break t}$=a.return}}if(ct=r,Wi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(xc,e)}catch{}i=!0}return i}finally{mt=n,ln.transition=t}}return!1}function Wy(e,t,n){t=As(n,t),t=Ew(e,t,1),e=Pi(e,t,1),t=be(),e!==null&&(za(e,1,t),$e(e,t))}function Ot(e,t,n){if(e.tag===3)Wy(e,e,n);else for(;t!==null;){if(t.tag===3){Wy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ci===null||!Ci.has(i))){e=As(n,e),e=xw(t,e,1),t=Pi(t,e,1),e=be(),t!==null&&(za(t,1,e),$e(t,e));break}}t=t.return}}function nA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,ee===e&&(ue&n)===n&&(Qt===4||Qt===3&&(ue&130023424)===ue&&500>$t()-Gp?mr(e,0):Qp|=n),$e(e,t)}function jw(e,t){t===0&&(e.mode&1?(t=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):t=1);var n=be();e=ii(e,t),e!==null&&(za(e,t,n),$e(e,n))}function iA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jw(e,n)}function rA(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(b(314))}i!==null&&i.delete(t),jw(e,n)}var Uw;Uw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Wk(e,t,n);Le=!!(e.flags&131072)}else Le=!1,Pt&&t.flags&1048576&&q1(t,bu,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ru(e,t),e=t.pendingProps;var r=Ts(t,Se.current);ds(t,n),r=jp(null,t,i,e,r,n);var s=Up();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(i)?(s=!0,Pu(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Np(t),r.updater=Pc,t.stateNode=r,r._reactInternals=t,rd(t,i,e,n),t=ad(null,t,i,!0,s,n)):(t.tag=0,Pt&&s&&bp(t),Ae(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(ru(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=oA(i),e=pn(i,e),r){case 0:t=od(null,t,i,e,n);break t;case 1:t=Oy(null,t,i,e,n);break t;case 11:t=My(null,t,i,e,n);break t;case 14:t=Vy(null,t,i,pn(i.type,e),n);break t}throw Error(b(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:pn(i,r),od(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:pn(i,r),Oy(e,t,i,r,n);case 3:t:{if(kw(t),e===null)throw Error(b(387));i=t.pendingProps,s=t.memoizedState,r=s.element,Y1(e,t),Mu(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=As(Error(b(423)),t),t=Ly(e,t,i,n,r);break t}else if(i!==r){r=As(Error(b(424)),t),t=Ly(e,t,i,n,r);break t}else for(je=Ai(t.stateNode.containerInfo.firstChild),We=t,Pt=!0,yn=null,n=tw(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ss(),i===r){t=ri(e,t,n);break t}Ae(e,t,i,n)}t=t.child}return t;case 5:return ew(t),e===null&&ed(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,Yf(i,r)?o=null:s!==null&&Yf(i,s)&&(t.flags|=32),Iw(e,t),Ae(e,t,o,n),t.child;case 6:return e===null&&ed(t),null;case 13:return Aw(e,t,n);case 4:return Fp(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Is(t,null,i,n):Ae(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:pn(i,r),My(e,t,i,r,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,Et(Ru,i._currentValue),i._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===r.children&&!Ne.current){t=ri(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Zn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nd(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ae(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,ds(t,n),r=cn(r),i=i(r),t.flags|=1,Ae(e,t,i,n),t.child;case 14:return i=t.type,r=pn(i,t.pendingProps),r=pn(i.type,r),Vy(e,t,i,r,n);case 15:return Tw(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:pn(i,r),ru(e,t),t.tag=1,Fe(i)?(e=!0,Pu(t)):e=!1,ds(t,n),J1(t,i,r),rd(t,i,r,n),ad(null,t,i,!0,e,n);case 19:return Pw(e,t,n);case 22:return Sw(e,t,n)}throw Error(b(156,t.tag))};function Hw(e,t){return m1(e,t)}function sA(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,i){return new sA(e,t,n,i)}function Zp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oA(e){if(typeof e=="function")return Zp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_p)return 11;if(e===vp)return 14}return 2}function Ri(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function au(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")Zp(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Yr:return yr(n.children,r,s,t);case yp:o=8,r|=8;break;case Pf:return e=on(12,n,t,r|2),e.elementType=Pf,e.lanes=s,e;case Cf:return e=on(13,n,t,r),e.elementType=Cf,e.lanes=s,e;case bf:return e=on(19,n,t,r),e.elementType=bf,e.lanes=s,e;case Z0:return Dc(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X0:o=10;break t;case J0:o=9;break t;case _p:o=11;break t;case vp:o=14;break t;case hi:o=16,i=null;break t}throw Error(b(130,e==null?e:typeof e,""))}return t=on(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function yr(e,t,n,i){return e=on(7,e,i,t),e.lanes=n,e}function Dc(e,t,n,i){return e=on(22,e,i,t),e.elementType=Z0,e.lanes=n,e.stateNode={isHidden:!1},e}function Hh(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Wh(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aA(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function tg(e,t,n,i,r,s,o,a,l){return e=new aA(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=on(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(s),e}function lA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Ww(e){if(!e)return Fi;e=e._reactInternals;t:{if(Or(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Fe(n))return H1(e,n,t)}return t}function qw(e,t,n,i,r,s,o,a,l){return e=tg(n,i,!0,e,r,s,o,a,l),e.context=Ww(null),n=e.current,i=be(),r=bi(n),s=Zn(i,r),s.callback=t??null,Pi(n,s,r),e.current.lanes=r,za(e,r,i),$e(e,i),e}function Mc(e,t,n,i){var r=t.current,s=be(),o=bi(r);return n=Ww(n),t.context===null?t.context=n:t.pendingContext=n,t=Zn(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Pi(r,t,o),e!==null&&(En(e,r,o,s),eu(e,r,o)),o}function zu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eg(e,t){qy(e,t),(e=e.alternate)&&qy(e,t)}function uA(){return null}var Kw=typeof reportError=="function"?reportError:function(e){console.error(e)};function ng(e){this._internalRoot=e}Vc.prototype.render=ng.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));Mc(e,t,null,null)};Vc.prototype.unmount=ng.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){Mc(null,e,null,null)}),t[ni]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=T1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&t!==0&&t<di[n].priority;n++);di.splice(n,0,e),n===0&&I1(e)}};function ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ky(){}function cA(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=zu(o);s.call(u)}}var o=qw(t,i,e,0,null,!1,!1,"",Ky);return e._reactRootContainer=o,e[ni]=o.current,ra(e.nodeType===8?e.parentNode:e),kr(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=zu(l);a.call(u)}}var l=tg(e,0,!1,null,null,!1,!1,"",Ky);return e._reactRootContainer=l,e[ni]=l.current,ra(e.nodeType===8?e.parentNode:e),kr(function(){Mc(t,l,n,i)}),l}function Lc(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=zu(o);a.call(l)}}Mc(t,o,e,r)}else o=cA(n,t,e,r,i);return zu(o)}E1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vo(t.pendingLanes);n!==0&&(xp(t,n|1),$e(t,$t()),!(ct&6)&&(Ps=$t()+500,Wi()))}break;case 13:kr(function(){var i=ii(e,1);if(i!==null){var r=be();En(i,e,1,r)}}),eg(e,1)}};Tp=function(e){if(e.tag===13){var t=ii(e,134217728);if(t!==null){var n=be();En(t,e,134217728,n)}eg(e,134217728)}};x1=function(e){if(e.tag===13){var t=bi(e),n=ii(e,t);if(n!==null){var i=be();En(n,e,t,i)}eg(e,t)}};T1=function(){return mt};S1=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};Bf=function(e,t,n){switch(t){case"input":if(Mf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=kc(i);if(!r)throw Error(b(90));e1(i),Mf(i,r)}}}break;case"textarea":i1(e,n);break;case"select":t=n.value,t!=null&&us(e,!!n.multiple,t,!1)}};c1=Yp;h1=kr;var hA={usingClientEntryPoint:!1,Events:[Ua,ts,kc,l1,u1,Yp]},oo={findFiberByHostInstance:or,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fA={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p1(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||uA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{xc=kl.inject(fA),Vn=kl}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(t))throw Error(b(200));return lA(e,t,null,n)};Ge.createRoot=function(e,t){if(!ig(e))throw Error(b(299));var n=!1,i="",r=Kw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=tg(e,1,!1,null,null,n,!1,i,r),e[ni]=t.current,ra(e.nodeType===8?e.parentNode:e),new ng(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=p1(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return kr(e)};Ge.hydrate=function(e,t,n){if(!Oc(t))throw Error(b(200));return Lc(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!ig(e))throw Error(b(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Kw;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qw(t,null,e,1,n??null,r,!1,s,o),e[ni]=t.current,ra(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Vc(t)};Ge.render=function(e,t,n){if(!Oc(t))throw Error(b(200));return Lc(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!Oc(e))throw Error(b(40));return e._reactRootContainer?(kr(function(){Lc(null,null,e,!1,function(){e._reactRootContainer=null,e[ni]=null})}),!0):!1};Ge.unstable_batchedUpdates=Yp;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Oc(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Lc(e,t,n,!1,i)};Ge.version="18.2.0-next-9e3b772b8-20220608";function Qw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qw)}catch(e){console.error(e)}}Qw(),q0.exports=Ge;var dA=q0.exports,Qy=dA;kf.createRoot=Qy.createRoot,kf.hydrateRoot=Qy.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},da.apply(this,arguments)}var yi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yi||(yi={}));const Gy="popstate";function pA(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return vd("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:ju(r)}return mA(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gA(){return Math.random().toString(36).substr(2,8)}function Yy(e,t){return{usr:e.state,key:e.key,idx:t}}function vd(e,t,n,i){return n===void 0&&(n=null),da({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Us(t):t,{state:n,key:t&&t.key||i||gA()})}function ju(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Us(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function mA(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=yi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(da({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=yi.Pop;let _=c(),m=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:m})}function f(_,m){a=yi.Push;let p=vd(y.location,_,m);n&&n(p,_),u=c()+1;let v=Yy(p,u),E=y.createHref(p);try{o.pushState(v,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function d(_,m){a=yi.Replace;let p=vd(y.location,_,m);n&&n(p,_),u=c();let v=Yy(p,u),E=y.createHref(p);o.replaceState(v,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function g(_){let m=r.location.origin!=="null"?r.location.origin:r.location.href,p=typeof _=="string"?_:ju(_);return Wt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return a},get location(){return e(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Gy,h),l=_,()=>{r.removeEventListener(Gy,h),l=null}},createHref(_){return t(r,_)},createURL:g,encodeLocation(_){let m=g(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(_){return o.go(_)}};return y}var Xy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xy||(Xy={}));function yA(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?Us(t):t,r=sg(i.pathname||"/",n);if(r==null)return null;let s=Gw(e);_A(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=AA(s[a],bA(r));return o}function Gw(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Wt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Di([i,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Wt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gw(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:IA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Yw(s.path))r(s,o,l)}),t}function Yw(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Yw(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function _A(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kA(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const vA=/^:\w+$/,wA=3,EA=2,xA=1,TA=10,SA=-2,Jy=e=>e==="*";function IA(e,t){let n=e.split("/"),i=n.length;return n.some(Jy)&&(i+=SA),t&&(i+=EA),n.filter(r=>!Jy(r)).reduce((r,s)=>r+(vA.test(s)?wA:s===""?xA:TA),i)}function kA(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function AA(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=r==="/"?t:t.slice(r.length)||"/",c=PA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=a.route;s.push({params:i,pathname:Di([r,c.pathname]),pathnameBase:VA(Di([r,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(r=Di([r,c.pathnameBase]))}return s}function PA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=CA(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=RA(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function CA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function bA(e){try{return decodeURI(e)}catch(t){return rg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function RA(e,t){try{return decodeURIComponent(e)}catch(n){return rg(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function sg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function DA(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Us(e):e;return{pathname:n?n.startsWith("/")?n:MA(n,t):t,search:OA(i),hash:LA(r)}}function MA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function qh(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jw(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=Us(e):(r=da({},e),Wt(!r.pathname||!r.pathname.includes("?"),qh("?","pathname","search",r)),Wt(!r.pathname||!r.pathname.includes("#"),qh("#","pathname","hash",r)),Wt(!r.search||!r.search.includes("#"),qh("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=DA(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Di=e=>e.join("/").replace(/\/\/+/g,"/"),VA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zw=["post","put","patch","delete"];new Set(Zw);const FA=["get",...Zw];new Set(FA);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uu.apply(this,arguments)}const og=D.createContext(null),$A=D.createContext(null),Hs=D.createContext(null),Nc=D.createContext(null),Lr=D.createContext({outlet:null,matches:[],isDataRoute:!1}),tE=D.createContext(null);function BA(e,t){let{relative:n}=t===void 0?{}:t;Wa()||Wt(!1);let{basename:i,navigator:r}=D.useContext(Hs),{hash:s,pathname:o,search:a}=nE(e,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Di([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Wa(){return D.useContext(Nc)!=null}function Fc(){return Wa()||Wt(!1),D.useContext(Nc).location}function eE(e){D.useContext(Hs).static||D.useLayoutEffect(e)}function zA(){let{isDataRoute:e}=D.useContext(Lr);return e?tP():jA()}function jA(){Wa()||Wt(!1);let e=D.useContext(og),{basename:t,navigator:n}=D.useContext(Hs),{matches:i}=D.useContext(Lr),{pathname:r}=Fc(),s=JSON.stringify(Xw(i).map(l=>l.pathnameBase)),o=D.useRef(!1);return eE(()=>{o.current=!0}),D.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Jw(l,JSON.parse(s),r,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Di([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,r,e])}function nE(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=D.useContext(Lr),{pathname:r}=Fc(),s=JSON.stringify(Xw(i).map(o=>o.pathnameBase));return D.useMemo(()=>Jw(e,JSON.parse(s),r,n==="path"),[e,s,r,n])}function UA(e,t){return HA(e,t)}function HA(e,t,n){Wa()||Wt(!1);let{navigator:i}=D.useContext(Hs),{matches:r}=D.useContext(Lr),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Fc(),u;if(t){var c;let y=typeof t=="string"?Us(t):t;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Wt(!1),u=y}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=yA(e,{pathname:f}),g=GA(d&&d.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Di([a,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Di([a,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n);return t&&g?D.createElement(Nc.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yi.Pop}},g):g}function WA(){let e=ZA(),t=NA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:r},n):null,s)}const qA=D.createElement(WA,null);class KA extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?D.createElement(Lr.Provider,{value:this.props.routeContext},D.createElement(tE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QA(e){let{routeContext:t,match:n,children:i}=e,r=D.useContext(og);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Lr.Provider,{value:t},i)}function GA(e,t,n){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var r;if((r=n)!=null&&r.errors)e=n.matches;else return null}let s=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Wt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||qA);let f=t.concat(s.slice(0,u+1)),d=()=>{let g;return c?g=h:l.route.Component?g=D.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,D.createElement(QA,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?D.createElement(KA,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var iE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iE||{}),Hu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hu||{});function YA(e){let t=D.useContext(og);return t||Wt(!1),t}function XA(e){let t=D.useContext($A);return t||Wt(!1),t}function JA(e){let t=D.useContext(Lr);return t||Wt(!1),t}function rE(e){let t=JA(),n=t.matches[t.matches.length-1];return n.route.id||Wt(!1),n.route.id}function ZA(){var e;let t=D.useContext(tE),n=XA(Hu.UseRouteError),i=rE(Hu.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function tP(){let{router:e}=YA(iE.UseNavigateStable),t=rE(Hu.UseNavigateStable),n=D.useRef(!1);return eE(()=>{n.current=!0}),D.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Uu({fromRouteId:t},s)))},[e,t])}function wd(e){Wt(!1)}function eP(e){let{basename:t="/",children:n=null,location:i,navigationType:r=yi.Pop,navigator:s,static:o=!1}=e;Wa()&&Wt(!1);let a=t.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=Us(i));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=i,g=D.useMemo(()=>{let y=sg(u,a);return y==null?null:{location:{pathname:y,search:c,hash:h,state:f,key:d},navigationType:r}},[a,u,c,h,f,d,r]);return g==null?null:D.createElement(Hs.Provider,{value:l},D.createElement(Nc.Provider,{children:n,value:g}))}function nP(e){let{children:t,location:n}=e;return UA(Ed(t),n)}new Promise(()=>{});function Ed(e,t){t===void 0&&(t=[]);let n=[];return D.Children.forEach(e,(i,r)=>{if(!D.isValidElement(i))return;let s=[...t,r];if(i.type===D.Fragment){n.push.apply(n,Ed(i.props.children,s));return}i.type!==wd&&Wt(!1),!i.props.index||!i.props.children||Wt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Ed(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xd.apply(this,arguments)}function iP(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function rP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sP(e,t){return e.button===0&&(!t||t==="_self")&&!rP(e)}const oP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],aP="startTransition",Zy=iI[aP];function lP(e){let{basename:t,children:n,future:i,window:r}=e,s=D.useRef();s.current==null&&(s.current=pA({window:r,v5Compat:!0}));let o=s.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},c=D.useCallback(h=>{u&&Zy?Zy(()=>l(h)):l(h)},[l,u]);return D.useLayoutEffect(()=>o.listen(c),[o,c]),D.createElement(eP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const uP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t_=D.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,h=iP(t,oP),{basename:f}=D.useContext(Hs),d,g=!1;if(typeof u=="string"&&cP.test(u)&&(d=u,uP))try{let p=new URL(window.location.href),v=u.startsWith("//")?new URL(p.protocol+u):new URL(u),E=sg(v.pathname,f);v.origin===p.origin&&E!=null?u=E+v.search+v.hash:g=!0}catch{}let y=BA(u,{relative:r}),_=hP(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:r});function m(p){i&&i(p),p.defaultPrevented||_(p)}return D.createElement("a",xd({},h,{href:d||y,onClick:g||s?i:m,ref:n,target:l}))});var e_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(e_||(e_={}));var n_;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n_||(n_={}));function hP(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=zA(),l=Fc(),u=nE(e,{relative:o});return D.useCallback(c=>{if(sP(c,n)){c.preventDefault();let h=i!==void 0?i:ju(l)===ju(u);a(e,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,n,e,s,o])}var qa=e=>e.type==="checkbox",as=e=>e instanceof Date,Pe=e=>e==null;const sE=e=>typeof e=="object";var Xt=e=>!Pe(e)&&!Array.isArray(e)&&sE(e)&&!as(e),fP=e=>Xt(e)&&e.target?qa(e.target)?e.target.checked:e.target.value:e,dP=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pP=(e,t)=>e.has(dP(t)),gP=e=>{const t=e.constructor&&e.constructor.prototype;return Xt(t)&&t.hasOwnProperty("isPrototypeOf")},ag=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Un(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ag&&(e instanceof Blob||e instanceof FileList))&&(n||Xt(e)))if(t=n?[]:{},!n&&!gP(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Un(e[i]));else return e;return t}var Ka=e=>Array.isArray(e)?e.filter(Boolean):[],zt=e=>e===void 0,U=(e,t,n)=>{if(!t||!Xt(e))return n;const i=Ka(t.split(/[,[\].]+?/)).reduce((r,s)=>Pe(r)?r:r[s],e);return zt(i)||i===e?zt(e[t])?n:e[t]:i};const i_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_n={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};nn.createContext(null);var mP=(e,t,n,i=!0)=>{const r={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(r,s,{get:()=>{const o=s;return t._proxyFormState[o]!==_n.all&&(t._proxyFormState[o]=!i||_n.all),n&&(n[o]=!0),e[o]}});return r},Ze=e=>Xt(e)&&!Object.keys(e).length,yP=(e,t,n,i)=>{n(e);const{name:r,...s}=e;return Ze(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!i||_n.all))},Kh=e=>Array.isArray(e)?e:[e];function _P(e){const t=nn.useRef(e);t.current=e,nn.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var Rn=e=>typeof e=="string",vP=(e,t,n,i,r)=>Rn(e)?(i&&t.watch.add(e),U(n,e,r)):Array.isArray(e)?e.map(s=>(i&&t.watch.add(s),U(n,s))):(i&&(t.watchAll=!0),n),lg=e=>/^\w*$/.test(e),oE=e=>Ka(e.replace(/["|']|\]/g,"").split(/\.|\[/));function At(e,t,n){let i=-1;const r=lg(t)?[t]:oE(t),s=r.length,o=s-1;for(;++i<s;){const a=r[i];let l=n;if(i!==o){const u=e[a];l=Xt(u)||Array.isArray(u)?u:isNaN(+r[i+1])?{}:[]}e[a]=l,e=e[a]}return e}var wP=(e,t,n,i,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:r||!0}}:{};const Td=(e,t,n)=>{for(const i of n||Object.keys(e)){const r=U(e,i);if(r){const{_f:s,...o}=r;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Xt(o)&&Td(o,t)}}};var r_=e=>({isOnSubmit:!e||e===_n.onSubmit,isOnBlur:e===_n.onBlur,isOnChange:e===_n.onChange,isOnAll:e===_n.all,isOnTouch:e===_n.onTouched}),s_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length)))),EP=(e,t,n)=>{const i=Ka(U(e,n));return At(i,"root",t[n]),At(e,n,i),e},ur=e=>typeof e=="boolean",ug=e=>e.type==="file",_i=e=>typeof e=="function",Wu=e=>{if(!ag)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},lu=e=>Rn(e),cg=e=>e.type==="radio",qu=e=>e instanceof RegExp;const o_={value:!1,isValid:!1},a_={value:!0,isValid:!0};var aE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zt(e[0].attributes.value)?zt(e[0].value)||e[0].value===""?a_:{value:e[0].value,isValid:!0}:a_:o_}return o_};const l_={isValid:!1,value:null};var lE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,l_):l_;function u_(e,t,n="validate"){if(lu(e)||Array.isArray(e)&&e.every(lu)||ur(e)&&!e)return{type:n,message:lu(e)?e:"",ref:t}}var Ur=e=>Xt(e)&&!qu(e)?e:{value:e,message:""},c_=async(e,t,n,i,r)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:d,name:g,valueAsNumber:y,mount:_,disabled:m}=e._f,p=U(t,g);if(!_||m)return{};const v=o?o[0]:s,E=F=>{i&&v.reportValidity&&(v.setCustomValidity(ur(F)?"":F||""),v.reportValidity())},x={},S=cg(s),I=qa(s),k=S||I,O=(y||ug(s))&&zt(s.value)&&zt(p)||Wu(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,M=wP.bind(null,g,n,x),W=(F,q,ot,nt=zn.maxLength,at=zn.minLength)=>{const vt=F?q:ot;x[g]={type:F?nt:at,message:vt,ref:s,...M(F?nt:at,vt)}};if(r?!Array.isArray(p)||!p.length:a&&(!k&&(O||Pe(p))||ur(p)&&!p||I&&!aE(o).isValid||S&&!lE(o).isValid)){const{value:F,message:q}=lu(a)?{value:!!a,message:a}:Ur(a);if(F&&(x[g]={type:zn.required,message:q,ref:v,...M(zn.required,q)},!n))return E(q),x}if(!O&&(!Pe(c)||!Pe(h))){let F,q;const ot=Ur(h),nt=Ur(c);if(!Pe(p)&&!isNaN(p)){const at=s.valueAsNumber||p&&+p;Pe(ot.value)||(F=at>ot.value),Pe(nt.value)||(q=at<nt.value)}else{const at=s.valueAsDate||new Date(p),vt=X=>new Date(new Date().toDateString()+" "+X),V=s.type=="time",Q=s.type=="week";Rn(ot.value)&&p&&(F=V?vt(p)>vt(ot.value):Q?p>ot.value:at>new Date(ot.value)),Rn(nt.value)&&p&&(q=V?vt(p)<vt(nt.value):Q?p<nt.value:at<new Date(nt.value))}if((F||q)&&(W(!!F,ot.message,nt.message,zn.max,zn.min),!n))return E(x[g].message),x}if((l||u)&&!O&&(Rn(p)||r&&Array.isArray(p))){const F=Ur(l),q=Ur(u),ot=!Pe(F.value)&&p.length>+F.value,nt=!Pe(q.value)&&p.length<+q.value;if((ot||nt)&&(W(ot,F.message,q.message),!n))return E(x[g].message),x}if(f&&!O&&Rn(p)){const{value:F,message:q}=Ur(f);if(qu(F)&&!p.match(F)&&(x[g]={type:zn.pattern,message:q,ref:s,...M(zn.pattern,q)},!n))return E(q),x}if(d){if(_i(d)){const F=await d(p,t),q=u_(F,v);if(q&&(x[g]={...q,...M(zn.validate,q.message)},!n))return E(q.message),x}else if(Xt(d)){let F={};for(const q in d){if(!Ze(F)&&!n)break;const ot=u_(await d[q](p,t),v,q);ot&&(F={...ot,...M(q,ot.message)},E(ot.message),n&&(x[g]=F))}if(!Ze(F)&&(x[g]={ref:v,...F},!n))return x}}return E(!0),x};function xP(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=zt(e)?i++:e[t[i++]];return e}function TP(e){for(const t in e)if(e.hasOwnProperty(t)&&!zt(e[t]))return!1;return!0}function se(e,t){const n=Array.isArray(t)?t:lg(t)?[t]:oE(t),i=n.length===1?e:xP(e,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(Xt(i)&&Ze(i)||Array.isArray(i)&&TP(i))&&se(e,n.slice(0,-1)),e}function Qh(){let e=[];return{get observers(){return e},next:r=>{for(const s of e)s.next&&s.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(s=>s!==r)}}),unsubscribe:()=>{e=[]}}}var Ku=e=>Pe(e)||!sE(e);function cr(e,t){if(Ku(e)||Ku(t))return e===t;if(as(e)&&as(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const r of n){const s=e[r];if(!i.includes(r))return!1;if(r!=="ref"){const o=t[r];if(as(s)&&as(o)||Xt(s)&&Xt(o)||Array.isArray(s)&&Array.isArray(o)?!cr(s,o):s!==o)return!1}}return!0}var uE=e=>e.type==="select-multiple",SP=e=>cg(e)||qa(e),Gh=e=>Wu(e)&&e.isConnected,cE=e=>{for(const t in e)if(_i(e[t]))return!0;return!1};function Qu(e,t={}){const n=Array.isArray(e);if(Xt(e)||n)for(const i in e)Array.isArray(e[i])||Xt(e[i])&&!cE(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Qu(e[i],t[i])):Pe(e[i])||(t[i]=!0);return t}function hE(e,t,n){const i=Array.isArray(e);if(Xt(e)||i)for(const r in e)Array.isArray(e[r])||Xt(e[r])&&!cE(e[r])?zt(t)||Ku(n[r])?n[r]=Array.isArray(e[r])?Qu(e[r],[]):{...Qu(e[r])}:hE(e[r],Pe(t)?{}:t[r],n[r]):n[r]=!cr(e[r],t[r]);return n}var Yh=(e,t)=>hE(e,t,Qu(t)),fE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>zt(e)?e:t?e===""?NaN:e&&+e:n&&Rn(e)?new Date(e):i?i(e):e;function Xh(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return ug(t)?t.files:cg(t)?lE(e.refs).value:uE(t)?[...t.selectedOptions].map(({value:n})=>n):qa(t)?aE(e.refs).value:fE(zt(t.value)?e.ref.value:t.value,e)}var IP=(e,t,n,i)=>{const r={};for(const s of e){const o=U(t,s);o&&At(r,s,o._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:i}},ao=e=>zt(e)?e:qu(e)?e.source:Xt(e)?qu(e.value)?e.value.source:e.value:e,kP=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function h_(e,t,n){const i=U(e,n);if(i||lg(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),o=U(t,s),a=U(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};r.pop()}return{name:n}}var AP=(e,t,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(t||e):(n?i.isOnBlur:r.isOnBlur)?!e:(n?i.isOnChange:r.isOnChange)?e:!0,PP=(e,t)=>!Ka(U(e,t)).length&&se(e,t);const CP={mode:_n.onSubmit,reValidateMode:_n.onChange,shouldFocusError:!0};function bP(e={},t){let n={...CP,...e},i={submitCount:0,isDirty:!1,isLoading:_i(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},r={},s=Xt(n.defaultValues)||Xt(n.values)?Un(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Un(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Qh(),array:Qh(),state:Qh()},d=e.resetOptions&&e.resetOptions.keepDirtyValues,g=r_(n.mode),y=r_(n.reValidateMode),_=n.criteriaMode===_n.all,m=w=>T=>{clearTimeout(c),c=setTimeout(w,T)},p=async w=>{if(h.isValid||w){const T=n.resolver?Ze((await O()).errors):await W(r,!0);T!==i.isValid&&f.state.next({isValid:T})}},v=w=>h.isValidating&&f.state.next({isValidating:w}),E=(w,T=[],A,H,N=!0,R=!0)=>{if(H&&A){if(a.action=!0,R&&Array.isArray(U(r,w))){const G=A(U(r,w),H.argA,H.argB);N&&At(r,w,G)}if(R&&Array.isArray(U(i.errors,w))){const G=A(U(i.errors,w),H.argA,H.argB);N&&At(i.errors,w,G),PP(i.errors,w)}if(h.touchedFields&&R&&Array.isArray(U(i.touchedFields,w))){const G=A(U(i.touchedFields,w),H.argA,H.argB);N&&At(i.touchedFields,w,G)}h.dirtyFields&&(i.dirtyFields=Yh(s,o)),f.state.next({name:w,isDirty:q(w,T),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else At(o,w,T)},x=(w,T)=>{At(i.errors,w,T),f.state.next({errors:i.errors})},S=(w,T,A,H)=>{const N=U(r,w);if(N){const R=U(o,w,zt(A)?U(s,w):A);zt(R)||H&&H.defaultChecked||T?At(o,w,T?R:Xh(N._f)):at(w,R),a.mount&&p()}},I=(w,T,A,H,N)=>{let R=!1,G=!1;const Vt={name:w};if(!A||H){h.isDirty&&(G=i.isDirty,i.isDirty=Vt.isDirty=q(),R=G!==Vt.isDirty);const Ft=cr(U(s,w),T);G=U(i.dirtyFields,w),Ft?se(i.dirtyFields,w):At(i.dirtyFields,w,!0),Vt.dirtyFields=i.dirtyFields,R=R||h.dirtyFields&&G!==!Ft}if(A){const Ft=U(i.touchedFields,w);Ft||(At(i.touchedFields,w,A),Vt.touchedFields=i.touchedFields,R=R||h.touchedFields&&Ft!==A)}return R&&N&&f.state.next(Vt),R?Vt:{}},k=(w,T,A,H)=>{const N=U(i.errors,w),R=h.isValid&&ur(T)&&i.isValid!==T;if(e.delayError&&A?(u=m(()=>x(w,A)),u(e.delayError)):(clearTimeout(c),u=null,A?At(i.errors,w,A):se(i.errors,w)),(A?!cr(N,A):N)||!Ze(H)||R){const G={...H,...R&&ur(T)?{isValid:T}:{},errors:i.errors,name:w};i={...i,...G},f.state.next(G)}v(!1)},O=async w=>n.resolver(o,n.context,IP(w||l.mount,r,n.criteriaMode,n.shouldUseNativeValidation)),M=async w=>{const{errors:T}=await O(w);if(w)for(const A of w){const H=U(T,A);H?At(i.errors,A,H):se(i.errors,A)}else i.errors=T;return T},W=async(w,T,A={valid:!0})=>{for(const H in w){const N=w[H];if(N){const{_f:R,...G}=N;if(R){const Vt=l.array.has(R.name),Ft=await c_(N,o,_,n.shouldUseNativeValidation&&!T,Vt);if(Ft[R.name]&&(A.valid=!1,T))break;!T&&(U(Ft,R.name)?Vt?EP(i.errors,Ft,R.name):At(i.errors,R.name,Ft[R.name]):se(i.errors,R.name))}G&&await W(G,T,A)}}return A.valid},F=()=>{for(const w of l.unMount){const T=U(r,w);T&&(T._f.refs?T._f.refs.every(A=>!Gh(A)):!Gh(T._f.ref))&&re(w)}l.unMount=new Set},q=(w,T)=>(w&&T&&At(o,w,T),!cr(dt(),s)),ot=(w,T,A)=>vP(w,l,{...a.mount?o:zt(T)?s:Rn(w)?{[w]:T}:T},A,T),nt=w=>Ka(U(a.mount?o:s,w,e.shouldUnregister?U(s,w,[]):[])),at=(w,T,A={})=>{const H=U(r,w);let N=T;if(H){const R=H._f;R&&(!R.disabled&&At(o,w,fE(T,R)),N=Wu(R.ref)&&Pe(T)?"":T,uE(R.ref)?[...R.ref.options].forEach(G=>G.selected=N.includes(G.value)):R.refs?qa(R.ref)?R.refs.length>1?R.refs.forEach(G=>(!G.defaultChecked||!G.disabled)&&(G.checked=Array.isArray(N)?!!N.find(Vt=>Vt===G.value):N===G.value)):R.refs[0]&&(R.refs[0].checked=!!N):R.refs.forEach(G=>G.checked=G.value===N):ug(R.ref)?R.ref.value="":(R.ref.value=N,R.ref.type||f.values.next({name:w,values:{...o}})))}(A.shouldDirty||A.shouldTouch)&&I(w,N,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&X(w)},vt=(w,T,A)=>{for(const H in T){const N=T[H],R=`${w}.${H}`,G=U(r,R);(l.array.has(w)||!Ku(N)||G&&!G._f)&&!as(N)?vt(R,N,A):at(R,N,A)}},V=(w,T,A={})=>{const H=U(r,w),N=l.array.has(w),R=Un(T);At(o,w,R),N?(f.array.next({name:w,values:{...o}}),(h.isDirty||h.dirtyFields)&&A.shouldDirty&&f.state.next({name:w,dirtyFields:Yh(s,o),isDirty:q(w,R)})):H&&!H._f&&!Pe(R)?vt(w,R,A):at(w,R,A),s_(w,l)&&f.state.next({...i}),f.values.next({name:w,values:{...o}}),!a.mount&&t()},Q=async w=>{const T=w.target;let A=T.name,H=!0;const N=U(r,A),R=()=>T.type?Xh(N._f):fP(w);if(N){let G,Vt;const Ft=R(),zr=w.type===i_.BLUR||w.type===i_.FOCUS_OUT,OS=!kP(N._f)&&!n.resolver&&!U(i.errors,A)&&!N._f.deps||AP(zr,U(i.touchedFields,A),i.isSubmitted,y,g),_h=s_(A,l,zr);At(o,A,Ft),zr?(N._f.onBlur&&N._f.onBlur(w),u&&u(0)):N._f.onChange&&N._f.onChange(w);const vh=I(A,Ft,zr,!1),LS=!Ze(vh)||_h;if(!zr&&f.values.next({name:A,type:w.type,values:{...o}}),OS)return h.isValid&&p(),LS&&f.state.next({name:A,..._h?{}:vh});if(!zr&&_h&&f.state.next({...i}),v(!0),n.resolver){const{errors:Fm}=await O([A]),NS=h_(i.errors,r,A),$m=h_(Fm,r,NS.name||A);G=$m.error,A=$m.name,Vt=Ze(Fm)}else G=(await c_(N,o,_,n.shouldUseNativeValidation))[A],H=isNaN(Ft)||Ft===U(o,A,Ft),H&&(G?Vt=!1:h.isValid&&(Vt=await W(r,!0)));H&&(N._f.deps&&X(N._f.deps),k(A,Vt,G,vh))}},X=async(w,T={})=>{let A,H;const N=Kh(w);if(v(!0),n.resolver){const R=await M(zt(w)?w:N);A=Ze(R),H=w?!N.some(G=>U(R,G)):A}else w?(H=(await Promise.all(N.map(async R=>{const G=U(r,R);return await W(G&&G._f?{[R]:G}:G)}))).every(Boolean),!(!H&&!i.isValid)&&p()):H=A=await W(r);return f.state.next({...!Rn(w)||h.isValid&&A!==i.isValid?{}:{name:w},...n.resolver||!w?{isValid:A}:{},errors:i.errors,isValidating:!1}),T.shouldFocus&&!H&&Td(r,R=>R&&U(i.errors,R),w?N:l.mount),H},dt=w=>{const T={...s,...a.mount?o:{}};return zt(w)?T:Rn(w)?U(T,w):w.map(A=>U(T,A))},_t=(w,T)=>({invalid:!!U((T||i).errors,w),isDirty:!!U((T||i).dirtyFields,w),isTouched:!!U((T||i).touchedFields,w),error:U((T||i).errors,w)}),Xe=w=>{w&&Kh(w).forEach(T=>se(i.errors,T)),f.state.next({errors:w?i.errors:{}})},fe=(w,T,A)=>{const H=(U(r,w,{_f:{}})._f||{}).ref;At(i.errors,w,{...T,ref:H}),f.state.next({name:w,errors:i.errors,isValid:!1}),A&&A.shouldFocus&&H&&H.focus&&H.focus()},fn=(w,T)=>_i(w)?f.values.subscribe({next:A=>w(ot(void 0,T),A)}):ot(w,T,!0),re=(w,T={})=>{for(const A of w?Kh(w):l.mount)l.mount.delete(A),l.array.delete(A),T.keepValue||(se(r,A),se(o,A)),!T.keepError&&se(i.errors,A),!T.keepDirty&&se(i.dirtyFields,A),!T.keepTouched&&se(i.touchedFields,A),!n.shouldUnregister&&!T.keepDefaultValue&&se(s,A);f.values.next({values:{...o}}),f.state.next({...i,...T.keepDirty?{isDirty:q()}:{}}),!T.keepIsValid&&p()},Yi=({disabled:w,name:T,field:A,fields:H})=>{if(ur(w)){const N=w?void 0:U(o,T,Xh(A?A._f:U(H,T)._f));At(o,T,N),I(T,N,!1,!1,!0)}},yh=(w,T={})=>{let A=U(r,w);const H=ur(T.disabled);return At(r,w,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:w}},name:w,mount:!0,...T}}),l.mount.add(w),A?Yi({field:A,disabled:T.disabled,name:w}):S(w,!0,T.value),{...H?{disabled:T.disabled}:{},...n.progressive?{required:!!T.required,min:ao(T.min),max:ao(T.max),minLength:ao(T.minLength),maxLength:ao(T.maxLength),pattern:ao(T.pattern)}:{},name:w,onChange:Q,onBlur:Q,ref:N=>{if(N){yh(w,T),A=U(r,w);const R=zt(N.value)&&N.querySelectorAll&&N.querySelectorAll("input,select,textarea")[0]||N,G=SP(R),Vt=A._f.refs||[];if(G?Vt.find(Ft=>Ft===R):R===A._f.ref)return;At(r,w,{_f:{...A._f,...G?{refs:[...Vt.filter(Gh),R,...Array.isArray(U(s,w))?[{}]:[]],ref:{type:R.type,name:w}}:{ref:R}}}),S(w,!1,void 0,R)}else A=U(r,w,{}),A._f&&(A._f.mount=!1),(n.shouldUnregister||T.shouldUnregister)&&!(pP(l.array,w)&&a.action)&&l.unMount.add(w)}}},Vm=()=>n.shouldFocusError&&Td(r,w=>w&&U(i.errors,w),l.mount),Om=(w,T)=>async A=>{A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let H=Un(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:N,values:R}=await O();i.errors=N,H=R}else await W(r);se(i.errors,"root"),Ze(i.errors)?(f.state.next({errors:{}}),await w(H,A)):(T&&await T({...i.errors},A),Vm(),setTimeout(Vm)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ze(i.errors),submitCount:i.submitCount+1,errors:i.errors})},VS=(w,T={})=>{U(r,w)&&(zt(T.defaultValue)?V(w,U(s,w)):(V(w,T.defaultValue),At(s,w,T.defaultValue)),T.keepTouched||se(i.touchedFields,w),T.keepDirty||(se(i.dirtyFields,w),i.isDirty=T.defaultValue?q(w,U(s,w)):q()),T.keepError||(se(i.errors,w),h.isValid&&p()),f.state.next({...i}))},Lm=(w,T={})=>{const A=w?Un(w):s,H=Un(A),N=w&&!Ze(w)?H:s;if(T.keepDefaultValues||(s=A),!T.keepValues){if(T.keepDirtyValues||d)for(const R of l.mount)U(i.dirtyFields,R)?At(N,R,U(o,R)):V(R,U(N,R));else{if(ag&&zt(w))for(const R of l.mount){const G=U(r,R);if(G&&G._f){const Vt=Array.isArray(G._f.refs)?G._f.refs[0]:G._f.ref;if(Wu(Vt)){const Ft=Vt.closest("form");if(Ft){Ft.reset();break}}}}r={}}o=e.shouldUnregister?T.keepDefaultValues?Un(s):{}:Un(N),f.array.next({values:{...N}}),f.values.next({values:{...N}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!h.isValid||!!T.keepIsValid,a.watch=!!e.shouldUnregister,f.state.next({submitCount:T.keepSubmitCount?i.submitCount:0,isDirty:T.keepDirty?i.isDirty:!!(T.keepDefaultValues&&!cr(w,s)),isSubmitted:T.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:T.keepDirtyValues?i.dirtyFields:T.keepDefaultValues&&w?Yh(s,w):{},touchedFields:T.keepTouched?i.touchedFields:{},errors:T.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Nm=(w,T)=>Lm(_i(w)?w(o):w,T);return{control:{register:yh,unregister:re,getFieldState:_t,handleSubmit:Om,setError:fe,_executeSchema:O,_getWatch:ot,_getDirty:q,_updateValid:p,_removeUnmounted:F,_updateFieldArray:E,_updateDisabledField:Yi,_getFieldArray:nt,_reset:Lm,_resetDefaultValues:()=>_i(n.defaultValues)&&n.defaultValues().then(w=>{Nm(w,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:w=>{i={...i,...w}},_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(w){a=w},get _defaultValues(){return s},get _names(){return l},set _names(w){l=w},get _formState(){return i},set _formState(w){i=w},get _options(){return n},set _options(w){n={...n,...w}}},trigger:X,register:yh,handleSubmit:Om,watch:fn,setValue:V,getValues:dt,reset:Nm,resetField:VS,clearErrors:Xe,unregister:re,setError:fe,setFocus:(w,T={})=>{const A=U(r,w),H=A&&A._f;if(H){const N=H.refs?H.refs[0]:H.ref;N.focus&&(N.focus(),T.shouldSelect&&N.select())}},getFieldState:_t}}function dE(e={}){const t=nn.useRef(),n=nn.useRef(),[i,r]=nn.useState({isDirty:!1,isValidating:!1,isLoading:_i(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:_i(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...bP(e,()=>r(o=>({...o}))),formState:i});const s=t.current.control;return s._options=e,_P({subject:s._subjects.state,next:o=>{yP(o,s._proxyFormState,s._updateFormState,!0)&&r({...s._formState})}}),nn.useEffect(()=>{e.values&&!cr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values):s._resetDefaultValues()},[e.values,s]),nn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=mP(i,s),t.current}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},RP=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),i.push(n[c],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):RP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new DP;const f=s<<2|a>>4;if(i.push(f),u!==64){const d=a<<4&240|u>>2;if(i.push(d),h!==64){const g=u<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MP=function(e){const t=pE(e);return gE.encodeByteArray(t,!0)},Gu=function(e){return MP(e).replace(/\./g,"")},VP=function(e){try{return gE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=()=>OP().__FIREBASE_DEFAULTS__,NP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},FP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&VP(e[1]);return t&&JSON.parse(t)},mE=()=>{try{return LP()||NP()||FP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$P=e=>{var t,n;return(n=(t=mE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},BP=e=>{const t=$P(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},yE=()=>{var e;return(e=mE())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Gu(JSON.stringify(n)),Gu(JSON.stringify(o)),a].join(".")}function UP(){try{return typeof indexedDB=="object"}catch{return!1}}function HP(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="FirebaseError";class Ws extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=WP,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_E.prototype.create)}}class _E{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?qP(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ws(r,a,i)}}function qP(e,t){return e.replace(KP,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const KP=/\{\$([^}]+)}/g;function Sd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(f_(s)&&f_(o)){if(!Sd(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function f_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e){return e&&e._delegate?e._delegate:e}class pa{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new zP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YP(t))try{this.getOrInitializeService({instanceIdentifier:ir})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ir){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ir){return this.instances.has(t)}getOptions(t=ir){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GP(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ir){return this.component?this.component.multipleInstances?t:ir:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GP(e){return e===ir?void 0:e}function YP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new QP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ut||(ut={}));const JP={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},ZP=ut.INFO,tC={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},eC=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=tC[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vE{constructor(t){this.name=t,this._logLevel=ZP,this._logHandler=eC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}const nC=(e,t)=>t.some(n=>e instanceof n);let d_,p_;function iC(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rC(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Id=new WeakMap,EE=new WeakMap,Jh=new WeakMap,hg=new WeakMap;function sC(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Mi(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&wE.set(n,e)}).catch(()=>{}),hg.set(t,e),t}function oC(e){if(Id.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Id.set(e,t)}let kd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Id.get(e);if(t==="objectStoreNames")return e.objectStoreNames||EE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function aC(e){kd=e(kd)}function lC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Zh(this),t,...n);return EE.set(i,t.sort?t.sort():[t]),Mi(i)}:rC().includes(e)?function(...t){return e.apply(Zh(this),t),Mi(wE.get(this))}:function(...t){return Mi(e.apply(Zh(this),t))}}function uC(e){return typeof e=="function"?lC(e):(e instanceof IDBTransaction&&oC(e),nC(e,iC())?new Proxy(e,kd):e)}function Mi(e){if(e instanceof IDBRequest)return sC(e);if(Jh.has(e))return Jh.get(e);const t=uC(e);return t!==e&&(Jh.set(e,t),hg.set(t,e)),t}const Zh=e=>hg.get(e);function cC(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=Mi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hC=["get","getKey","getAll","getAllKeys","count"],fC=["put","add","delete","clear"],tf=new Map;function g_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tf.get(t))return tf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=fC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||hC.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return tf.set(t,s),s}aC(e=>({...e,get:(t,n,i)=>g_(t,n)||e.get(t,n,i),has:(t,n)=>!!g_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function pC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ad="@firebase/app",m_="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new vE("@firebase/app"),gC="@firebase/app-compat",mC="@firebase/analytics-compat",yC="@firebase/analytics",_C="@firebase/app-check-compat",vC="@firebase/app-check",wC="@firebase/auth",EC="@firebase/auth-compat",xC="@firebase/database",TC="@firebase/database-compat",SC="@firebase/functions",IC="@firebase/functions-compat",kC="@firebase/installations",AC="@firebase/installations-compat",PC="@firebase/messaging",CC="@firebase/messaging-compat",bC="@firebase/performance",RC="@firebase/performance-compat",DC="@firebase/remote-config",MC="@firebase/remote-config-compat",VC="@firebase/storage",OC="@firebase/storage-compat",LC="@firebase/firestore",NC="@firebase/firestore-compat",FC="firebase",$C="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="[DEFAULT]",BC={[Ad]:"fire-core",[gC]:"fire-core-compat",[yC]:"fire-analytics",[mC]:"fire-analytics-compat",[vC]:"fire-app-check",[_C]:"fire-app-check-compat",[wC]:"fire-auth",[EC]:"fire-auth-compat",[xC]:"fire-rtdb",[TC]:"fire-rtdb-compat",[SC]:"fire-fn",[IC]:"fire-fn-compat",[kC]:"fire-iid",[AC]:"fire-iid-compat",[PC]:"fire-fcm",[CC]:"fire-fcm-compat",[bC]:"fire-perf",[RC]:"fire-perf-compat",[DC]:"fire-rc",[MC]:"fire-rc-compat",[VC]:"fire-gcs",[OC]:"fire-gcs-compat",[LC]:"fire-fst",[NC]:"fire-fst-compat","fire-js":"fire-js",[FC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,Cd=new Map;function zC(e,t){try{e.container.addComponent(t)}catch(n){Pr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xu(e){const t=e.name;if(Cd.has(t))return Pr.debug(`There were multiple attempts to register component ${t}.`),!1;Cd.set(t,e);for(const n of Yu.values())zC(n,e);return!0}function jC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vi=new _E("app","Firebase",UC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=$C;function xE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Pd,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Vi.create("bad-app-name",{appName:String(r)});if(n||(n=yE()),!n)throw Vi.create("no-options");const s=Yu.get(r);if(s){if(Sd(n,s.options)&&Sd(i,s.config))return s;throw Vi.create("duplicate-app",{appName:r})}const o=new XP(r);for(const l of Cd.values())o.addComponent(l);const a=new HC(n,i,o);return Yu.set(r,a),a}function qC(e=Pd){const t=Yu.get(e);if(!t&&e===Pd&&yE())return xE();if(!t)throw Vi.create("no-app",{appName:e});return t}function gs(e,t,n){var i;let r=(i=BC[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Xu(new pa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firebase-heartbeat-database",QC=1,ga="firebase-heartbeat-store";let ef=null;function TE(){return ef||(ef=cC(KC,QC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ga)}}}).catch(e=>{throw Vi.create("idb-open",{originalErrorMessage:e.message})})),ef}async function GC(e){try{return await(await TE()).transaction(ga).objectStore(ga).get(SE(e))}catch(t){if(t instanceof Ws)Pr.warn(t.message);else{const n=Vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Pr.warn(n.message)}}}async function y_(e,t){try{const i=(await TE()).transaction(ga,"readwrite");await i.objectStore(ga).put(t,SE(e)),await i.done}catch(n){if(n instanceof Ws)Pr.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(i.message)}}}function SE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=1024,XC=30*24*60*60*1e3;class JC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=__();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=XC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=__(),{heartbeatsToSend:n,unsentEntries:i}=ZC(this._heartbeatsCache.heartbeats),r=Gu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function __(){return new Date().toISOString().substring(0,10)}function ZC(e,t=YC){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),v_(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),v_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UP()?HP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await GC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function v_(e){return Gu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(e){Xu(new pa("platform-logger",t=>new dC(t),"PRIVATE")),Xu(new pa("heartbeat",t=>new JC(t),"PRIVATE")),gs(Ad,m_,e),gs(Ad,m_,"esm2017"),gs("fire-js","")}eb("");var nb="firebase",ib="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(nb,ib,"app");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,fg=fg||{},Z=rb||self;function $c(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Qa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function sb(e){return Object.prototype.hasOwnProperty.call(e,nf)&&e[nf]||(e[nf]=++ob)}var nf="closure_uid_"+(1e9*Math.random()>>>0),ob=0;function ab(e,t,n){return e.call.apply(e.bind,arguments)}function lb(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Ee(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ee=ab:Ee=lb,Ee.apply(null,arguments)}function Al(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function ie(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function qi(){this.s=this.s,this.o=this.o}var ub=0;qi.prototype.s=!1;qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ub!=0)&&sb(this)};qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function dg(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function w_(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if($c(i)){const r=e.length||0,s=i.length||0;e.length=r+s;for(let o=0;o<s;o++)e[r+o]=i[o]}else e.push(i)}}function xe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var cb=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Z.addEventListener("test",()=>{},t),Z.removeEventListener("test",()=>{},t)}catch{}return e}();function ma(e){return/^[\s\xa0]*$/.test(e)}function Bc(){var e=Z.navigator;return e&&(e=e.userAgent)?e:""}function bn(e){return Bc().indexOf(e)!=-1}function pg(e){return pg[" "](e),e}pg[" "]=function(){};function hb(e,t){var n=iR;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var fb=bn("Opera"),Cs=bn("Trident")||bn("MSIE"),kE=bn("Edge"),bd=kE||Cs,AE=bn("Gecko")&&!(Bc().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge"))&&!(bn("Trident")||bn("MSIE"))&&!bn("Edge"),db=Bc().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge");function PE(){var e=Z.document;return e?e.documentMode:void 0}var Rd;t:{var rf="",sf=function(){var e=Bc();if(AE)return/rv:([^\);]+)(\)|;)/.exec(e);if(kE)return/Edge\/([\d\.]+)/.exec(e);if(Cs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(db)return/WebKit\/(\S+)/.exec(e);if(fb)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(sf&&(rf=sf?sf[1]:""),Cs){var of=PE();if(of!=null&&of>parseFloat(rf)){Rd=String(of);break t}}Rd=rf}var Dd;if(Z.document&&Cs){var E_=PE();Dd=E_||parseInt(Rd,10)||void 0}else Dd=void 0;var pb=Dd;function ya(e,t){if(xe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(AE){t:{try{pg(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:gb[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ya.$.h.call(this)}}ie(ya,xe);var gb={2:"touch",3:"pen",4:"mouse"};ya.prototype.h=function(){ya.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ga="closure_listenable_"+(1e6*Math.random()|0),mb=0;function yb(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++mb,this.fa=this.ia=!1}function zc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function gg(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function _b(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function CE(e){const t={};for(const n in e)t[n]=e[n];return t}const x_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bE(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let s=0;s<x_.length;s++)n=x_[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function jc(e){this.src=e,this.g={},this.h=0}jc.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Vd(e,t,i,r);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new yb(t,this.src,s,!!i,r),t.ia=n,e.push(t)),t};function Md(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=IE(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(zc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Vd(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}var mg="closure_lm_"+(1e6*Math.random()|0),af={};function RE(e,t,n,i,r){if(i&&i.once)return ME(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)RE(e,t[s],n,i,r);return null}return n=vg(n),e&&e[Ga]?e.O(t,n,Qa(i)?!!i.capture:!!i,r):DE(e,t,n,!1,i,r)}function DE(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=Qa(r)?!!r.capture:!!r,a=_g(e);if(a||(e[mg]=a=new jc(e)),n=a.add(t,n,i,o,s),n.proxy)return n;if(i=vb(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)cb||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(OE(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vb(){function e(n){return t.call(e.src,e.listener,n)}const t=wb;return e}function ME(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ME(e,t[s],n,i,r);return null}return n=vg(n),e&&e[Ga]?e.P(t,n,Qa(i)?!!i.capture:!!i,r):DE(e,t,n,!0,i,r)}function VE(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)VE(e,t[s],n,i,r);else i=Qa(i)?!!i.capture:!!i,n=vg(n),e&&e[Ga]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Vd(s,n,i,r),-1<n&&(zc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=_g(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vd(t,n,i,r)),(n=-1<e?t[e]:null)&&yg(n))}function yg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ga])Md(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(OE(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=_g(t))?(Md(n,e),n.h==0&&(n.src=null,t[mg]=null)):zc(e)}}}function OE(e){return e in af?af[e]:af[e]="on"+e}function wb(e,t){if(e.fa)e=!0;else{t=new ya(t,this);var n=e.listener,i=e.la||e.src;e.ia&&yg(e),e=n.call(i,t)}return e}function _g(e){return e=e[mg],e instanceof jc?e:null}var lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function vg(e){return typeof e=="function"?e:(e[lf]||(e[lf]=function(t){return e.handleEvent(t)}),e[lf])}function ne(){qi.call(this),this.i=new jc(this),this.S=this,this.J=null}ie(ne,qi);ne.prototype[Ga]=!0;ne.prototype.removeEventListener=function(e,t,n,i){VE(this,e,t,n,i)};function ce(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new xe(t,e);else if(t instanceof xe)t.target=t.target||e;else{var r=t;t=new xe(i,e),bE(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Pl(o,i,!0,t)&&r}if(o=t.g=e,r=Pl(o,i,!0,t)&&r,r=Pl(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)o=t.g=n[s],r=Pl(o,i,!1,t)&&r}ne.prototype.N=function(){if(ne.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)zc(n[i]);delete e.g[t],e.h--}}this.J=null};ne.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ne.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Pl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Md(e.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var wg=Z.JSON.stringify;class Eb{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function xb(){var e=Eg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Tb{constructor(){this.h=this.g=null}add(t,n){const i=LE.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var LE=new Eb(()=>new Sb,e=>e.reset());class Sb{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ib(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function kb(e){Z.setTimeout(()=>{throw e},0)}let _a,va=!1,Eg=new Tb,NE=()=>{const e=Z.Promise.resolve(void 0);_a=()=>{e.then(Ab)}};var Ab=()=>{for(var e;e=xb();){try{e.h.call(e.g)}catch(n){kb(n)}var t=LE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}va=!1};function Uc(e,t){ne.call(this),this.h=e||1,this.g=t||Z,this.j=Ee(this.qb,this),this.l=Date.now()}ie(Uc,ne);L=Uc.prototype;L.ga=!1;L.T=null;L.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ce(this,"tick"),this.ga&&(xg(this),this.start()))}};L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}L.N=function(){Uc.$.N.call(this),xg(this),delete this.g};function Tg(e,t,n){if(typeof e=="function")n&&(e=Ee(e,n));else if(e&&typeof e.handleEvent=="function")e=Ee(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Z.setTimeout(e,t||0)}function FE(e){e.g=Tg(()=>{e.g=null,e.i&&(e.i=!1,FE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Pb extends qi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:FE(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(e){qi.call(this),this.h=e,this.g={}}ie(wa,qi);var T_=[];function $E(e,t,n,i){Array.isArray(n)||(n&&(T_[0]=n.toString()),n=T_);for(var r=0;r<n.length;r++){var s=RE(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function BE(e){gg(e.g,function(t,n){this.g.hasOwnProperty(n)&&yg(t)},e),e.g={}}wa.prototype.N=function(){wa.$.N.call(this),BE(this)};wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hc(){this.g=!0}Hc.prototype.Ea=function(){this.g=!1};function Cb(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function bb(e,t,n,i,r,s,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+o})}function ls(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Db(e,n)+(i?" "+i:"")})}function Rb(e,t){e.info(function(){return"TIMEOUT: "+t})}Hc.prototype.info=function(){};function Db(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return wg(n)}catch{return t}}var Nr={},S_=null;function Wc(){return S_=S_||new ne}Nr.Ta="serverreachability";function zE(e){xe.call(this,Nr.Ta,e)}ie(zE,xe);function Ea(e){const t=Wc();ce(t,new zE(t))}Nr.STAT_EVENT="statevent";function jE(e,t){xe.call(this,Nr.STAT_EVENT,e),this.stat=t}ie(jE,xe);function Ce(e){const t=Wc();ce(t,new jE(t,e))}Nr.Ua="timingevent";function UE(e,t){xe.call(this,Nr.Ua,e),this.size=t}ie(UE,xe);function Ya(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){e()},t)}var qc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sg(){}Sg.prototype.h=null;function I_(e){return e.h||(e.h=e.i())}function WE(){}var Xa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ig(){xe.call(this,"d")}ie(Ig,xe);function kg(){xe.call(this,"c")}ie(kg,xe);var Od;function Kc(){}ie(Kc,Sg);Kc.prototype.g=function(){return new XMLHttpRequest};Kc.prototype.i=function(){return{}};Od=new Kc;function Ja(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new wa(this),this.P=Mb,e=bd?125:void 0,this.V=new Uc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qE}function qE(){this.i=null,this.g="",this.h=!1}var Mb=45e3,Ld={},Ju={};L=Ja.prototype;L.setTimeout=function(e){this.P=e};function Nd(e,t,n){e.L=1,e.v=Gc(si(t)),e.s=n,e.S=!0,KE(e,null)}function KE(e,t){e.G=Date.now(),Za(e),e.A=si(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),ex(n.i,"t",i),e.C=0,n=e.l.J,e.h=new qE,e.g=xx(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Pb(Ee(e.Pa,e,e.g),e.O)),$E(e.U,e.g,"readystatechange",e.nb),t=e.I?CE(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ea(),Cb(e.j,e.u,e.A,e.m,e.W,e.s)}L.nb=function(e){e=e.target;const t=this.M;t&&Dn(e)==3?t.l():this.Pa(e)};L.Pa=function(e){try{if(e==this.g)t:{const c=Dn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||bd||this.g&&(this.h.h||this.g.ja()||C_(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Ea(3):Ea(2)),Qc(this);var n=this.g.da();this.ca=n;e:if(QE(this)){var i=C_(this.g);e="";var r=i.length,s=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),$o(this);var o="";break e}this.h.i=new Z.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bb(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ma(a)){var u=a;break e}}u=null}if(n=u)ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,n);else{this.i=!1,this.o=3,Ce(12),hr(this),$o(this);break t}}this.S?(GE(this,c,o),bd&&this.i&&c==3&&($E(this.U,this.V,"tick",this.mb),this.V.start())):(ls(this.j,this.m,o,null),Fd(this,o)),c==4&&hr(this),this.i&&!this.J&&(c==4?_x(this.l,this):(this.i=!1,Za(this)))}else tR(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ce(12)):(this.o=0,Ce(13)),hr(this),$o(this)}}}catch{}finally{}};function QE(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function GE(e,t,n){let i=!0,r;for(;!e.J&&e.C<n.length;)if(r=Vb(e,n),r==Ju){t==4&&(e.o=4,Ce(14),i=!1),ls(e.j,e.m,null,"[Incomplete Response]");break}else if(r==Ld){e.o=4,Ce(15),ls(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else ls(e.j,e.m,r,null),Fd(e,r);QE(e)&&r!=Ju&&r!=Ld&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ce(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dg(t),t.M=!0,Ce(11))):(ls(e.j,e.m,n,"[Invalid Chunked Response]"),hr(e),$o(e))}L.mb=function(){if(this.g){var e=Dn(this.g),t=this.g.ja();this.C<t.length&&(Qc(this),GE(this,e,t),this.i&&e!=4&&Za(this))}};function Vb(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Ju:(n=Number(t.substring(n,i)),isNaN(n)?Ld:(i+=1,i+n>t.length?Ju:(t=t.slice(i,i+n),e.C=i+n,t)))}L.cancel=function(){this.J=!0,hr(this)};function Za(e){e.Y=Date.now()+e.P,YE(e,e.P)}function YE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ya(Ee(e.lb,e),t)}function Qc(e){e.B&&(Z.clearTimeout(e.B),e.B=null)}L.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Rb(this.j,this.A),this.L!=2&&(Ea(),Ce(17)),hr(this),this.o=2,$o(this)):YE(this,this.Y-e)};function $o(e){e.l.H==0||e.J||_x(e.l,e)}function hr(e){Qc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,xg(e.V),BE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||$d(n.i,e))){if(!e.K&&$d(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)ec(n),Zc(n);else break t;Rg(n),Ce(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ya(Ee(n.ib,n),6e3));if(1>=rx(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fr(n,11)}else if((e.K||n.g==e)&&ec(n),!ma(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let u=r[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=i.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ag(s,s.h),s.h=null))}if(i.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.Da=y,Tt(i.I,i.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=Ex(i,i.J?i.pa:null,i.Y),o.K){sx(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Qc(a),Za(a)),i.g=o}else mx(i);0<n.j.length&&th(n)}else u[0]!="stop"&&u[0]!="close"||fr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fr(n,7):bg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ea(4)}catch{}}function Ob(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if($c(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Lb(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if($c(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function XE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if($c(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Lb(e),i=Ob(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}var JE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nb(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function _r(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _r){this.h=e.h,Zu(this,e.j),this.s=e.s,this.g=e.g,tc(this,e.m),this.l=e.l;var t=e.i,n=new xa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),k_(this,n),this.o=e.o}else e&&(t=String(e).match(JE))?(this.h=!1,Zu(this,t[1]||"",!0),this.s=Eo(t[2]||""),this.g=Eo(t[3]||"",!0),tc(this,t[4]),this.l=Eo(t[5]||"",!0),k_(this,t[6]||"",!0),this.o=Eo(t[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}_r.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xo(t,A_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(xo(t,A_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(xo(n,n.charAt(0)=="/"?Bb:$b,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xo(n,jb)),e.join("")};function si(e){return new _r(e)}function Zu(e,t,n){e.j=n?Eo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function k_(e,t,n){t instanceof xa?(e.i=t,Ub(e.i,e.h)):(n||(t=xo(t,zb)),e.i=new xa(t,e.h))}function Tt(e,t,n){e.i.set(t,n)}function Gc(e){return Tt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Eo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Fb),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fb(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var A_=/[#\/\?@]/g,$b=/[#\?:]/g,Bb=/[#\?]/g,zb=/[#\?@]/g,jb=/#/g;function xa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ki(e){e.g||(e.g=new Map,e.h=0,e.i&&Nb(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}L=xa.prototype;L.add=function(e,t){Ki(this),this.i=null,e=qs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function ZE(e,t){Ki(e),t=qs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tx(e,t){return Ki(e),t=qs(e,t),e.g.has(t)}L.forEach=function(e,t){Ki(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};L.ta=function(){Ki(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let s=0;s<r.length;s++)n.push(t[i])}return n};L.Z=function(e){Ki(this);let t=[];if(typeof e=="string")tx(this,e)&&(t=t.concat(this.g.get(qs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};L.set=function(e,t){return Ki(this),this.i=null,e=qs(this,e),tx(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};L.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function ex(e,t,n){ZE(e,t),0<n.length&&(e.i=null,e.g.set(qs(e,t),dg(n)),e.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};function qs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ub(e,t){t&&!e.j&&(Ki(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(ZE(this,i),ex(this,r,n))},e)),e.j=t}var Hb=class{constructor(e,t){this.g=e,this.map=t}};function nx(e){this.l=e||Wb,Z.PerformanceNavigationTiming?(e=Z.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wb=10;function ix(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function rx(e){return e.h?1:e.g?e.g.size:0}function $d(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ag(e,t){e.g?e.g.add(t):e.h=t}function sx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}nx.prototype.cancel=function(){if(this.i=ox(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function ox(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return dg(e.i)}var qb=class{stringify(e){return Z.JSON.stringify(e,void 0)}parse(e){return Z.JSON.parse(e,void 0)}};function Kb(){this.g=new qb}function Qb(e,t,n){const i=n||"";try{XE(e,function(r,s){let o=r;Qa(r)&&(o=wg(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Gb(e,t){const n=new Hc;if(Z.Image){const i=new Image;i.onload=Al(Cl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Al(Cl,n,i,"TestLoadImage: error",!1,t),i.onabort=Al(Cl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Al(Cl,n,i,"TestLoadImage: timeout",!1,t),Z.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Cl(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Yc(e){this.l=e.ec||null,this.j=e.ob||!1}ie(Yc,Sg);Yc.prototype.g=function(){return new Xc(this.l,this.j)};Yc.prototype.i=function(e){return function(){return e}}({});function Xc(e,t){ne.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ie(Xc,ne);var Pg=0;L=Xc.prototype;L.open=function(e,t){if(this.readyState!=Pg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ta(this)};L.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Z).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=Pg};L.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ax(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function ax(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}L.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tl(this):Ta(this),this.readyState==3&&ax(this)}};L.Za=function(e){this.g&&(this.response=this.responseText=e,tl(this))};L.Ya=function(e){this.g&&(this.response=e,tl(this))};L.ka=function(){this.g&&tl(this)};function tl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ta(e)}L.setRequestHeader=function(e,t){this.v.append(e,t)};L.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Yb=Z.JSON.parse;function Nt(e){ne.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lx,this.L=this.M=!1}ie(Nt,ne);var lx="",Xb=/^https?$/i,Jb=["POST","PUT"];L=Nt.prototype;L.Oa=function(e){this.M=e};L.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Od.g(),this.C=this.u?I_(this.u):I_(Od),this.g.onreadystatechange=Ee(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){P_(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=Z.FormData&&e instanceof Z.FormData,!(0<=IE(Jb,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hx(this),0<this.B&&((this.L=Zb(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.ua,this)):this.A=Tg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){P_(this,s)}};function Zb(e){return Cs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}L.ua=function(){typeof fg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ce(this,"timeout"),this.abort(8))};function P_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ux(e),Jc(e)}function ux(e){e.F||(e.F=!0,ce(e,"complete"),ce(e,"error"))}L.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ce(this,"complete"),ce(this,"abort"),Jc(this))};L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jc(this,!0)),Nt.$.N.call(this)};L.La=function(){this.s||(this.G||this.v||this.l?cx(this):this.kb())};L.kb=function(){cx(this)};function cx(e){if(e.h&&typeof fg<"u"&&(!e.C[1]||Dn(e)!=4||e.da()!=2)){if(e.v&&Dn(e)==4)Tg(e.La,0,e);else if(ce(e,"readystatechange"),Dn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var r=String(e.I).match(JE)[1]||null;!r&&Z.self&&Z.self.location&&(r=Z.self.location.protocol.slice(0,-1)),i=!Xb.test(r?r.toLowerCase():"")}n=i}if(n)ce(e,"complete"),ce(e,"success");else{e.m=6;try{var s=2<Dn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",ux(e)}}finally{Jc(e)}}}}function Jc(e,t){if(e.g){hx(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ce(e,"ready");try{n.onreadystatechange=i}catch{}}}function hx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Z.clearTimeout(e.A),e.A=null)}L.isActive=function(){return!!this.g};function Dn(e){return e.g?e.g.readyState:0}L.da=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}};L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Yb(t)}};function C_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case lx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tR(e){const t={};e=(e.g&&2<=Dn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(ma(e[i]))continue;var n=Ib(e[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}_b(t,function(i){return i.join(", ")})}L.Ia=function(){return this.m};L.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fx(e){let t="";return gg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Cg(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=fx(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Tt(e,t,n))}function lo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dx(e){this.Ga=0,this.j=[],this.l=new Hc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lo("baseRetryDelayMs",5e3,e),this.hb=lo("retryDelaySeedMs",1e4,e),this.eb=lo("forwardChannelMaxRetries",2,e),this.xa=lo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nx(e&&e.concurrentRequestLimit),this.Ja=new Kb,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}L=dx.prototype;L.ra=8;L.H=1;function bg(e){if(px(e),e.H==3){var t=e.W++,n=si(e.I);if(Tt(n,"SID",e.K),Tt(n,"RID",t),Tt(n,"TYPE","terminate"),el(e,n),t=new Ja(e,e.l,t),t.L=2,t.v=Gc(si(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&Z.Image&&(new Image().src=t.v,n=!0),n||(t.g=xx(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Za(t)}wx(e)}function Zc(e){e.g&&(Dg(e),e.g.cancel(),e.g=null)}function px(e){Zc(e),e.u&&(Z.clearTimeout(e.u),e.u=null),ec(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Z.clearTimeout(e.m),e.m=null)}function th(e){if(!ix(e.i)&&!e.m){e.m=!0;var t=e.Na;_a||NE(),va||(_a(),va=!0),Eg.add(t,e),e.C=0}}function eR(e,t){return rx(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Ya(Ee(e.Na,e,t),vx(e,e.C)),e.C++,!0)}L.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new Ja(this,this.l,e);let s=this.s;if(this.U&&(s?(s=CE(s),bE(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=gx(this,r,t),n=si(this.I),Tt(n,"RID",e),Tt(n,"CVER",22),this.F&&Tt(n,"X-HTTP-Session-Id",this.F),el(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(fx(s)))+"&"+t:this.o&&Cg(n,this.o,s)),Ag(this.i,r),this.bb&&Tt(n,"TYPE","init"),this.P?(Tt(n,"$req",t),Tt(n,"SID","null"),r.aa=!0,Nd(r,n,null)):Nd(r,n,t),this.H=2}}else this.H==3&&(e?b_(this,e):this.j.length==0||ix(this.i)||b_(this))};function b_(e,t){var n;t?n=t.m:n=e.W++;const i=si(e.I);Tt(i,"SID",e.K),Tt(i,"RID",n),Tt(i,"AID",e.V),el(e,i),e.o&&e.s&&Cg(i,e.o,e.s),n=new Ja(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=gx(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ag(e.i,n),Nd(n,i,t)}function el(e,t){e.na&&gg(e.na,function(n,i){Tt(t,i,n)}),e.h&&XE({},function(n,i){Tt(t,i,n)})}function gx(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Ee(e.h.Va,e.h,e):null;t:{var r=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=r[l].g;const c=r[l].map;if(u-=s,0>u)s=Math.max(0,r[l].g-100),a=!1;else try{Qb(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function mx(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;_a||NE(),va||(_a(),va=!0),Eg.add(t,e),e.A=0}}function Rg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Ya(Ee(e.Ma,e),vx(e,e.A)),e.A++,!0)}L.Ma=function(){if(this.u=null,yx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ya(Ee(this.jb,this),e)}};L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ce(10),Zc(this),yx(this))};function Dg(e){e.B!=null&&(Z.clearTimeout(e.B),e.B=null)}function yx(e){e.g=new Ja(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=si(e.wa);Tt(t,"RID","rpc"),Tt(t,"SID",e.K),Tt(t,"AID",e.V),Tt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Tt(t,"TO",e.qa),Tt(t,"TYPE","xmlhttp"),el(e,t),e.o&&e.s&&Cg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Gc(si(t)),n.s=null,n.S=!0,KE(n,e)}L.ib=function(){this.v!=null&&(this.v=null,Zc(this),Rg(this),Ce(19))};function ec(e){e.v!=null&&(Z.clearTimeout(e.v),e.v=null)}function _x(e,t){var n=null;if(e.g==t){ec(e),Dg(e),e.g=null;var i=2}else if($d(e.i,t))n=t.F,sx(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;i=Wc(),ce(i,new UE(i,n)),th(e)}else mx(e);else if(r=t.o,r==3||r==0&&0<t.ca||!(i==1&&eR(e,t)||i==2&&Rg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:fr(e,5);break;case 4:fr(e,10);break;case 3:fr(e,6);break;default:fr(e,2)}}}function vx(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function fr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Ee(e.pb,e);n||(n=new _r("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Zu(n,"https"),Gc(n)),Gb(n.toString(),i)}else Ce(2);e.H=0,e.h&&e.h.za(t),wx(e),px(e)}L.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ce(2)):(this.l.info("Failed to ping google.com"),Ce(1))};function wx(e){if(e.H=0,e.ma=[],e.h){const t=ox(e.i);(t.length!=0||e.j.length!=0)&&(w_(e.ma,t),w_(e.ma,e.j),e.i.i.length=0,dg(e.j),e.j.length=0),e.h.ya()}}function Ex(e,t,n){var i=n instanceof _r?si(n):new _r(n);if(i.g!="")t&&(i.g=t+"."+i.g),tc(i,i.m);else{var r=Z.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new _r(null);i&&Zu(s,i),t&&(s.g=t),r&&tc(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&Tt(i,n,t),Tt(i,"VER",e.ra),el(e,i),i}function xx(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Nt(new Yc({ob:!0})):new Nt(e.va),t.Oa(e.J),t}L.isActive=function(){return!!this.h&&this.h.isActive(this)};function Tx(){}L=Tx.prototype;L.Ba=function(){};L.Aa=function(){};L.za=function(){};L.ya=function(){};L.isActive=function(){return!0};L.Va=function(){};function nc(){if(Cs&&!(10<=Number(pb)))throw Error("Environmental error: no available transport.")}nc.prototype.g=function(e,t){return new Qe(e,t)};function Qe(e,t){ne.call(this),this.g=new dx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ma(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ma(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ks(this)}ie(Qe,ne);Qe.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ce(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ex(e,null,e.Y),th(e)};Qe.prototype.close=function(){bg(this.g)};Qe.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=wg(e),e=n);t.j.push(new Hb(t.fb++,e)),t.H==3&&th(t)};Qe.prototype.N=function(){this.g.h=null,delete this.j,bg(this.g),delete this.g,Qe.$.N.call(this)};function Sx(e){Ig.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ie(Sx,Ig);function Ix(){kg.call(this),this.status=1}ie(Ix,kg);function Ks(e){this.g=e}ie(Ks,Tx);Ks.prototype.Ba=function(){ce(this.g,"a")};Ks.prototype.Aa=function(e){ce(this.g,new Sx(e))};Ks.prototype.za=function(e){ce(this.g,new Ix)};Ks.prototype.ya=function(){ce(this.g,"b")};function nR(){this.blockSize=-1}function Tn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ie(Tn,nR);Tn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function uf(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(r^s&(n^r))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(n^r^s)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(r^(n|~s))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}Tn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(r==0)for(;s<=n;)uf(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){uf(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){uf(this,i),r=0;break}}this.h=r,this.i+=t};Tn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function yt(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=e[r]|0;i&&s==t||(n[r]=s,i=!1)}this.g=n}var iR={};function Mg(e){return-128<=e&&128>e?hb(e,function(t){return new yt([t|0],0>t?-1:0)}):new yt([e|0],0>e?-1:0)}function Mn(e){if(isNaN(e)||!isFinite(e))return ms;if(0>e)return le(Mn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=Bd;return new yt(t,0)}function kx(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return le(kx(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(t,8)),i=ms,r=0;r<e.length;r+=8){var s=Math.min(8,e.length-r),o=parseInt(e.substring(r,r+s),t);8>s?(s=Mn(Math.pow(t,s)),i=i.R(s).add(Mn(o))):(i=i.R(n),i=i.add(Mn(o)))}return i}var Bd=4294967296,ms=Mg(0),zd=Mg(1),R_=Mg(16777216);L=yt.prototype;L.ea=function(){if(rn(this))return-le(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:Bd+i)*t,t*=Bd}return e};L.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Xn(this))return"0";if(rn(this))return"-"+le(this).toString(e);for(var t=Mn(Math.pow(e,6)),n=this,i="";;){var r=rc(n,t).g;n=ic(n,r.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=r,Xn(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};L.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Xn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function rn(e){return e.h==-1}L.X=function(e){return e=ic(this,e),rn(e)?-1:Xn(e)?0:1};function le(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new yt(n,~e.h).add(zd)}L.abs=function(){return rn(this)?le(this):this};L.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(this.D(r)&65535)+(e.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new yt(n,n[n.length-1]&-2147483648?-1:0)};function ic(e,t){return e.add(le(t))}L.R=function(e){if(Xn(this)||Xn(e))return ms;if(rn(this))return rn(e)?le(this).R(le(e)):le(le(this).R(e));if(rn(e))return le(this.R(le(e)));if(0>this.X(R_)&&0>e.X(R_))return Mn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(r)>>>16,l=e.D(r)&65535;n[2*i+2*r]+=o*l,bl(n,2*i+2*r),n[2*i+2*r+1]+=s*l,bl(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,bl(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,bl(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new yt(n,0)};function bl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function uo(e,t){this.g=e,this.h=t}function rc(e,t){if(Xn(t))throw Error("division by zero");if(Xn(e))return new uo(ms,ms);if(rn(e))return t=rc(le(e),t),new uo(le(t.g),le(t.h));if(rn(t))return t=rc(e,le(t)),new uo(le(t.g),t.h);if(30<e.g.length){if(rn(e)||rn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=zd,i=t;0>=i.X(e);)n=D_(n),i=D_(i);var r=Hr(n,1),s=Hr(i,1);for(i=Hr(i,2),n=Hr(n,2);!Xn(i);){var o=s.add(i);0>=o.X(e)&&(r=r.add(n),s=o),i=Hr(i,1),n=Hr(n,1)}return t=ic(e,r.R(t)),new uo(r,t)}for(r=ms;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Mn(n),o=s.R(t);rn(o)||0<o.X(e);)n-=i,s=Mn(n),o=s.R(t);Xn(s)&&(s=zd),r=r.add(s),e=ic(e,o)}return new uo(r,e)}L.gb=function(e){return rc(this,e).h};L.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new yt(n,this.h&e.h)};L.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new yt(n,this.h|e.h)};L.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new yt(n,this.h^e.h)};function D_(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new yt(n,e.h)}function Hr(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new yt(r,e.h)}nc.prototype.createWebChannel=nc.prototype.g;Qe.prototype.send=Qe.prototype.u;Qe.prototype.open=Qe.prototype.m;Qe.prototype.close=Qe.prototype.close;qc.NO_ERROR=0;qc.TIMEOUT=8;qc.HTTP_ERROR=6;HE.COMPLETE="complete";WE.EventType=Xa;Xa.OPEN="a";Xa.CLOSE="b";Xa.ERROR="c";Xa.MESSAGE="d";ne.prototype.listen=ne.prototype.O;Nt.prototype.listenOnce=Nt.prototype.P;Nt.prototype.getLastError=Nt.prototype.Sa;Nt.prototype.getLastErrorCode=Nt.prototype.Ia;Nt.prototype.getStatus=Nt.prototype.da;Nt.prototype.getResponseJson=Nt.prototype.Wa;Nt.prototype.getResponseText=Nt.prototype.ja;Nt.prototype.send=Nt.prototype.ha;Nt.prototype.setWithCredentials=Nt.prototype.Oa;Tn.prototype.digest=Tn.prototype.l;Tn.prototype.reset=Tn.prototype.reset;Tn.prototype.update=Tn.prototype.j;yt.prototype.add=yt.prototype.add;yt.prototype.multiply=yt.prototype.R;yt.prototype.modulo=yt.prototype.gb;yt.prototype.compare=yt.prototype.X;yt.prototype.toNumber=yt.prototype.ea;yt.prototype.toString=yt.prototype.toString;yt.prototype.getBits=yt.prototype.D;yt.fromNumber=Mn;yt.fromString=kx;var rR=function(){return new nc},sR=function(){return Wc()},cf=qc,oR=HE,aR=Nr,M_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Rl=WE,lR=Nt,uR=Tn,ys=yt;const V_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ye.UNAUTHENTICATED=new ye(null),ye.GOOGLE_CREDENTIALS=new ye("google-credentials-uid"),ye.FIRST_PARTY=new ye("first-party-uid"),ye.MOCK_USER=new ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new vE("@firebase/firestore");function co(){return Cr.logLevel}function j(e,...t){if(Cr.logLevel<=ut.DEBUG){const n=t.map(Vg);Cr.debug(`Firestore (${Qs}): ${e}`,...n)}}function oi(e,...t){if(Cr.logLevel<=ut.ERROR){const n=t.map(Vg);Cr.error(`Firestore (${Qs}): ${e}`,...n)}}function bs(e,...t){if(Cr.logLevel<=ut.WARN){const n=t.map(Vg);Cr.warn(`Firestore (${Qs}): ${e}`,...n)}}function Vg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e="Unexpected state"){const t=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+e;throw oi(t),new Error(t)}function kt(e,t){e||J()}function et(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Ws{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ye.UNAUTHENTICATED))}shutdown(){}}class hR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fR{constructor(t){this.t=t,this.currentUser=ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vr,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt(typeof i.accessToken=="string"),new Ax(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kt(t===null||typeof t=="string"),new ye(t)}}class dR{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pR{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new dR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(kt(typeof n.token=="string"),this.R=n.token,new gR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=yR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function ft(e,t){return e<t?-1:e>t?1:0}function Rs(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Yt.fromMillis(Date.now())}static fromDate(t){return Yt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Yt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ft(this.nanoseconds,t.nanoseconds):ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new tt(t)}static min(){return new tt(new Yt(0,0))}static max(){return new tt(new Yt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n,i){n===void 0?n=0:n>t.length&&J(),i===void 0?i=t.length-n:i>t.length-n&&J(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Sa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Sa?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class St extends Sa{construct(t,n,i){return new St(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new St(n)}static emptyPath(){return new St([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class we extends Sa{construct(t,n,i){return new we(t,n,i)}static isValidIdentifier(t){return _R.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),we.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new we(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new we(n)}static emptyPath(){return new we([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K(St.fromString(t))}static fromName(t){return new K(St.fromString(t).popFirst(5))}static empty(){return new K(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&St.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return St.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new St(t.slice()))}}function vR(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=tt.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new $i(r,K.empty(),t)}function wR(e){return new $i(e.readTime,e.key,-1)}class $i{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new $i(tt.min(),K.empty(),-1)}static max(){return new $i(tt.max(),K.empty(),-1)}}function ER(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ft(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==xR)throw e;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new C((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):C.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):C.reject(n)}static resolve(t){return new C((n,i)=>{n(t)})}static reject(t){return new C((n,i)=>{i(t)})}static waitFor(t){return new C((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=C.resolve(!1);for(const i of t)n=n.next(r=>r?C.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new C((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new C((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function il(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Og.ae=-1;function eh(e){return e==null}function sc(e){return e===0&&1/e==-1/0}function SR(e){return typeof e=="number"&&Number.isInteger(e)&&!sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,n){this.comparator=t,this.root=n||ae.EMPTY}insert(t,n){return new Mt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ae.BLACK,null,null))}remove(t){return new Mt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ae.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dl(this.root,t,this.comparator,!0)}}class Dl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ae{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ae.RED,this.left=r??ae.EMPTY,this.right=s??ae.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ae(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ae.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ae.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const t=this.left.check();if(t!==this.right.check())throw J();return t+(this.isRed()?0:1)}}ae.EMPTY=null,ae.RED=!0,ae.BLACK=!1;ae.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,n,i,r,s){return this}insert(t,n,i){return new ae(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.comparator=t,this.data=new Mt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(t){return new L_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Te)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Te(this.comparator);return n.data=t,n}}class L_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(we.comparator)}static empty(){return new vn([])}unionWith(t){let n=new Te(we.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new vn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Rs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bx("Invalid base64 string: "+s):s}}(t);return new Ie(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Ie(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ie.EMPTY_BYTE_STRING=new Ie("");const IR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if(kt(!!e),typeof e=="string"){let t=0;const n=IR.exec(e);if(kt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jt(e.seconds),nanos:jt(e.nanos)}}function jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function br(e){return typeof e=="string"?Ie.fromBase64String(e):Ie.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ng(e){const t=e.mapValue.fields.__previous_value__;return Lg(t)?Ng(t):t}function Ia(e){const t=Bi(e.mapValue.fields.__local_write_time__.timestampValue);return new Yt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ka{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ka&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lg(e)?4:AR(e)?9007199254740991:10:J()}function $n(e,t){if(e===t)return!0;const n=Rr(e);if(n!==Rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ia(e).isEqual(Ia(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Bi(r.timestampValue),a=Bi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return br(r.bytesValue).isEqual(br(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return jt(r.geoPointValue.latitude)===jt(s.geoPointValue.latitude)&&jt(r.geoPointValue.longitude)===jt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return jt(r.integerValue)===jt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=jt(r.doubleValue),a=jt(s.doubleValue);return o===a?sc(o)===sc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Rs(e.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(O_(o)!==O_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$n(o[l],a[l])))return!1;return!0}(e,t);default:return J()}}function Aa(e,t){return(e.values||[]).find(n=>$n(n,t))!==void 0}function Ds(e,t){if(e===t)return 0;const n=Rr(e),i=Rr(t);if(n!==i)return ft(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=jt(s.integerValue||s.doubleValue),l=jt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return N_(e.timestampValue,t.timestampValue);case 4:return N_(Ia(e),Ia(t));case 5:return ft(e.stringValue,t.stringValue);case 6:return function(s,o){const a=br(s),l=br(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ft(a[u],l[u]);if(c!==0)return c}return ft(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ft(jt(s.latitude),jt(o.latitude));return a!==0?a:ft(jt(s.longitude),jt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ds(a[u],l[u]);if(c)return c}return ft(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Ml.mapValue&&o===Ml.mapValue)return 0;if(s===Ml.mapValue)return 1;if(o===Ml.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ft(l[h],c[h]);if(f!==0)return f;const d=Ds(a[l[h]],u[c[h]]);if(d!==0)return d}return ft(l.length,c.length)}(e.mapValue,t.mapValue);default:throw J()}}function N_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ft(e,t);const n=Bi(e),i=Bi(t),r=ft(n.seconds,i.seconds);return r!==0?r:ft(n.nanos,i.nanos)}function Ms(e){return jd(e)}function jd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Bi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return br(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=jd(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${jd(n.fields[o])}`;return r+"}"}(e.mapValue):J()}function F_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ud(e){return!!e&&"integerValue"in e}function Fg(e){return!!e&&"arrayValue"in e}function $_(e){return!!e&&"nullValue"in e}function B_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uu(e){return!!e&&"mapValue"in e}function Bo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gs(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Bo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function AR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!uu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bo(n)}setAll(t){let n=we.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Bo(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];uu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Gs(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new sn(Bo(this.value))}}function Rx(e){const t=[];return Gs(e.fields,(n,i)=>{const r=new we([n]);if(uu(i)){const s=Rx(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ve(t,0,tt.min(),tt.min(),tt.min(),sn.empty(),0)}static newFoundDocument(t,n,i,r){return new ve(t,1,n,tt.min(),i,r,0)}static newNoDocument(t,n){return new ve(t,2,n,tt.min(),tt.min(),sn.empty(),0)}static newUnknownDocument(t,n){return new ve(t,3,n,tt.min(),tt.min(),sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ve&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n){this.position=t,this.inclusive=n}}function z_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(o.referenceValue),n.key):i=Ds(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function j_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,n="asc"){this.field=t,this.dir=n}}function PR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{}class Ht extends Dx{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new bR(t,n,i):n==="array-contains"?new MR(t,i):n==="in"?new VR(t,i):n==="not-in"?new OR(t,i):n==="array-contains-any"?new LR(t,i):new Ht(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new RR(t,i):new DR(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ds(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(Ds(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends Dx{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Sn(t,n)}matches(t){return Mx(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function Mx(e){return e.op==="and"}function Vx(e){return CR(e)&&Mx(e)}function CR(e){for(const t of e.filters)if(t instanceof Sn)return!1;return!0}function Hd(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+Ms(e.value);if(Vx(e))return e.filters.map(t=>Hd(t)).join(",");{const t=e.filters.map(n=>Hd(n)).join(",");return`${e.op}(${t})`}}function Ox(e,t){return e instanceof Ht?function(i,r){return r instanceof Ht&&i.op===r.op&&i.field.isEqual(r.field)&&$n(i.value,r.value)}(e,t):e instanceof Sn?function(i,r){return r instanceof Sn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&Ox(o,r.filters[a]),!0):!1}(e,t):void J()}function Lx(e){return e instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(e):e instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(Lx).join(" ,")+"}"}(e):"Filter"}class bR extends Ht{constructor(t,n,i){super(t,n,i),this.key=K.fromName(i.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class RR extends Ht{constructor(t,n){super(t,"in",n),this.keys=Nx("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class DR extends Ht{constructor(t,n){super(t,"not-in",n),this.keys=Nx("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Nx(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}class MR extends Ht{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fg(n)&&Aa(n.arrayValue,this.value)}}class VR extends Ht{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Aa(this.value.arrayValue,n)}}class OR extends Ht{constructor(t,n){super(t,"not-in",n)}matches(t){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Aa(this.value.arrayValue,n)}}class LR extends Ht{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Aa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function U_(e,t=null,n=[],i=[],r=null,s=null,o=null){return new NR(e,t,n,i,r,s,o)}function $g(e){const t=et(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Hd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ms(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ms(i)).join(",")),t.he=n}return t.he}function Bg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!PR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ox(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!j_(e.startAt,t.startAt)&&j_(e.endAt,t.endAt)}function Wd(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function FR(e,t,n,i,r,s,o,a){return new Ys(e,t,n,i,r,s,o,a)}function zg(e){return new Ys(e)}function H_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function nh(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function Fx(e){return e.collectionGroup!==null}function zo(e){const t=et(e);if(t.Pe===null){t.Pe=[];const n=nh(t),i=jg(t);if(n!==null&&i===null)n.isKeyField()||t.Pe.push(new _s(n)),t.Pe.push(new _s(we.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.Pe.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new _s(we.keyField(),s))}}}return t.Pe}function Ln(e){const t=et(e);return t.Ie||(t.Ie=$R(t,zo(e))),t.Ie}function $R(e,t){if(e.limitType==="F")return U_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new _s(r.field,s)});const n=e.endAt?new oc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new oc(e.startAt.position,e.startAt.inclusive):null;return U_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function qd(e,t){t.getFirstInequalityField(),nh(e);const n=e.filters.concat([t]);return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ac(e,t,n){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ih(e,t){return Bg(Ln(e),Ln(t))&&e.limitType===t.limitType}function $x(e){return`${$g(Ln(e))}|lt:${e.limitType}`}function qr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Lx(r)).join(", ")}]`),eh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ms(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ms(r)).join(",")),`Target(${i})`}(Ln(e))}; limitType=${e.limitType})`}function rh(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of zo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=z_(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,zo(i),r)||i.endAt&&!function(o,a,l){const u=z_(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,zo(i),r))}(e,t)}function BR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bx(e){return(t,n)=>{let i=!1;for(const r of zo(e)){const s=zR(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function zR(e,t,n){const i=e.field.isKeyField()?K.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ds(l,u):J()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Gs(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Cx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Mt(K.comparator);function ai(){return jR}const zx=new Mt(K.comparator);function To(...e){let t=zx;for(const n of e)t=t.insert(n.key,n);return t}function jx(e){let t=zx;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function dr(){return jo()}function Ux(){return jo()}function jo(){return new Xs(e=>e.toString(),(e,t)=>e.isEqual(t))}const UR=new Mt(K.comparator),HR=new Te(K.comparator);function rt(...e){let t=HR;for(const n of e)t=t.add(n);return t}const WR=new Te(ft);function qR(){return WR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(t)?"-0":t}}function Wx(e){return{integerValue:""+e}}function KR(e,t){return SR(t)?Wx(t):Hx(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function QR(e,t,n){return e instanceof Pa?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Lg(s)&&(s=Ng(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Ca?Kx(e,t):e instanceof ba?Qx(e,t):function(r,s){const o=qx(r,s),a=W_(o)+W_(r.Te);return Ud(o)&&Ud(r.Te)?Wx(a):Hx(r.serializer,a)}(e,t)}function GR(e,t,n){return e instanceof Ca?Kx(e,t):e instanceof ba?Qx(e,t):n}function qx(e,t){return e instanceof lc?function(i){return Ud(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Pa extends sh{}class Ca extends sh{constructor(t){super(),this.elements=t}}function Kx(e,t){const n=Gx(t);for(const i of e.elements)n.some(r=>$n(r,i))||n.push(i);return{arrayValue:{values:n}}}class ba extends sh{constructor(t){super(),this.elements=t}}function Qx(e,t){let n=Gx(t);for(const i of e.elements)n=n.filter(r=>!$n(r,i));return{arrayValue:{values:n}}}class lc extends sh{constructor(t,n){super(),this.serializer=t,this.Te=n}}function W_(e){return jt(e.integerValue||e.doubleValue)}function Gx(e){return Fg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n){this.field=t,this.transform=n}}function XR(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Ca&&r instanceof Ca||i instanceof ba&&r instanceof ba?Rs(i.elements,r.elements,$n):i instanceof lc&&r instanceof lc?$n(i.Te,r.Te):i instanceof Pa&&r instanceof Pa}(e.transform,t.transform)}class JR{constructor(t,n){this.version=t,this.transformResults=n}}class ti{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class oh{}function Yx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Jx(e.key,ti.none()):new rl(e.key,e.data,ti.none());{const n=e.data,i=sn.empty();let r=new Te(we.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Fr(e.key,i,new vn(r.toArray()),ti.none())}}function ZR(e,t,n){e instanceof rl?function(r,s,o){const a=r.value.clone(),l=K_(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Fr?function(r,s,o){if(!cu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=K_(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Xx(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Uo(e,t,n,i){return e instanceof rl?function(s,o,a,l){if(!cu(s.precondition,o))return a;const u=s.value.clone(),c=Q_(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof Fr?function(s,o,a,l){if(!cu(s.precondition,o))return a;const u=Q_(s.fieldTransforms,l,o),c=o.data;return c.setAll(Xx(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(s,o,a){return cu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function t2(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=qx(i.transform,r||null);s!=null&&(n===null&&(n=sn.empty()),n.set(i.field,s))}return n||null}function q_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Rs(i,r,(s,o)=>XR(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rl extends oh{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fr extends oh{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xx(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function K_(e,t,n){const i=new Map;kt(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,GR(o,a,n[r]))}return i}function Q_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,QR(s,o,t))}return i}class Jx extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e2 extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&ZR(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Uo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Uo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=Ux();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=Yx(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(tt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&Rs(this.mutations,t.mutations,(n,i)=>q_(n,i))&&Rs(this.baseMutations,t.baseMutations,(n,i)=>q_(n,i))}}class Ug{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){kt(t.mutations.length===i.length);let r=function(){return UR}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Ug(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,lt;function s2(e){switch(e){default:return J();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function Zx(e){if(e===void 0)return oi("GRPC error has no .code"),P.UNKNOWN;switch(e){case Bt.OK:return P.OK;case Bt.CANCELLED:return P.CANCELLED;case Bt.UNKNOWN:return P.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return P.INTERNAL;case Bt.UNAVAILABLE:return P.UNAVAILABLE;case Bt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Bt.NOT_FOUND:return P.NOT_FOUND;case Bt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Bt.ABORTED:return P.ABORTED;case Bt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Bt.DATA_LOSS:return P.DATA_LOSS;default:return J()}}(lt=Bt||(Bt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new ys([4294967295,4294967295],0);function G_(e){const t=o2().encode(e),n=new uR;return n.update(t),new Uint8Array(n.digest())}function Y_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ys([n,i],0),new ys([r,s],0)]}class Hg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(i<0)throw new So(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*t.length-n,this.Re=ys.fromNumber(this.Ae)}Ve(t,n,i){let r=t.add(n.multiply(ys.fromNumber(i)));return r.compare(a2)===1&&(r=new ys([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}me(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ae===0)return!1;const n=G_(t),[i,r]=Y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(i,r,s);if(!this.me(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Hg(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ae===0)return;const n=G_(t),[i,r]=Y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(i,r,s);this.fe(o)}}fe(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,sl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new ah(tt.min(),r,new Mt(ft),ai(),rt())}}class sl{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new sl(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,n,i,r){this.ge=t,this.removedTargetIds=n,this.key=i,this.pe=r}}class tT{constructor(t,n){this.targetId=t,this.ye=n}}class eT{constructor(t,n,i=Ie.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class X_{constructor(){this.we=0,this.Se=Z_(),this.be=Ie.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(t){t.approximateByteSize()>0&&(this.Ce=!0,this.be=t)}xe(){let t=rt(),n=rt(),i=rt();return this.Se.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:J()}}),new sl(this.be,this.De,t,n,i)}Oe(){this.Ce=!1,this.Se=Z_()}Ne(t,n){this.Ce=!0,this.Se=this.Se.insert(t,n)}Be(t){this.Ce=!0,this.Se=this.Se.remove(t)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class l2{constructor(t){this.Qe=t,this.Ke=new Map,this.$e=ai(),this.Ue=J_(),this.We=new Mt(ft)}Ge(t){for(const n of t.ge)t.pe&&t.pe.isFoundDocument()?this.ze(n,t.pe):this.je(n,t.key,t.pe);for(const n of t.removedTargetIds)this.je(n,t.key,t.pe)}He(t){this.forEachTarget(t,n=>{const i=this.Je(n);switch(t.state){case 0:this.Ye(n)&&i.Me(t.resumeToken);break;case 1:i.ke(),i.ve||i.Oe(),i.Me(t.resumeToken);break;case 2:i.ke(),i.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(i.qe(),i.Me(t.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),i.Me(t.resumeToken));break;default:J()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ke.forEach((i,r)=>{this.Ye(r)&&n(r)})}Xe(t){const n=t.targetId,i=t.ye.count,r=this.et(n);if(r){const s=r.target;if(Wd(s))if(i===0){const o=new K(s.path);this.je(n,o,ve.newNoDocument(o,tt.min()))}else kt(i===1);else{const o=this.tt(n);if(o!==i){const a=this.nt(t),l=a?this.rt(a,t,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(t){const n=t.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=br(i).toUint8Array()}catch(l){if(l instanceof bx)return bs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hg(o,r,s)}catch(l){return bs(l instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(t,n,i){return n.ye.count===i-this.ot(t,n.targetId)?0:2}ot(t,n){const i=this.Qe.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.je(n,s,null),r++)}),r}_t(t){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Wd(a.target)){const l=new K(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,ve.newNoDocument(l,t))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let i=rt();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(t));const r=new ah(t,n,this.We,this.$e,i);return this.$e=ai(),this.Ue=J_(),this.We=new Mt(ft),r}ze(t,n){if(!this.Ye(t))return;const i=this.ut(t,n.key)?2:0;this.Je(t).Ne(n.key,i),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}je(t,n,i){if(!this.Ye(t))return;const r=this.Je(t);this.ut(t,n)?r.Ne(n,1):r.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),i&&(this.$e=this.$e.insert(n,i))}removeTarget(t){this.Ke.delete(t)}tt(t){const n=this.Je(t).xe();return this.Qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Le(t){this.Je(t).Le()}Je(t){let n=this.Ke.get(t);return n||(n=new X_,this.Ke.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Te(ft),this.Ue=this.Ue.insert(t,n)),n}Ye(t){const n=this.et(t)!==null;return n||j("WatchChangeAggregator","Detected inactive target",t),n}et(t){const n=this.Ke.get(t);return n&&n.ve?null:this.Qe.lt(t)}Ze(t){this.Ke.set(t,new X_),this.Qe.getRemoteKeysForTarget(t).forEach(n=>{this.je(t,n,null)})}ut(t,n){return this.Qe.getRemoteKeysForTarget(t).has(n)}}function J_(){return new Mt(K.comparator)}function Z_(){return new Mt(K.comparator)}const u2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),c2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),h2=(()=>({and:"AND",or:"OR"}))();class f2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Kd(e,t){return e.useProto3Json||eh(t)?t:{value:t}}function uc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function d2(e,t){return uc(e,t.toTimestamp())}function Nn(e){return kt(!!e),tt.fromTimestamp(function(n){const i=Bi(n);return new Yt(i.seconds,i.nanos)}(e))}function Wg(e,t){return function(i){return new St(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function iT(e){const t=St.fromString(e);return kt(aT(t)),t}function Qd(e,t){return Wg(e.databaseId,t.path)}function hf(e,t){const n=iT(t);if(n.get(1)!==e.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(rT(n))}function Gd(e,t){return Wg(e.databaseId,t)}function p2(e){const t=iT(e);return t.length===4?St.emptyPath():rT(t)}function Yd(e){return new St(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rT(e){return kt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function tv(e,t,n){return{name:Qd(e,t),fields:n.value.mapValue.fields}}function g2(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(kt(c===void 0||typeof c=="string"),Ie.fromBase64String(c||"")):(kt(c===void 0||c instanceof Uint8Array),Ie.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?P.UNKNOWN:Zx(u.code);return new B(c,u.message||"")}(o);n=new eT(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=hf(e,i.document.name),s=Nn(i.document.updateTime),o=i.document.createTime?Nn(i.document.createTime):tt.min(),a=new sn({mapValue:{fields:i.document.fields}}),l=ve.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new hu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=hf(e,i.document),s=i.readTime?Nn(i.readTime):tt.min(),o=ve.newNoDocument(r,s),a=i.removedTargetIds||[];n=new hu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=hf(e,i.document),s=i.removedTargetIds||[];n=new hu([],s,r,null)}else{if(!("filter"in t))return J();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new r2(r,s),a=i.targetId;n=new tT(a,o)}}return n}function m2(e,t){let n;if(t instanceof rl)n={update:tv(e,t.key,t.value)};else if(t instanceof Jx)n={delete:Qd(e,t.key)};else if(t instanceof Fr)n={update:tv(e,t.key,t.data),updateMask:I2(t.fieldMask)};else{if(!(t instanceof e2))return J();n={verify:Qd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Pa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw J()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:d2(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(e,t.precondition)),n}function y2(e,t){return e&&e.length>0?(kt(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?Nn(r.updateTime):Nn(s);return o.isEqual(tt.min())&&(o=Nn(s)),new JR(o,r.transformResults||[])}(n,t))):[]}function _2(e,t){return{documents:[Gd(e,t.path)]}}function v2(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Gd(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gd(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return oT(Sn.create(l,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Kr(h.field),direction:x2(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Kd(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function w2(e){let t=p2(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){kt(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=sT(h);return f instanceof Sn&&Vx(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new _s(Qr(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,eh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new oc(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,d=h.values||[];return new oc(d,f)}(n.endAt)),FR(t,r,o,s,a,"F",l,u)}function E2(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function sT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Qr(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Qr(n.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qr(n.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qr(n.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(e):e.fieldFilter!==void 0?function(n){return Ht.create(Qr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(i=>sT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(e):J()}function x2(e){return u2[e]}function T2(e){return c2[e]}function S2(e){return h2[e]}function Kr(e){return{fieldPath:e.canonicalString()}}function Qr(e){return we.fromServerFormat(e.fieldPath)}function oT(e){return e instanceof Ht?function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(n.field),op:T2(n.op),value:n.value}}}(e):e instanceof Sn?function(n){const i=n.getFilters().map(r=>oT(r));return i.length===1?i[0]:{compositeFilter:{op:S2(n.op),filters:i}}}(e):J()}function I2(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function aT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n,i,r,s=tt.min(),o=tt.min(),a=Ie.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new vi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.ht=t}}function A2(e){const t=w2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ac(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.an=new C2}addToCollectionParentIndex(t,n){return this.an.add(n),C.resolve()}getCollectionParents(t,n){return C.resolve(this.an.getEntries(n))}addFieldIndex(t,n){return C.resolve()}deleteFieldIndex(t,n){return C.resolve()}deleteAllFieldIndexes(t){return C.resolve()}createTargetIndexes(t,n){return C.resolve()}getDocumentsMatchingTarget(t,n){return C.resolve(null)}getIndexType(t,n){return C.resolve(0)}getFieldIndexes(t,n){return C.resolve([])}getNextCollectionGroupToUpdate(t){return C.resolve(null)}getMinOffset(t,n){return C.resolve($i.min())}getMinOffsetFromCollectionGroup(t,n){return C.resolve($i.min())}updateCollectionGroup(t,n,i){return C.resolve()}updateIndexEntries(t,n){return C.resolve()}}class C2{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Te(St.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Te(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static Bn(){return new Vs(0)}static Ln(){return new Vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.changes=new Xs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ve.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?C.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Uo(i.mutation,r,vn.empty(),Yt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const r=dr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=To();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=dr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=ai();const o=jo(),a=function(){return jo()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Fr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Uo(c.mutation,u,c.mutation.getFieldMask(),Yt.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new R2(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=jo();let r=new Mt((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||vn.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||rt()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Ux();c.forEach(f=>{if(!s.has(f)){const d=Yx(n.get(f),i.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return C.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Fx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):C.resolve(dr());let a=-1,l=s;return o.next(u=>C.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?C.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,rt())).next(c=>({batchId:a,changes:jx(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(i=>{let r=To();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=To();return this.indexManager.getCollectionParents(t,s).next(a=>C.forEach(a,l=>{const u=function(h,f){return new Ys(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ve.newInvalidDocument(c)))});let a=To();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Uo(c.mutation,u,vn.empty(),Yt.now()),rh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.serializer=t,this.lr=new Map,this.hr=new Map}getBundleMetadata(t,n){return C.resolve(this.lr.get(n))}saveBundleMetadata(t,n){return this.lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Nn(r.createTime)}}(n)),C.resolve()}getNamedQuery(t,n){return C.resolve(this.hr.get(n))}saveNamedQuery(t,n){return this.hr.set(n.name,function(r){return{name:r.name,query:A2(r.bundledQuery),readTime:Nn(r.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.overlays=new Mt(K.comparator),this.Pr=new Map}getOverlay(t,n){return C.resolve(this.overlays.get(n))}getOverlays(t,n){const i=dr();return C.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.It(t,n,s)}),C.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Pr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(i)),C.resolve()}getOverlaysForCollection(t,n,i){const r=dr(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return C.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Mt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=dr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=dr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return C.resolve(a)}It(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new i2(n,i));let s=this.Pr.get(n);s===void 0&&(s=rt(),this.Pr.set(n,s)),this.Pr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Ir=new Te(Jt.dr),this.Tr=new Te(Jt.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(t,n){const i=new Jt(t,n);this.Ir=this.Ir.add(i),this.Tr=this.Tr.add(i)}Ar(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Rr(new Jt(t,n))}Vr(t,n){t.forEach(i=>this.removeReference(i,n))}mr(t){const n=new K(new St([])),i=new Jt(n,t),r=new Jt(n,t+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(t=>this.Rr(t))}Rr(t){this.Ir=this.Ir.delete(t),this.Tr=this.Tr.delete(t)}pr(t){const n=new K(new St([])),i=new Jt(n,t),r=new Jt(n,t+1);let s=rt();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Jt(t,0),i=this.Ir.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Jt{constructor(t,n){this.key=t,this.yr=n}static dr(t,n){return K.comparator(t.key,n.key)||ft(t.yr,n.yr)}static Er(t,n){return ft(t.yr,n.yr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Te(Jt.dr)}checkEmpty(t){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new n2(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Sr=this.Sr.add(new Jt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(t,n){return C.resolve(this.br(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Dr(i),s=r<0?0:r;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(t){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Jt(n,0),r=new Jt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([i,r],o=>{const a=this.br(o.yr);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Te(ft);return n.forEach(r=>{const s=new Jt(r,0),o=new Jt(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{i=i.add(a.yr)})}),C.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;K.isDocumentKey(s)||(s=s.child(""));const o=new Jt(new K(s),0);let a=new Te(ft);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.yr)),!0)},o),C.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.br(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){kt(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return C.forEach(n.mutations,r=>{const s=new Jt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Sr=i})}xn(t){}containsKey(t,n){const i=new Jt(n,0),r=this.Sr.firstAfterOrEqual(i);return C.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,C.resolve()}vr(t,n){return this.Dr(t)}Dr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}br(t){const n=this.Dr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.Fr=t,this.docs=function(){return new Mt(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Fr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return C.resolve(i?i.document.mutableCopy():ve.newInvalidDocument(n))}getEntries(t,n){let i=ai();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ve.newInvalidDocument(r))}),C.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=ai();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ER(wR(c),i)<=0||(r.has(c.key)||rh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(t,n,i,r){J()}Mr(t,n){return C.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new N2(this)}getSize(t){return C.resolve(this.size)}}class N2 extends b2{constructor(t){super(),this.ur=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ur.addEntry(t,r)):this.ur.removeEntry(i)}),C.waitFor(n)}getFromCache(t,n){return this.ur.getEntry(t,n)}getAllFromCache(t,n){return this.ur.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.persistence=t,this.Or=new Xs(n=>$g(n),Bg),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.Nr=0,this.Br=new qg,this.targetCount=0,this.Lr=Vs.Bn()}forEachTarget(t,n){return this.Or.forEach((i,r)=>n(r)),C.resolve()}getLastRemoteSnapshotVersion(t){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return C.resolve(this.Nr)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Nr&&(this.Nr=n),C.resolve()}Qn(t){this.Or.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Vs(n),this.highestTargetId=n),t.sequenceNumber>this.Nr&&(this.Nr=t.sequenceNumber)}addTargetData(t,n){return this.Qn(n),this.targetCount+=1,C.resolve()}updateTargetData(t,n){return this.Qn(n),C.resolve()}removeTargetData(t,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),C.waitFor(s).next(()=>r)}getTargetCount(t){return C.resolve(this.targetCount)}getTargetData(t,n){const i=this.Or.get(n)||null;return C.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Ar(n,i),C.resolve()}removeMatchingKeys(t,n,i){this.Br.Vr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.mr(n),C.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.pr(n);return C.resolve(i)}containsKey(t,n){return C.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,n){this.kr={},this.overlays={},this.qr=new Og(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new F2(this),this.indexManager=new P2,this.remoteDocumentCache=function(r){return new L2(r)}(i=>this.referenceDelegate.$r(i)),this.serializer=new k2(n),this.Ur=new M2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new V2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.kr[t.toKey()];return i||(i=new O2(n,this.referenceDelegate),this.kr[t.toKey()]=i),i}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(t,n,i){j("MemoryPersistence","Starting transaction:",t);const r=new B2(this.qr.next());return this.referenceDelegate.Wr(),i(r).next(s=>this.referenceDelegate.Gr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zr(t,n){return C.or(Object.values(this.kr).map(i=>()=>i.containsKey(t,n)))}}class B2 extends TR{constructor(t){super(),this.currentSequenceNumber=t}}class Kg{constructor(t){this.persistence=t,this.jr=new qg,this.Hr=null}static Jr(t){return new Kg(t)}get Yr(){if(this.Hr)return this.Hr;throw J()}addReference(t,n,i){return this.jr.addReference(i,n),this.Yr.delete(i.toString()),C.resolve()}removeReference(t,n,i){return this.jr.removeReference(i,n),this.Yr.add(i.toString()),C.resolve()}markPotentiallyOrphaned(t,n){return this.Yr.add(n.toString()),C.resolve()}removeTarget(t,n){this.jr.mr(n.targetId).forEach(r=>this.Yr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Yr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Wr(){this.Hr=new Set}Gr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Yr,i=>{const r=K.fromPath(i);return this.Zr(t,r).next(s=>{s||n.removeEntry(r,tt.min())})}).next(()=>(this.Hr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Zr(t,n).next(i=>{i?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(t){return 0}Zr(t,n){return C.or([()=>C.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.zr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Qi=i,this.Ki=r}static $i(t,n){let i=rt(),r=rt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Qg(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(t,n){this.ji=t,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Hi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new z2;return this.Yi(t,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(t,n,o,a.size)})}).next(()=>s.result)}Zi(t,n,i,r){return i.documentReadCount<this.Gi?(co()<=ut.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",qr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),C.resolve()):(co()<=ut.DEBUG&&j("QueryEngine","Query:",qr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.zi*r?(co()<=ut.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",qr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ln(n))):C.resolve())}Hi(t,n){if(H_(n))return C.resolve(null);let i=Ln(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ac(n,null,"F"),i=Ln(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=rt(...s);return this.ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(t,ac(n,null,"F")):this.ts(t,u,n,l)}))})))}Ji(t,n,i,r){return H_(n)||r.isEqual(tt.min())?C.resolve(null):this.ji.getDocuments(t,i).next(s=>{const o=this.Xi(n,s);return this.es(n,o,i,r)?C.resolve(null):(co()<=ut.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qr(n)),this.ts(t,o,n,vR(r,-1)).next(a=>a))})}Xi(t,n){let i=new Te(Bx(t));return n.forEach((r,s)=>{rh(t,s)&&(i=i.add(s))}),i}es(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Yi(t,n,i){return co()<=ut.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",qr(n)),this.ji.getDocumentsMatchingQuery(t,n,$i.min(),i)}ts(t,n,i,r){return this.ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n,i,r){this.persistence=t,this.ns=n,this.serializer=r,this.rs=new Mt(ft),this.ss=new Xs(s=>$g(s),Bg),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(i)}us(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new D2(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.rs))}}function H2(e,t,n,i){return new U2(e,t,n,i)}async function lT(e,t){const n=et(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.us(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=rt();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function W2(e,t){const n=et(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let d=C.resolve();return f.forEach(g=>{d=d.next(()=>c.getEntry(l,g)).next(y=>{const _=u.docVersions.get(g);kt(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=rt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function uT(e){const t=et(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Kr.getLastRemoteSnapshotVersion(n))}function q2(e,t){const n=et(e),i=t.snapshotVersion;let r=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});r=n.rs;const a=[];t.targetChanges.forEach((c,h)=>{const f=r.get(h);if(!f)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(Ie.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,i)),r=r.insert(h,d),function(y,_,m){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,d,c)&&a.push(n.Kr.updateTargetData(s,d))});let l=ai(),u=rt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(K2(s,o,t.documentUpdates).next(c=>{l=c.ls,u=c.hs})),!i.isEqual(tt.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(h=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=r,s))}function K2(e,t,n){let i=rt(),r=rt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=ai();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(tt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:r}})}function Q2(e,t){const n=et(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function G2(e,t){const n=et(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Kr.getTargetData(i,t).next(s=>s?(r=s,C.resolve(r)):n.Kr.allocateTargetId(i).next(o=>(r=new vi(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Kr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.rs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(i.targetId,i),n.ss.set(t,i.targetId)),i})}async function Xd(e,t,n){const i=et(e),r=i.rs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!il(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.rs=i.rs.remove(t),i.ss.delete(r.target)}function ev(e,t,n){const i=et(e);let r=tt.min(),s=rt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=et(l),f=h.ss.get(c);return f!==void 0?C.resolve(h.rs.get(f)):h.Kr.getTargetData(u,c)}(i,o,Ln(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ns.getDocumentsMatchingQuery(o,t,n?r:tt.min(),n?s:rt())).next(a=>(Y2(i,BR(t),a),{documents:a,Ps:s})))}function Y2(e,t,n){let i=e.os.get(t)||tt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.os.set(t,i)}class nv{constructor(){this.activeTargetIds=qR()}Rs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}As(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class X2{constructor(){this.ro=new nv,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.ro.Rs(t),this.io[t]||"not-current"}updateQueryState(t,n,i){this.io[t]=n}removeLocalQueryTarget(t){this.ro.Vs(t)}isLocalQueryTarget(t){return this.ro.activeTargetIds.has(t)}clearQueryState(t){delete this.io[t]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(t){return this.ro.activeTargetIds.has(t)}start(){return this.ro=new nv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{so(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(t){this.co.push(t)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.co)t(0)}uo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.co)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=null;function ff(){return Vl===null?Vl=function(){return 268435456+Math.round(2147483648*Math.random())}():Vl++,"0x"+Vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.ho=t.ho,this.Po=t.Po}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.Po()}send(t){this.ho(t)}Vo(){this.To()}mo(t){this.Ao(t)}fo(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class eD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=i+"://"+n.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get So(){return!1}bo(n,i,r,s,o){const a=ff(),l=this.Do(n,i);j("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,r).then(c=>(j("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw bs("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Fo(n,i,r,s,o,a){return this.bo(n,i,r,s,o)}Co(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}Do(n,i){const r=Z2[n];return`${this.po}/v1/${i}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,r){const s=ff();return new Promise((o,a)=>{const l=new lR;l.setWithCredentials(!0),l.listenOnce(oR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cf.NO_ERROR:const c=l.getResponseJson();j(ge,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case cf.TIMEOUT:j(ge,`RPC '${t}' ${s} timed out`),a(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:const h=l.getStatus();if(j(ge,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const g=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(m)>=0?m:P.UNKNOWN}(d.status);a(new B(g,d.message))}else a(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(P.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{j(ge,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);j(ge,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Mo(t,n,i){const r=ff(),s=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=rR(),a=sR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");j(ge,`Creating RPC '${t}' stream ${r}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,d=!1;const g=new tD({ho:_=>{d?j(ge,`Not sending because RPC '${t}' stream ${r} is closed:`,_):(f||(j(ge,`Opening RPC '${t}' stream ${r} transport.`),h.open(),f=!0),j(ge,`RPC '${t}' stream ${r} sending:`,_),h.send(_))},Po:()=>h.close()}),y=(_,m,p)=>{_.listen(m,v=>{try{p(v)}catch(E){setTimeout(()=>{throw E},0)}})};return y(h,Rl.EventType.OPEN,()=>{d||j(ge,`RPC '${t}' stream ${r} transport opened.`)}),y(h,Rl.EventType.CLOSE,()=>{d||(d=!0,j(ge,`RPC '${t}' stream ${r} transport closed`),g.mo())}),y(h,Rl.EventType.ERROR,_=>{d||(d=!0,bs(ge,`RPC '${t}' stream ${r} transport errored:`,_),g.mo(new B(P.UNAVAILABLE,"The operation could not be completed")))}),y(h,Rl.EventType.MESSAGE,_=>{var m;if(!d){const p=_.data[0];kt(!!p);const v=p,E=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(E){j(ge,`RPC '${t}' stream ${r} received error:`,E);const x=E.status;let S=function(O){const M=Bt[O];if(M!==void 0)return Zx(M)}(x),I=E.message;S===void 0&&(S=P.INTERNAL,I="Unknown error status: "+x+" with message "+E.message),d=!0,g.mo(new B(S,I)),h.close()}else j(ge,`RPC '${t}' stream ${r} received:`,p),g.fo(p)}}),y(a,aR.STAT_EVENT,_=>{_.stat===M_.PROXY?j(ge,`RPC '${t}' stream ${r} detected buffering proxy`):_.stat===M_.NOPROXY&&j(ge,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.Vo()},0),g}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(e){return new f2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,n,i=1e3,r=1.5,s=6e4){this._i=t,this.timerId=n,this.xo=i,this.Oo=r,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(t){this.cancel();const n=Math.floor(this.Bo+this.Ko()),i=Math.max(0,Date.now()-this.ko),r=Math.max(0,n-i);r>0&&j("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,r,()=>(this.ko=Date.now(),t())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,n,i,r,s,o,a,l){this._i=t,this.Uo=i,this.Wo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new cT(t,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(t){this.r_(),this.stream.send(t)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(t,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,t!==4?this.Ho.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Go===n&&this.__(i,r)},i=>{t(()=>{const r=new B(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.a_(r)})})}__(t,n){const i=this.o_(this.Go);this.stream=this.u_(t,n),this.stream.Io(()=>{i(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(r=>{i(()=>this.a_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(t){return j("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}o_(t){return n=>{this._i.enqueueAndForget(()=>this.Go===t?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends hT{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}u_(t,n){return this.connection.Mo("Listen",t,n)}onMessage(t){this.Ho.reset();const n=g2(this.serializer,t),i=function(s){if(!("targetChange"in s))return tt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?Nn(o.readTime):tt.min()}(t);return this.listener.c_(n,i)}l_(t){const n={};n.database=Yd(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Wd(l)?{documents:_2(s,l)}:{query:v2(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nT(s,o.resumeToken);const u=Kd(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(tt.min())>0){a.readTime=uc(s,o.snapshotVersion.toTimestamp());const u=Kd(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=E2(this.serializer,t);i&&(n.labels=i),this.n_(n)}h_(t){const n={};n.database=Yd(this.serializer),n.removeTarget=t,this.n_(n)}}class iD extends hT{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(t,n){return this.connection.Mo("Write",t,n)}onMessage(t){if(kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.P_){this.Ho.reset();const n=y2(t.writeResults,t.commitTime),i=Nn(t.commitTime);return this.listener.T_(i,n)}return kt(!t.writeResults||t.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const t={};t.database=Yd(this.serializer),this.n_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>m2(this.serializer,i))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.R_=!1}V_(){if(this.R_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.bo(t,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new B(P.UNKNOWN,r.toString())})}Fo(t,n,i,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(t,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class sD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(t){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.w_("Offline")))}set(t){this.D_(),this.f_=0,t==="Online"&&(this.p_=!1),this.w_(t)}w_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}S_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(oi(n),this.p_=!1):j("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{i.enqueueAndForget(async()=>{$r(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=et(l);u.F_.add(4),await ol(u),u.O_.set("Unknown"),u.F_.delete(4),await uh(u)}(this))})}),this.O_=new sD(i,r)}}async function uh(e){if($r(e))for(const t of e.M_)await t(!0)}async function ol(e){for(const t of e.M_)await t(!1)}function fT(e,t){const n=et(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),Xg(n)?Yg(n):Js(n).Yo()&&Gg(n,t))}function dT(e,t){const n=et(e),i=Js(n);n.v_.delete(t),i.Yo()&&pT(n,t),n.v_.size===0&&(i.Yo()?i.e_():$r(n)&&n.O_.set("Unknown"))}function Gg(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Js(e).l_(t)}function pT(e,t){e.N_.Le(t),Js(e).h_(t)}function Yg(e){e.N_=new l2({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.v_.get(t)||null,st:()=>e.datastore.serializer.databaseId}),Js(e).start(),e.O_.y_()}function Xg(e){return $r(e)&&!Js(e).Jo()&&e.v_.size>0}function $r(e){return et(e).F_.size===0}function gT(e){e.N_=void 0}async function aD(e){e.v_.forEach((t,n)=>{Gg(e,t)})}async function lD(e,t){gT(e),Xg(e)?(e.O_.b_(t),Yg(e)):e.O_.set("Unknown")}async function uD(e,t,n){if(e.O_.set("Online"),t instanceof eT&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.v_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.v_.delete(a),r.N_.removeTarget(a))}(e,t)}catch(i){j("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await cc(e,i)}else if(t instanceof hu?e.N_.Ge(t):t instanceof tT?e.N_.Xe(t):e.N_.He(t),!n.isEqual(tt.min()))try{const i=await uT(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.v_.get(u);c&&s.v_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.v_.get(l);if(!c)return;s.v_.set(l,c.withResumeToken(Ie.EMPTY_BYTE_STRING,c.snapshotVersion)),pT(s,l);const h=new vi(c.target,l,u,c.sequenceNumber);Gg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){j("RemoteStore","Failed to raise snapshot:",i),await cc(e,i)}}async function cc(e,t,n){if(!il(t))throw t;e.F_.add(1),await ol(e),e.O_.set("Offline"),n||(n=()=>uT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),e.F_.delete(1),await uh(e)})}function mT(e,t){return t().catch(n=>cc(e,n,t))}async function ch(e){const t=et(e),n=zi(t);let i=t.C_.length>0?t.C_[t.C_.length-1].batchId:-1;for(;cD(t);)try{const r=await Q2(t.localStore,i);if(r===null){t.C_.length===0&&n.e_();break}i=r.batchId,hD(t,r)}catch(r){await cc(t,r)}yT(t)&&_T(t)}function cD(e){return $r(e)&&e.C_.length<10}function hD(e,t){e.C_.push(t);const n=zi(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function yT(e){return $r(e)&&!zi(e).Jo()&&e.C_.length>0}function _T(e){zi(e).start()}async function fD(e){zi(e).A_()}async function dD(e){const t=zi(e);for(const n of e.C_)t.d_(n.mutations)}async function pD(e,t,n){const i=e.C_.shift(),r=Ug.from(i,t,n);await mT(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await ch(e)}async function gD(e,t){t&&zi(e).I_&&await async function(i,r){if(function(o){return s2(o)&&o!==P.ABORTED}(r.code)){const s=i.C_.shift();zi(i).Xo(),await mT(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ch(i)}}(e,t),yT(e)&&_T(e)}async function rv(e,t){const n=et(e);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const i=$r(n);n.F_.add(3),await ol(n),i&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.F_.delete(3),await uh(n)}async function mD(e,t){const n=et(e);t?(n.F_.delete(2),await uh(n)):t||(n.F_.add(2),await ol(n),n.O_.set("Unknown"))}function Js(e){return e.B_||(e.B_=function(n,i,r){const s=et(n);return s.V_(),new nD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Io:aD.bind(null,e),Eo:lD.bind(null,e),c_:uD.bind(null,e)}),e.M_.push(async t=>{t?(e.B_.Xo(),Xg(e)?Yg(e):e.O_.set("Unknown")):(await e.B_.stop(),gT(e))})),e.B_}function zi(e){return e.L_||(e.L_=function(n,i,r){const s=et(n);return s.V_(),new iD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Io:fD.bind(null,e),Eo:gD.bind(null,e),E_:dD.bind(null,e),T_:pD.bind(null,e)}),e.M_.push(async t=>{t?(e.L_.Xo(),await ch(e)):(await e.L_.stop(),e.C_.length>0&&(j("RemoteStore",`Stopping write stream with ${e.C_.length} pending writes`),e.C_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new Jg(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(e,t){if(oi("AsyncQueue",`${t}: ${e}`),il(e))return new B(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t){this.comparator=t?(n,i)=>t(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=To(),this.sortedSet=new Mt(this.comparator)}static emptySet(t){return new vs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new vs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.k_=new Mt(K.comparator)}track(t){const n=t.doc.key,i=this.k_.get(n);i?t.type!==0&&i.type===3?this.k_=this.k_.insert(n,t):t.type===3&&i.type!==1?this.k_=this.k_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.k_=this.k_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.k_=this.k_.remove(n):t.type===1&&i.type===2?this.k_=this.k_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):J():this.k_=this.k_.insert(n,t)}q_(){const t=[];return this.k_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Os{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Os(t,n,vs.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Q_=void 0,this.listeners=[]}}class _D{constructor(){this.queries=new Xs(t=>$x(t),ih),this.onlineState="Unknown",this.K_=new Set}}async function vD(e,t){const n=et(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new yD),r)try{s.Q_=await n.onListen(i)}catch(o){const a=Zg(o,`Initialization of query '${qr(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.listeners.push(t),t.U_(n.onlineState),s.Q_&&t.W_(s.Q_)&&tm(n)}async function wD(e,t){const n=et(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function ED(e,t){const n=et(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(r)&&(i=!0);o.Q_=r}}i&&tm(n)}function xD(e,t,n){const i=et(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function tm(e){e.K_.forEach(t=>{t.next()})}class TD{constructor(t,n,i){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Os(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.Z_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Os.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t){this.key=t}}class wT{constructor(t){this.key=t}}class SD{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=rt(),this.mutatedKeys=rt(),this.ua=Bx(t),this.ca=new vs(this.ua)}get la(){return this.oa}ha(t,n){const i=n?n.Pa:new sv,r=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,h)=>{const f=r.get(c),d=rh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;f&&d?f.data.isEqual(d.data)?g!==y&&(i.track({type:3,doc:d}),_=!0):this.Ia(f,d)||(i.track({type:2,doc:d}),_=!0,(l&&this.ua(d,l)>0||u&&this.ua(d,u)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),_=!0):f&&!d&&(i.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(d?(o=o.add(d),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{ca:o,Pa:i,es:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const r=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const s=t.Pa.q_();s.sort((u,c)=>function(f,d){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return g(f)-g(d)}(u.type,c.type)||this.ua(u.doc,c.doc)),this.da(i);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new Os(this.query,t.ca,r,s,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new sv,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}da(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ta(){if(!this.current)return[];const t=this.aa;this.aa=rt(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});const n=[];return t.forEach(i=>{this.aa.has(i)||n.push(new wT(i))}),this.aa.forEach(i=>{t.has(i)||n.push(new vT(i))}),n}Ra(t){this.oa=t.Ps,this.aa=rt();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Os.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class ID{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class kD{constructor(t){this.key=t,this.ma=!1}}class AD{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Xs(a=>$x(a),ih),this.pa=new Map,this.ya=new Set,this.wa=new Mt(K.comparator),this.Sa=new Map,this.ba=new qg,this.Da={},this.Ca=new Map,this.va=Vs.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function PD(e,t){const n=FD(e);let i,r;const s=n.ga.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Va();else{const o=await G2(n.localStore,Ln(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await CD(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&fT(n.remoteStore,o)}return r}async function CD(e,t,n,i,r){e.Ma=(h,f,d)=>async function(y,_,m,p){let v=_.view.ha(m);v.es&&(v=await ev(y.localStore,_.query,!1).then(({documents:S})=>_.view.ha(S,v)));const E=p&&p.targetChanges.get(_.targetId),x=_.view.applyChanges(v,y.isPrimaryClient,E);return av(y,_.targetId,x.Ea),x.snapshot}(e,h,f,d);const s=await ev(e.localStore,t,!0),o=new SD(t,s.Ps),a=o.ha(s.documents),l=sl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);av(e,n,u.Ea);const c=new ID(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function bD(e,t){const n=et(e),i=n.ga.get(t),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(s=>!ih(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xd(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),dT(n.remoteStore,i.targetId),Jd(n,i.targetId)}).catch(nl)):(Jd(n,i.targetId),await Xd(n.localStore,i.targetId,!0))}async function RD(e,t,n){const i=$D(e);try{const r=await function(o,a){const l=et(o),u=Yt.now(),c=a.reduce((d,g)=>d.add(g.key),rt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=ai(),y=rt();return l._s.getEntries(d,c).next(_=>{g=_,g.forEach((m,p)=>{p.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(_=>{h=_;const m=[];for(const p of a){const v=t2(p,h.get(p.key).overlayedDocument);v!=null&&m.push(new Fr(p.key,v,Rx(v.value.mapValue),ti.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,m,a)}).next(_=>{f=_;const m=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(d,_.batchId,m)})}).then(()=>({batchId:f.batchId,changes:jx(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Mt(ft)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(i,r.batchId,n),await al(i,r.changes),await ch(i.remoteStore)}catch(r){const s=Zg(r,"Failed to persist write");n.reject(s)}}async function ET(e,t){const n=et(e);try{const i=await q2(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Sa.get(s);o&&(kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ma=!0:r.modifiedDocuments.size>0?kt(o.ma):r.removedDocuments.size>0&&(kt(o.ma),o.ma=!1))}),await al(n,i,t)}catch(i){await nl(i)}}function ov(e,t,n){const i=et(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=et(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.U_(a)&&(u=!0)}),u&&tm(l)}(i.eventManager,t),r.length&&i.fa.c_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function DD(e,t,n){const i=et(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Sa.get(t),s=r&&r.key;if(s){let o=new Mt(K.comparator);o=o.insert(s,ve.newNoDocument(s,tt.min()));const a=rt().add(s),l=new ah(tt.min(),new Map,new Mt(ft),o,a);await ET(i,l),i.wa=i.wa.remove(s),i.Sa.delete(t),em(i)}else await Xd(i.localStore,t,!1).then(()=>Jd(i,t,n)).catch(nl)}async function MD(e,t){const n=et(e),i=t.batch.batchId;try{const r=await W2(n.localStore,t);TT(n,i,null),xT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await al(n,r)}catch(r){await nl(r)}}async function VD(e,t,n){const i=et(e);try{const r=await function(o,a){const l=et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(kt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);TT(i,t,n),xT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await al(i,r)}catch(r){await nl(r)}}function xT(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function TT(e,t,n){const i=et(e);let r=i.Da[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Da[i.currentUser.toKey()]=r}}function Jd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.pa.get(t))e.ga.delete(i),n&&e.fa.xa(i,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach(i=>{e.ba.containsKey(i)||ST(e,i)})}function ST(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(dT(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),em(e))}function av(e,t,n){for(const i of n)i instanceof vT?(e.ba.addReference(i.key,t),OD(e,i)):i instanceof wT?(j("SyncEngine","Document no longer in limbo: "+i.key),e.ba.removeReference(i.key,t),e.ba.containsKey(i.key)||ST(e,i.key)):J()}function OD(e,t){const n=t.key,i=n.path.canonicalString();e.wa.get(n)||e.ya.has(i)||(j("SyncEngine","New document in limbo: "+n),e.ya.add(i),em(e))}function em(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new K(St.fromString(t)),i=e.va.next();e.Sa.set(i,new kD(n)),e.wa=e.wa.insert(n,i),fT(e.remoteStore,new vi(Ln(zg(n.path)),i,"TargetPurposeLimboResolution",Og.ae))}}async function al(e,t,n){const i=et(e),r=[],s=[],o=[];i.ga.isEmpty()||(i.ga.forEach((a,l)=>{o.push(i.Ma(l,t,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){r.push(u);const c=Qg.$i(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.fa.c_(r),await async function(l,u){const c=et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(u,f=>C.forEach(f.Qi,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>C.forEach(f.Ki,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!il(h))throw h;j("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=c.rs.get(f),g=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(g);c.rs=c.rs.insert(f,y)}}}(i.localStore,s))}async function LD(e,t){const n=et(e);if(!n.currentUser.isEqual(t)){j("SyncEngine","User change. New user:",t.toKey());const i=await lT(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new B(P.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await al(n,i.cs)}}function ND(e,t){const n=et(e),i=n.Sa.get(t);if(i&&i.ma)return rt().add(i.key);{let r=rt();const s=n.pa.get(t);if(!s)return r;for(const o of s){const a=n.ga.get(o);r=r.unionWith(a.view.la)}return r}}function FD(e){const t=et(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ND.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DD.bind(null,t),t.fa.c_=ED.bind(null,t.eventManager),t.fa.xa=xD.bind(null,t.eventManager),t}function $D(e){const t=et(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,t),t}class lv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=lh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return H2(this.persistence,new j2,t.initialUser,this.serializer)}createPersistence(t){return new $2(Kg.Jr,this.serializer)}createSharedClientState(t){return new X2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BD{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LD.bind(null,this.syncEngine),await mD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _D}()}createDatastore(t){const n=lh(t.databaseInfo.databaseId),i=function(s){return new eD(s)}(t.databaseInfo);return function(s,o,a,l){return new rD(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new oD(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>ov(this.syncEngine,n,0),function(){return iv.C()?new iv:new J2}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,c){const h=new AD(r,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=et(n);j("RemoteStore","RemoteStore shutting down."),i.F_.add(5),await ol(i),i.x_.shutdown(),i.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):oi("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ye.UNAUTHENTICATED,this.clientId=Px.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Zg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function pf(e,t){e.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await lT(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function uv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await HD(e);j("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(r=>rv(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>rv(t.remoteStore,s)),e._onlineComponents=t}function UD(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function HD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await pf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!UD(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await pf(e,new lv)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await pf(e,new lv);return e._offlineComponents}async function IT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await uv(e,e._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await uv(e,new BD))),e._onlineComponents}function WD(e){return IT(e).then(t=>t.syncEngine)}async function cv(e){const t=await IT(e),n=t.eventManager;return n.onListen=PD.bind(null,t.syncEngine),n.onUnlisten=bD.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(e,t,n){if(!n)throw new B(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qD(e,t,n,i){if(t===!0&&i===!0)throw new B(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function fv(e){if(!K.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dv(e){if(K.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":J()}function Ho(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(e);throw new B(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function KD(e,t){if(t<=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cR;switch(i.type){case"firstParty":return new pR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=hv.get(n);i&&(j("ComponentProvider","Removing Datastore"),hv.delete(n),i.terminate())}(this),Promise.resolve()}}function QD(e,t,n,i={}){var r;const s=(e=Ho(e,fh))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=ye.MOCK_USER;else{a=jP(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ye(u)}e._authCredentials=new hR(new Ax(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Qi(this.firestore,t,this._query)}}class qe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}}class Oi extends Qi{constructor(t,n,i){super(t,n,zg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new K(t))}withConverter(t){return new Oi(this.firestore,t,this._path)}}function Ra(e,t,...n){if(e=Ar(e),AT("collection","path",t),e instanceof fh){const i=St.fromString(t,...n);return dv(i),new Oi(e,null,i)}{if(!(e instanceof qe||e instanceof Oi))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(St.fromString(t,...n));return dv(i),new Oi(e.firestore,null,i)}}function GD(e,t,...n){if(e=Ar(e),arguments.length===1&&(t=Px.V()),AT("doc","path",t),e instanceof fh){const i=St.fromString(t,...n);return fv(i),new qe(e,null,new K(i))}{if(!(e instanceof qe||e instanceof Oi))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(St.fromString(t,...n));return fv(i),new qe(e.firestore,e instanceof Oi?e.converter:null,new K(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new cT(this,"async_queue_retry"),this.ou=()=>{const n=df();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const t=df();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this._u(),this.au(t)}enterRestrictedMode(t){if(!this.eu){this.eu=!0,this.iu=t||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(t){if(this._u(),this.eu)return new Promise(()=>{});const n=new vr;return this.au(()=>this.eu&&this.iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xa.push(t),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(t){if(!il(t))throw t;j("AsyncQueue","Operation failed with retryable error: "+t)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(t){const n=this.Za.then(()=>(this.ru=!0,t().catch(i=>{this.nu=i,this.ru=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw oi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.ru=!1,i))));return this.Za=n,n}enqueueAfterDelay(t,n,i){this._u(),this.su.indexOf(t)>-1&&(n=0);const r=Jg.createAndSchedule(this,t,n,i,s=>this.cu(s));return this.tu.push(r),r}_u(){this.nu&&J()}verifyOperationInProgress(){}async lu(){let t;do t=this.Za,await t;while(t!==this.Za)}hu(t){for(const n of this.tu)if(n.timerId===t)return!0;return!1}Pu(t){return this.lu().then(()=>{this.tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lu()})}Iu(t){this.su.push(t)}cu(t){const n=this.tu.indexOf(t);this.tu.splice(n,1)}}function gv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class hc extends fh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new YD}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||CT(this),this._firestoreClient.terminate()}}function XD(e,t){const n=typeof e=="object"?e:qC(),i=typeof e=="string"?e:t||"(default)",r=jC(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=BP("firestore");s&&QD(r,...s)}return r}function PT(e){return e._firestoreClient||CT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function CT(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,c){return new kR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kT(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new jD(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ls(Ie.fromBase64String(t))}catch(n){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ls(Ie.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new we(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ft(this._lat,t._lat)||ft(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=/^__.*__$/;class ZD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Fr(t,this.data,this.fieldMask,n,this.fieldTransforms):new rl(t,this.data,n,this.fieldTransforms)}}function bT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class sm{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new sm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Eu({path:i,Ru:!1});return r.Vu(t),r}mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Eu({path:i,Ru:!1});return r.du(),r}fu(t){return this.Eu({path:void 0,Ru:!0})}gu(t){return fc(t,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vu(this.path.get(t))}Vu(t){if(t.length===0)throw this.gu("Document fields must not be empty");if(bT(this.Tu)&&JD.test(t))throw this.gu('Document fields cannot begin and end with "__"')}}class tM{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||lh(t)}wu(t,n,i,r=!1){return new sm({Tu:t,methodName:n,yu:i,path:we.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RT(e){const t=e._freezeSettings(),n=lh(e._databaseId);return new tM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eM(e,t,n,i,r,s={}){const o=e.wu(s.merge||s.mergeFields?2:0,t,n,r);VT("Data must be an object, but it was:",o,i);const a=DT(i,o);let l,u;if(s.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=iM(t,h,n);if(!o.contains(f))throw new B(P.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);sM(c,f)||c.push(f)}l=new vn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new ZD(new sn(a),l,u)}class om extends im{_toFieldTransform(t){return new YR(t.path,new Pa)}isEqual(t){return t instanceof om}}function nM(e,t,n,i=!1){return am(n,e.wu(i?4:3,t))}function am(e,t){if(MT(e=Ar(e)))return VT("Unsupported field value:",t,e),DT(e,t);if(e instanceof im)return function(i,r){if(!bT(r.Tu))throw r.gu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&t.Tu!==4)throw t.gu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=am(a,r.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Ar(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KR(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Yt.fromDate(i);return{timestampValue:uc(r.serializer,s)}}if(i instanceof Yt){const s=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uc(r.serializer,s)}}if(i instanceof rm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ls)return{bytesValue:nT(r.serializer,i._byteString)};if(i instanceof qe){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wg(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.gu(`Unsupported field value: ${hh(i)}`)}(e,t)}function DT(e,t){const n={};return Cx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gs(e,(i,r)=>{const s=am(r,t.Au(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function MT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Yt||e instanceof rm||e instanceof Ls||e instanceof qe||e instanceof im)}function VT(e,t,n){if(!MT(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=hh(n);throw i==="an object"?t.gu(e+" a custom object"):t.gu(e+" "+i)}}function iM(e,t,n){if((t=Ar(t))instanceof nm)return t._internalPath;if(typeof t=="string")return OT(e,t);throw fc("Field path arguments must be of type string or ",e,!1,void 0,n)}const rM=new RegExp("[~\\*/\\[\\]]");function OT(e,t,n){if(t.search(rM)>=0)throw fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new nm(...t.split("."))._internalPath}catch{throw fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fc(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new B(P.INVALID_ARGUMENT,a+e+l)}function sM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oM extends LT{data(){return super.data()}}function lm(e,t){return typeof t=="string"?OT(e,t):t instanceof nm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class um{}class cm extends um{}function hm(e,t,...n){let i=[];t instanceof um&&i.push(t),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof dm).length,a=s.filter(l=>l instanceof fm).length;if(o>1||o>0&&a>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class fm extends cm{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new fm(t,n,i)}_apply(t){const n=this._parse(t);return NT(t._query,n),new Qi(t.firestore,t.converter,qd(t._query,n))}_parse(t){const n=RT(t.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yv(h,c);const d=[];for(const g of h)d.push(mv(l,s,g));f={arrayValue:{values:d}}}else f=mv(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yv(h,c),f=nM(a,o,h,c==="in"||c==="not-in");return Ht.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class dm extends um{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new dm(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)NT(o,l),o=qd(o,l)}(t._query,n),new Qi(t.firestore,t.converter,qd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pm extends cm{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new pm(t,n)}_apply(t){const n=function(r,s,o){if(r.startAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new _s(s,o);return function(u,c){if(jg(u)===null){const h=nh(u);h!==null&&FT(u,h,c.field)}}(r,a),a}(t._query,this._field,this._direction);return new Qi(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Ys(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function gm(e,t="asc"){const n=t,i=lm("orderBy",e);return pm._create(i,n)}class mm extends cm{constructor(t,n,i){super(),this.type=t,this._limit=n,this._limitType=i}static _create(t,n,i){return new mm(t,n,i)}_apply(t){return new Qi(t.firestore,t.converter,ac(t._query,this._limit,this._limitType))}}function lM(e){return KD("limit",e),mm._create("limit",e,"F")}function mv(e,t,n){if(typeof(n=Ar(n))=="string"){if(n==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fx(t)&&n.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(St.fromString(n));if(!K.isDocumentKey(i))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return F_(e,new K(i))}if(n instanceof qe)return F_(e,n._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function yv(e,t){if(!Array.isArray(e)||e.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function NT(e,t){if(t.isInequality()){const i=nh(e),r=t.field;if(i!==null&&!i.isEqual(r))throw new B(P.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=jg(e);s!==null&&FT(e,r,s)}const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function FT(e,t,n){if(!n.isEqual(t))throw new B(P.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uM{convertValue(t,n="none"){switch(Rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw J()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Gs(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new rm(jt(t.latitude),jt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ng(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ia(t));default:return null}}convertTimestamp(t){const n=Bi(t);return new Yt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=St.fromString(t);kt(aT(i));const r=new ka(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(n)||oi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $T extends LT{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class fu extends $T{data(t={}){return super.data(t)}}class hM{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Io(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new fu(this._firestore,this._userDataWriter,i.key,i,new Io(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new fu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Io(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new fu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Io(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:fM(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class BT extends uM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ls(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function zT(e,t){const n=Ho(e.firestore,hc),i=GD(e),r=cM(e.converter,t);return dM(n,[eM(RT(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,ti.exists(!1))]).then(()=>i)}function ym(e,...t){var n,i,r;e=Ar(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||gv(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(gv(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,u,c;if(e instanceof qe)u=Ho(e.firestore,hc),c=zg(e._key.path),l={next:h=>{t[o]&&t[o](pM(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Ho(e,Qi);u=Ho(h.firestore,hc),c=h._query;const f=new BT(u);l={next:d=>{t[o]&&t[o](new hM(u,f,h,d))},error:t[o+1],complete:t[o+2]},aM(e._query)}return function(f,d,g,y){const _=new zD(y),m=new TD(d,_,g);return f.asyncQueue.enqueueAndForget(async()=>vD(await cv(f),m)),()=>{_.La(),f.asyncQueue.enqueueAndForget(async()=>wD(await cv(f),m))}}(PT(u),c,a,l)}function dM(e,t){return function(i,r){const s=new vr;return i.asyncQueue.enqueueAndForget(async()=>RD(await WD(i),r,s)),s.promise}(PT(e),t)}function pM(e,t,n){const i=n.docs.get(t._key),r=new BT(e);return new $T(e,r,t._key,i,new Io(n.hasPendingWrites,n.fromCache),t.converter)}function jT(){return new om("serverTimestamp")}(function(t,n=!0){(function(r){Qs=r})(WC),Xu(new pa("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new hc(new fR(i.getProvider("auth-internal")),new mR(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),gs(V_,"4.2.0",t),gs(V_,"4.2.0","esm2017")})();const gM={apiKey:"AIzaSyBWqattyaPKqqntjj6bVnFLGruNx4gd-o8",authDomain:"lecoreco-50590.firebaseapp.com",projectId:"lecoreco-50590",storageBucket:"lecoreco-50590.appspot.com",messagingSenderId:"21542480693",appId:"1:21542480693:web:a8dc7f2aad3d3571bb7a7c"};xE(gM);const Da=XD(),mM=()=>{const{register:e,handleSubmit:t,reset:n}=dE({defaultValues:{bank_mitsui:1e3},shouldUnregister:!1}),i=async r=>{const s=await zT(Ra(Da,"Money"),{...r,bank_mitsui:Number(r.bank_mitsui),bank_fukuoka:Number(r.bank_fukuoka),wallet:Number(r.wallet),family_finance:Number(r.family_finance),timestamp:jT()});console.log(s),alert("Done")};return D.useEffect(()=>{const r=hm(Ra(Da,"Money"),gm("timestamp","desc"),lM(1)),s=ym(r,o=>{const a=o.docs.map(l=>l.data());n({bank_mitsui:a[0].bank_mitsui,bank_fukuoka:a[0].bank_fukuoka,wallet:a[0].wallet,family_finance:a[0].family_finance})});return()=>s()},[n]),z.jsx(z.Fragment,{children:z.jsxs("form",{onSubmit:t(i),children:[z.jsx("table",{children:z.jsxs("tbody",{children:[z.jsxs("tr",{children:[z.jsx("td",{children:""}),z.jsx("td",{children:z.jsx("input",{type:"number",...e("bank_mitsui",{required:!0,pattern:/\d*/})})})]}),z.jsxs("tr",{children:[z.jsx("td",{children:""}),z.jsx("td",{children:z.jsx("input",{type:"number",...e("bank_fukuoka",{required:!0,pattern:/\d*/})})})]}),z.jsxs("tr",{children:[z.jsx("td",{children:""}),z.jsx("td",{children:z.jsx("input",{type:"number",...e("wallet",{required:!0,pattern:/\d*/})})})]}),z.jsxs("tr",{children:[z.jsx("td",{children:""}),z.jsx("td",{children:z.jsx("input",{type:"number",...e("family_finance",{required:!0,pattern:/\d*/})})})]})]})}),z.jsx("button",{type:"submit",children:""})]})})},yM=()=>{const{register:e,handleSubmit:t}=dE({shouldUnregister:!1}),n=async i=>{console.log(i);const r=await zT(Ra(Da,"Health"),{...i,timestamp:jT()});console.log(r),alert("Done")};return z.jsx(z.Fragment,{children:z.jsxs("form",{onSubmit:t(n),children:[z.jsx("table",{children:z.jsxs("tbody",{children:[z.jsxs("tr",{children:[z.jsx("td",{children:""}),z.jsx("td",{children:z.jsx("input",{type:"text",...e("weight",{required:!0})})})]}),z.jsxs("tr",{children:[z.jsx("td",{children:""}),z.jsx("td",{children:z.jsx("input",{type:"text",...e("fatPercentage",{required:!0})})})]})]})}),z.jsx("button",{children:""})]})})},_M=()=>{const[e,t]=D.useState([]),[n,i]=D.useState({bank_mitsui:0,bank_fukuoka:0,wallet:0,family_finance:0});return D.useEffect(()=>{const r=hm(Ra(Da,"Money"),gm("timestamp","asc")),s=ym(r,o=>{const a=o.docs.map(u=>u.data());t(a);const l=a.reduce((u,c)=>({bank_mitsui:u.bank_mitsui+c.bank_mitsui,bank_fukuoka:u.bank_fukuoka+c.bank_fukuoka,wallet:u.wallet+c.wallet,family_finance:u.family_finance+c.family_finance}),{bank_mitsui:0,bank_fukuoka:0,wallet:0,family_finance:0});i(l)});return()=>s()},[]),z.jsx(z.Fragment,{children:z.jsx(z.Fragment,{children:z.jsxs("p",{children:[" : ",`${(n.bank_mitsui+n.bank_fukuoka+n.wallet+n.family_finance).toLocaleString()}`]})})})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ll(e){return e+.5|0}const wi=(e,t,n)=>Math.max(Math.min(e,n),t);function ko(e){return wi(ll(e*2.55),0,255)}function Li(e){return wi(ll(e*255),0,255)}function Qn(e){return wi(ll(e/2.55)/100,0,1)}function _v(e){return wi(ll(e*100),0,100)}const Je={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zd=[..."0123456789ABCDEF"],vM=e=>Zd[e&15],wM=e=>Zd[(e&240)>>4]+Zd[e&15],Ol=e=>(e&240)>>4===(e&15),EM=e=>Ol(e.r)&&Ol(e.g)&&Ol(e.b)&&Ol(e.a);function xM(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Je[e[1]]*17,g:255&Je[e[2]]*17,b:255&Je[e[3]]*17,a:t===5?Je[e[4]]*17:255}:(t===7||t===9)&&(n={r:Je[e[1]]<<4|Je[e[2]],g:Je[e[3]]<<4|Je[e[4]],b:Je[e[5]]<<4|Je[e[6]],a:t===9?Je[e[7]]<<4|Je[e[8]]:255})),n}const TM=(e,t)=>e<255?t(e):"";function SM(e){var t=EM(e)?vM:wM;return e?"#"+t(e.r)+t(e.g)+t(e.b)+TM(e.a,t):void 0}const IM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UT(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function kM(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function AM(e,t,n){const i=UT(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function PM(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function _m(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=PM(n,i,r,c,s),l=l*60+.5),[l|0,u||0,a]}function vm(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Li)}function wm(e,t,n){return vm(UT,e,t,n)}function CM(e,t,n){return vm(AM,e,t,n)}function bM(e,t,n){return vm(kM,e,t,n)}function HT(e){return(e%360+360)%360}function RM(e){const t=IM.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ko(+t[5]):Li(+t[5]));const r=HT(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=CM(r,s,o):t[1]==="hsv"?i=bM(r,s,o):i=wm(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function DM(e,t){var n=_m(e);n[0]=HT(n[0]+t),n=wm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function MM(e){if(!e)return;const t=_m(e),n=t[0],i=_v(t[1]),r=_v(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Qn(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const vv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VM(){const e={},t=Object.keys(wv),n=Object.keys(vv);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,vv[s]);s=parseInt(wv[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Ll;function OM(e){Ll||(Ll=VM(),Ll.transparent=[0,0,0,0]);const t=Ll[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const LM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function NM(e){const t=LM.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?ko(o):wi(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?ko(i):wi(i,0,255)),r=255&(t[4]?ko(r):wi(r,0,255)),s=255&(t[6]?ko(s):wi(s,0,255)),{r:i,g:r,b:s,a:n}}}function FM(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Qn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const gf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Wr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function $M(e,t,n){const i=Wr(Qn(e.r)),r=Wr(Qn(e.g)),s=Wr(Qn(e.b));return{r:Li(gf(i+n*(Wr(Qn(t.r))-i))),g:Li(gf(r+n*(Wr(Qn(t.g))-r))),b:Li(gf(s+n*(Wr(Qn(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Nl(e,t,n){if(e){let i=_m(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=wm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function WT(e,t){return e&&Object.assign(t||{},e)}function Ev(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Li(e[3]))):(t=WT(e,{r:0,g:0,b:0,a:1}),t.a=Li(t.a)),t}function BM(e){return e.charAt(0)==="r"?NM(e):RM(e)}class Ma{constructor(t){if(t instanceof Ma)return t;const n=typeof t;let i;n==="object"?i=Ev(t):n==="string"&&(i=xM(t)||OM(t)||BM(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=WT(this._rgb);return t&&(t.a=Qn(t.a)),t}set rgb(t){this._rgb=Ev(t)}rgbString(){return this._valid?FM(this._rgb):void 0}hexString(){return this._valid?SM(this._rgb):void 0}hslString(){return this._valid?MM(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=$M(this._rgb,t._rgb,n)),this}clone(){return new Ma(this.rgb)}alpha(t){return this._rgb.a=Li(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ll(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Nl(this._rgb,2,t),this}darken(t){return Nl(this._rgb,2,-t),this}saturate(t){return Nl(this._rgb,1,t),this}desaturate(t){return Nl(this._rgb,1,-t),this}rotate(t){return DM(this._rgb,t),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function jn(){}const zM=(()=>{let e=0;return()=>e++})();function gt(e){return e===null||typeof e>"u"}function Ct(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ht(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function te(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Be(e,t){return te(e)?e:t}function it(e,t){return typeof e>"u"?t:e}const jM=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function wt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function pt(e,t,n,i){let r,s,o;if(Ct(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(ht(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function dc(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function pc(e){if(Ct(e))return e.map(pc);if(ht(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=pc(e[n[r]]);return t}return e}function qT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function UM(e,t,n,i){if(!qT(e))return;const r=t[e],s=n[e];ht(r)&&ht(s)?Va(r,s,i):t[e]=pc(s)}function Va(e,t,n){const i=Ct(t)?t:[t],r=i.length;if(!ht(e))return e;n=n||{};const s=n.merger||UM;let o;for(let a=0;a<r;++a){if(o=i[a],!ht(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],e,o,n)}return e}function Wo(e,t){return Va(e,t,{merger:HM})}function HM(e,t,n){if(!qT(e))return;const i=t[e],r=n[e];ht(i)&&ht(r)?Wo(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=pc(r))}const xv={"":e=>e,x:e=>e.x,y:e=>e.y};function WM(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function qM(e){const t=WM(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Ns(e,t){return(xv[t]||(xv[t]=qM(t)))(e)}function Em(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Oa=e=>typeof e<"u",ji=e=>typeof e=="function",Tv=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function KM(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const qt=Math.PI,un=2*qt,QM=un+qt,gc=Number.POSITIVE_INFINITY,GM=qt/180,Ue=qt/2,Xi=qt/4,Sv=qt*2/3,Ei=Math.log10,Fn=Math.sign;function qo(e,t,n){return Math.abs(e-t)<n}function Iv(e){const t=Math.round(e);e=qo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ei(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function YM(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function La(e){return!isNaN(parseFloat(e))&&isFinite(e)}function XM(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function KT(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function xi(e){return e*(qt/180)}function xm(e){return e*(180/qt)}function kv(e){if(!te(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function JM(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*qt&&(s+=un),{angle:s,distance:r}}function tp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ZM(e,t){return(e-t+QM)%un-qt}function mn(e){return(e%un+un)%un}function QT(e,t,n,i){const r=mn(e),s=mn(t),o=mn(n),a=mn(s-r),l=mn(o-r),u=mn(r-s),c=mn(r-o);return r===s||r===o||i&&s===o||a>l&&u<c}function He(e,t,n){return Math.max(t,Math.min(n,e))}function tV(e){return He(e,-32768,32767)}function pr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Tm(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const gr=(e,t,n,i)=>Tm(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),eV=(e,t,n)=>Tm(e,n,i=>e[i][t]>=n);function nV(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const GT=["push","pop","shift","splice","unshift"];function iV(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),GT.forEach(n=>{const i="_onData"+Em(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Av(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(GT.forEach(s=>{delete e[s]}),delete e._chartjs)}function YT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const XT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function JT(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,XT.call(window,()=>{i=!1,e.apply(t,n)}))}}function rV(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Sm=e=>e==="start"?"left":e==="end"?"right":"center",me=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,sV=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function oV(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:u,max:c,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=He(Math.min(gr(a,l,u).lo,n?i:gr(t,l,o.getPixelForValue(u)).lo),0,i-1)),f?s=He(Math.max(gr(a,o.axis,c,!0).hi+1,n?0:gr(t,l,o.getPixelForValue(c),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function aV(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Fl=e=>e===0||e===1,Pv=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*un/n)),Cv=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*un/n)+1,Ko={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ue)+1,easeOutSine:e=>Math.sin(e*Ue),easeInOutSine:e=>-.5*(Math.cos(qt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Fl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Fl(e)?e:Pv(e,.075,.3),easeOutElastic:e=>Fl(e)?e:Cv(e,.075,.3),easeInOutElastic(e){return Fl(e)?e:e<.5?.5*Pv(e*2,.1125,.45):.5+.5*Cv(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ko.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ko.easeInBounce(e*2)*.5:Ko.easeOutBounce(e*2-1)*.5+.5};function Im(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function bv(e){return Im(e)?e:new Ma(e)}function mf(e){return Im(e)?e:new Ma(e).saturate(.5).darken(.1).hexString()}const lV=["x","y","borderWidth","radius","tension"],uV=["color","borderColor","backgroundColor"];function cV(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:uV},numbers:{type:"number",properties:lV}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hV(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rv=new Map;function fV(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Rv.get(n);return i||(i=new Intl.NumberFormat(e,t),Rv.set(n,i)),i}function km(e,t,n){return fV(t,n).format(e)}const ZT={values(e){return Ct(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=dV(e,n)}const o=Ei(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),km(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Ei(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?ZT.numeric.call(this,e,t,n):""}};function dV(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var dh={formatters:ZT};function pV(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Dr=Object.create(null),ep=Object.create(null);function Qo(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function yf(e,t,n){return typeof t=="string"?Va(Qo(e,t),n):Va(Qo(e,""),t)}class gV{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>mf(r.backgroundColor),this.hoverBorderColor=(i,r)=>mf(r.borderColor),this.hoverColor=(i,r)=>mf(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return yf(this,t,n)}get(t){return Qo(this,t)}describe(t,n){return yf(ep,t,n)}override(t,n){return yf(Dr,t,n)}route(t,n,i,r){const s=Qo(this,t),o=Qo(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return ht(l)?Object.assign({},u,l):it(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Lt=new gV({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[cV,hV,pV]);function mV(e){return!e||gt(e.size)||gt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function mc(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function yV(e,t,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,u,c,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Ct(h))o=mc(e,r,s,o,h);else if(Ct(h))for(u=0,c=h.length;u<c;u++)f=h[u],f!=null&&!Ct(f)&&(o=mc(e,r,s,o,f));e.restore();const d=s.length/2;if(d>n.length){for(l=0;l<d;l++)delete r[s[l]];s.splice(0,d)}return o}function Ji(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function Dv(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function np(e,t,n,i){tS(e,t,n,i,null)}function tS(e,t,n,i,r){let s,o,a,l,u,c,h,f;const d=t.pointStyle,g=t.rotation,y=t.radius;let _=(g||0)*GM;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(_),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),d){default:r?e.ellipse(n,i,r/2,y,0,0,un):e.arc(n,i,y,0,un),e.closePath();break;case"triangle":c=r?r/2:y,e.moveTo(n+Math.sin(_)*c,i-Math.cos(_)*y),_+=Sv,e.lineTo(n+Math.sin(_)*c,i-Math.cos(_)*y),_+=Sv,e.lineTo(n+Math.sin(_)*c,i-Math.cos(_)*y),e.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(_+Xi)*l,h=Math.cos(_+Xi)*(r?r/2-u:l),a=Math.sin(_+Xi)*l,f=Math.sin(_+Xi)*(r?r/2-u:l),e.arc(n-h,i-a,u,_-qt,_-Ue),e.arc(n+f,i-o,u,_-Ue,_),e.arc(n+h,i+a,u,_,_+Ue),e.arc(n-f,i+o,u,_+Ue,_+qt),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,c=r?r/2:l,e.rect(n-c,i-l,2*c,2*l);break}_+=Xi;case"rectRot":h=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":_+=Xi;case"cross":h=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),_+=Xi,h=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(_)*y,a=Math.sin(_)*y,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(_)*(r?r/2:y),i+Math.sin(_)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Jn(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Am(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Pm(e){e.restore()}function _V(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function vV(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function wV(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),gt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function EV(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,c),e.lineTo(a,c),e.stroke()}}function xV(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Mr(e,t,n,i,r,s={}){const o=Ct(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(e.save(),e.font=r.string,wV(e,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&xV(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),gt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,i,s.maxWidth)),e.fillText(u,n,i,s.maxWidth),EV(e,n,i,u,s),i+=Number(r.lineHeight);e.restore()}function Na(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*qt,qt,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,qt,Ue,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ue,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ue,!0),e.lineTo(n+o.topLeft,i)}const TV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IV(e,t){const n=(""+e).match(TV);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const kV=e=>+e||0;function eS(e,t){const n={},i=ht(t),r=i?Object.keys(t):t,s=ht(e)?i?o=>it(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=kV(s(o));return n}function nS(e){return eS(e,{top:"y",right:"x",bottom:"y",left:"x"})}function wr(e){return eS(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ke(e){const t=nS(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Gt(e,t){e=e||{},t=t||Lt.font;let n=it(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=it(e.style,t.style);i&&!(""+i).match(SV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:it(e.family,t.family),lineHeight:IV(it(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:it(e.weight,t.weight),string:""};return r.string=mV(r),r}function $l(e,t,n,i){let r=!0,s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),n!==void 0&&Ct(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function AV(e,t,n){const{min:i,max:r}=e,s=jM(t,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Gi(e,t){return Object.assign(Object.create(e),t)}function Cm(e,t=[""],n,i,r=()=>e[0]){const s=n||e;typeof i>"u"&&(i=oS("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Cm([a,...e],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return rS(a,l,()=>OV(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Vv(a).includes(l)},ownKeys(a){return Vv(a)},set(a,l,u){const c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function Fs(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:iS(e,i),setContext:s=>Fs(e,s,n,i),override:s=>Fs(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return rS(s,o,()=>CV(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function iS(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:ji(n)?n:()=>n,isIndexable:ji(i)?i:()=>i}}const PV=(e,t)=>e?e+Em(t):t,bm=(e,t)=>ht(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rS(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function CV(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return ji(a)&&o.isScriptable(t)&&(a=bV(t,a,e,n)),Ct(a)&&a.length&&(a=RV(t,a,e,o.isIndexable)),bm(t,a)&&(a=Fs(a,r,s&&s[t],o)),a}function bV(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);return a.delete(e),bm(e,l)&&(l=Rm(r._scopes,r,e,l)),l}function RV(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(e))return t[s.index%t.length];if(ht(t[0])){const l=t,u=r._scopes.filter(c=>c!==l);t=[];for(const c of l){const h=Rm(u,r,e,c);t.push(Fs(h,s,o&&o[e],a))}}return t}function sS(e,t,n){return ji(e)?e(t,n):e}const DV=(e,t)=>e===!0?t:typeof e=="string"?Ns(t,e):void 0;function MV(e,t,n,i,r){for(const s of t){const o=DV(n,s);if(o){e.add(o);const a=sS(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rm(e,t,n,i){const r=t._rootScopes,s=sS(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=Mv(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=Mv(a,o,s,l,i),l===null)?!1:Cm(Array.from(a),[""],r,s,()=>VV(t,n,i))}function Mv(e,t,n,i,r){for(;n;)n=MV(e,t,n,i,r);return n}function VV(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return Ct(r)&&ht(n)?n:r||{}}function OV(e,t,n,i){let r;for(const s of t)if(r=oS(PV(s,e),n),typeof r<"u")return bm(e,r)?Rm(n,i,e,r):r}function oS(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Vv(e){let t=e._keys;return t||(t=e._keys=LV(e._scopes)),t}function LV(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const NV=Number.EPSILON||1e-14,$s=(e,t)=>t<e.length&&!e[t].skip&&e[t],aS=e=>e==="x"?"y":"x";function FV(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=tp(s,r),l=tp(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=i*u,f=i*c;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function $V(e,t,n){const i=e.length;let r,s,o,a,l,u=$s(e,0);for(let c=0;c<i-1;++c)if(l=u,u=$s(e,c+1),!(!l||!u)){if(qo(t[c],0,NV)){n[c]=n[c+1]=0;continue}r=n[c]/t[c],s=n[c+1]/t[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=r*o*t[c],n[c+1]=s*o*t[c])}}function BV(e,t,n="x"){const i=aS(n),r=e.length;let s,o,a,l=$s(e,0);for(let u=0;u<r;++u){if(o=a,a=l,l=$s(e,u+1),!a)continue;const c=a[n],h=a[i];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${i}`]=h-s*t[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${i}`]=h+s*t[u])}}function zV(e,t="x"){const n=aS(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,u=$s(e,0);for(o=0;o<i;++o)if(a=l,l=u,u=$s(e,o+1),!!l){if(u){const c=u[t]-l[t];r[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?Fn(r[o-1])!==Fn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}$V(e,r,s),BV(e,s,t)}function Bl(e,t,n){return Math.max(Math.min(e,n),t)}function jV(e,t){let n,i,r,s,o,a=Jn(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&Jn(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=Bl(r.cp1x,t.left,t.right),r.cp1y=Bl(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Bl(r.cp2x,t.left,t.right),r.cp2y=Bl(r.cp2y,t.top,t.bottom)))}function UV(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")zV(e,r);else{let u=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=FV(u,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&jV(e,n)}function lS(){return typeof window<"u"&&typeof document<"u"}function Dm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function yc(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const ph=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function HV(e,t){return ph(e).getPropertyValue(t)}const WV=["top","right","bottom","left"];function Er(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=WV[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const qV=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function KV(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(qV(r,s,e.target))a=r,l=s;else{const u=t.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function rr(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=ph(n),s=r.boxSizing==="border-box",o=Er(r,"padding"),a=Er(r,"border","width"),{x:l,y:u,box:c}=KV(e,n),h=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:d,height:g}=t;return s&&(d-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((u-f)/g*n.height/i)}}function QV(e,t,n){let i,r;if(t===void 0||n===void 0){const s=Dm(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=ph(s),l=Er(a,"border","width"),u=Er(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,i=yc(a.maxWidth,s,"clientWidth"),r=yc(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||gc,maxHeight:r||gc}}const zl=e=>Math.round(e*10)/10;function GV(e,t,n,i){const r=ph(e),s=Er(r,"margin"),o=yc(r.maxWidth,e,"clientWidth")||gc,a=yc(r.maxHeight,e,"clientHeight")||gc,l=QV(e,t,n);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const f=Er(r,"border","width"),d=Er(r,"padding");u-=d.width+f.width,c-=d.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=zl(Math.min(u,o,l.maxWidth)),c=zl(Math.min(c,a,l.maxHeight)),u&&!c&&(c=zl(u/2)),(t!==void 0||n!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=zl(Math.floor(c*i))),{width:u,height:c}}function Ov(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const YV=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function Lv(e,t){const n=HV(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function sr(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function XV(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function JV(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=sr(e,r,n),a=sr(r,s,n),l=sr(s,t,n),u=sr(o,a,n),c=sr(a,l,n);return sr(u,c,n)}const ZV=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},tO=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ws(e,t,n){return e?ZV(t,n):tO()}function uS(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function cS(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function hS(e){return e==="angle"?{between:QT,compare:ZM,normalize:mn}:{between:pr,compare:(t,n)=>t-n,normalize:t=>t}}function Nv({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function eO(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=hS(i),l=t.length;let{start:u,end:c,loop:h}=e,f,d;if(h){for(u+=l,c+=l,f=0,d=l;f<d&&o(a(t[u%l][i]),r,s);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:e.style}}function nO(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:u}=hS(i),{start:c,end:h,loop:f,style:d}=eO(e,t,n),g=[];let y=!1,_=null,m,p,v;const E=()=>l(r,v,m)&&a(r,v)!==0,x=()=>a(s,m)===0||l(s,v,m),S=()=>y||E(),I=()=>!y||x();for(let k=c,O=c;k<=h;++k)p=t[k%o],!p.skip&&(m=u(p[i]),m!==v&&(y=l(m,r,s),_===null&&S()&&(_=a(m,r)===0?k:O),_!==null&&I()&&(g.push(Nv({start:_,end:k,loop:f,count:o,style:d})),_=null),O=k,v=m));return _!==null&&g.push(Nv({start:_,end:h,loop:f,count:o,style:d})),g}function iO(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=nO(i[r],e.points,t);s.length&&n.push(...s)}return n}function rO(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function sO(e,t,n,i){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=u.stop?l:null):(o=l,a.skip&&(t=l)),a=u}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function oO(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=rO(n,r,s,i);if(i===!0)return Fv(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+r:a,u=!!e._fullLoop&&o===0&&a===r-1;return Fv(e,sO(n,o,l,u),n,t)}function Fv(e,t,n,i){return!i||!i.setContext||!n?t:aO(e,t,n,i)}function aO(e,t,n,i){const r=e._chart.getContext(),s=$v(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,u=[];let c=s,h=t[0].start,f=h;function d(g,y,_,m){const p=a?-1:1;if(g!==y){for(g+=l;n[g%l].skip;)g-=p;for(;n[y%l].skip;)y+=p;g%l!==y%l&&(u.push({start:g%l,end:y%l,loop:_,style:m}),c=m,h=y%l)}}for(const g of t){h=a?h:g.start;let y=n[h%l],_;for(f=h+1;f<=g.end;f++){const m=n[f%l];_=$v(i.setContext(Gi(r,{type:"segment",p0:y,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),lO(_,c)&&d(h,f-1,g.loop,c),y=m,c=_}h<f-1&&d(h,f-1,g.loop,c)}return u}function $v(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function lO(e,t){if(!t)return!1;const n=[],i=function(r,s){return Im(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class uO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=XT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Hn=new uO;const Bv="transparent",cO={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=bv(e||Bv),r=i.valid&&bv(t||Bv);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class hO{constructor(t,n,i,r){const s=n[i];r=$l([t.to,r,s,t.from]);const o=$l([t.from,s,r]);this._active=!0,this._fn=t.fn||cO[t.type||typeof o],this._easing=Ko[t.easing]||Ko.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=$l([t.to,n,r,t.from]),this._from=$l([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class fS{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ht(t))return;const n=Object.keys(Lt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!ht(s))return;const o={};for(const a of n)o[a]=s[a];(Ct(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,r=dO(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&fO(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,n));continue}const c=n[u];let h=s[u];const f=i.get(u);if(h)if(f&&h.active()){h.update(f,c,a);continue}else h.cancel();if(!f||!f.duration){t[u]=c;continue}s[u]=h=new hO(f,t,u,c),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Hn.add(this._chart,i),!0}}function fO(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function dO(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function zv(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function pO(e,t,n){if(n===!1)return!1;const i=zv(e,n),r=zv(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function gO(e){let t,n,i,r;return ht(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function dS(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function jv(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,a,l,u;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}u=e.values[l],te(u)&&(s||t===0||Fn(t)===Fn(u))&&(t+=u)}return t}}function mO(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}function Uv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function yO(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function _O(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function vO(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Hv(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function Wv(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,c=yO(s,o,i),h=t.length;let f;for(let d=0;d<h;++d){const g=t[d],{[l]:y,[u]:_}=g,m=g._stacks||(g._stacks={});f=m[u]=vO(r,c,y),f[a]=_,f._top=Hv(f,o,!0,i.type),f._bottom=Hv(f,o,!1,i.type);const p=f._visualValues||(f._visualValues={});p[a]=_}}function _f(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function wO(e,t){return Gi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function EO(e,t,n){return Gi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ho(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const vf=e=>e==="reset"||e==="none",qv=(e,t)=>t?e:Object.assign({},e),xO=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:dS(n,!0),values:null};class Es{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Uv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ho(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,f,d,g)=>h==="x"?f:h==="r"?g:d,s=n.xAxisID=it(i.xAxisID,_f(t,"x")),o=n.yAxisID=it(i.yAxisID,_f(t,"y")),a=n.rAxisID=it(i.rAxisID,_f(t,"r")),l=n.indexAxis,u=n.iAxisID=r(l,s,o,a),c=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Av(this._data,this),t._stacked&&ho(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ht(n))this._data=mO(n);else if(i!==n){if(i){Av(i,this);const r=this._cachedMeta;ho(r),r._parsed=[]}n&&Object.isExtensible(n)&&iV(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Uv(n.vScale,n),n.stack!==i.stack&&(r=!0,ho(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&Wv(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&n===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,h,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{Ct(r[t])?f=this.parseArrayData(i,r,t,n):ht(r[t])?f=this.parseObjectData(i,r,t,n):f=this.parsePrimitiveData(i,r,t,n);const d=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)i._parsed[c+t]=h=f[c],l&&(d()&&(l=!1),u=h);i._sorted=l}o&&Wv(this,f)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(r);let f,d,g;for(f=0,d=r;f<d;++f)g=f+i,h[f]={[a]:c||s.parse(u[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,u,c,h;for(l=0,u=r;l<u;++l)c=l+i,h=n[c],a[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,h,f,d;for(c=0,h=r;c<h;++c)f=c+i,d=n[f],u[c]={x:s.parse(Ns(d,a),f),y:o.parse(Ns(d,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:dS(r,!0),values:n._stacks[t.axis]._visualValues};return jv(a,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=jv(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=xO(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=_O(a);let f,d;function g(){d=r[f];const y=d[a.axis];return!te(d[t.axis])||c>y||h<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(u,t,d,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,t,d,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],te(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=gO(it(this.options.clip,pO(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,s,a,l),c=a;c<a+l;++c){const h=r[c];h.hidden||(h.active&&u?o.push(h):h.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=EO(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=wO(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&Oa(i);if(a)return qv(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),c),d=Object.keys(Lt.elements[t]),g=()=>this.getContext(i,r,n),y=u.resolveNamedOptions(f,d,g,h);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(qv(y,l))),y}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(f,this.getContext(t,i,n))}const u=new fS(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||vf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){vf(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!vf(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&ho(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(Es,"defaults",{}),Y(Es,"datasetElementType",null),Y(Es,"dataElementType",null);function TO(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=YT(i.sort((r,s)=>r-s))}return e._cache.$bar}function SO(e){const t=e.iScale,n=TO(t,e.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Oa(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function IO(e,t,n,i){const r=n.barThickness;let s,o;return gt(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}function kO(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function AO(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function pS(e,t,n,i){return Ct(e)?AO(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Kv(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let u,c,h,f;for(u=n,c=n+i;u<c;++u)f=t[u],h={},h[r.axis]=a||r.parse(o[u],u),l.push(pS(f,h,s,u));return l}function wf(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function PO(e,t,n){return e!==0?Fn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function CO(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}function bO(e,t,n,i){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=CO(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=u:(n._bottom||0)===i?r=c:(s[Qv(c,o,a,l)]=!0,r=u)),s[Qv(r,o,a,l)]=!0,e.borderSkipped=s}function Qv(e,t,n,i){return i?(e=RO(e,t,n),e=Gv(e,n,t)):e=Gv(e,t,n),e}function RO(e,t,n){return e===t?n:e===n?t:e}function Gv(e,t,n){return e==="start"?t:e==="end"?n:e}function DO(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class du extends Es{parsePrimitiveData(t,n,i,r){return Kv(t,n,i,r)}parseArrayData(t,n,i,r){return Kv(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let f,d,g,y;for(f=i,d=i+r;f<d;++f)y=n[f],g={},g[s.axis]=s.parse(Ns(y,u),f),h.push(pS(Ns(y,c),g,o,f));return h}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(t),o=s._custom,a=wf(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let d=n;d<n+i;d++){const g=this.getParsed(d),y=s||gt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),_=this._calculateBarIndexPixels(d,c),m=(g._stacks||{})[a.axis],p={horizontal:u,base:y.base,enableBorderRadius:!m||wf(g._custom)||o===m._top||o===m._bottom,x:u?y.head:_.center,y:u?_.center:y.head,height:u?_.size:Math.abs(y.size),width:u?Math.abs(y.size):_.size};f&&(p.options=h||this.resolveDataElementOptions(d,t[d].active?"active":r));const v=p.options||t[d].options;bO(p,v,m,o),DO(p,v,c.ratio),this.updateElement(t[d],d,p,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const u=l.controller.getParsed(n),c=u&&u[l.vScale.axis];if(gt(c)||isNaN(c))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||SO(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,c=wf(u);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,g,y;d!==h&&(f=d-h,d=h),c&&(h=u.barStart,d=u.barEnd-u.barStart,h!==0&&Fn(h)!==Fn(u.barEnd)&&(f=0),f+=h);const _=!gt(s)&&!c?s:f;let m=n.getPixelForValue(_);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(f+d):g=m,y=g-m,Math.abs(y)<o){y=PO(y,n,a)*o,h===a&&(m-=y/2);const p=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),E=Math.min(p,v),x=Math.max(p,v);m=Math.max(Math.min(m,x),E),g=m+y,i&&!c&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(g)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const p=Fn(y)*n.getLineWidthForValue(a)/2;m+=p,y-=p}return{size:y,base:m,head:g,center:g+y/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,s=r.skipNull,o=it(r.maxBarThickness,1/0);let a,l;if(n.grouped){const u=s?this._getStackCount(t):n.stackCount,c=r.barThickness==="flex"?kO(t,n,r,u):IO(t,n,r,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=c.start+c.chunk*h+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}Y(du,"id","bar"),Y(du,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Y(du,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Go extends Es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=oV(n,r,o);this._drawStart=a,this._drawCount=l,aV(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(r,a,l,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(n,r),f=o.axis,d=a.axis,{spanGaps:g,segment:y}=this.options,_=La(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||r==="none",p=n+i,v=t.length;let E=n>0&&this.getParsed(n-1);for(let x=0;x<v;++x){const S=t[x],I=m?S:{};if(x<n||x>=p){I.skip=!0;continue}const k=this.getParsed(x),O=gt(k[d]),M=I[f]=o.getPixelForValue(k[f],x),W=I[d]=s||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[d],x);I.skip=isNaN(M)||isNaN(W)||O,I.stop=x>0&&Math.abs(k[f]-E[f])>_,y&&(I.parsed=k,I.raw=u.data[x]),h&&(I.options=c||this.resolveDataElementOptions(x,S.active?"active":r)),m||this.updateElement(S,x,I,r),E=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Y(Go,"id","line"),Y(Go,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Y(Go,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mm{constructor(t){Y(this,"options");this.options=t||{}}static override(t){Object.assign(Mm.prototype,t)}init(){}formats(){return Zi()}parse(){return Zi()}format(){return Zi()}add(){return Zi()}diff(){return Zi()}startOf(){return Zi()}endOf(){return Zi()}}var MO={_date:Mm};function VO(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?eV:gr;if(i){if(r._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(t);if(c){const h=l(s,t,n-c),f=l(s,t,n+c);return{lo:h.lo,hi:f.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function ul(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:h,hi:f}=VO(s[a],t,o,r);for(let d=h;d<=f;++d){const g=c[d];g.skip||i(g,u,d)}}}function OO(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Ef(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||ul(e,n,t,function(a,l,u){!r&&!Jn(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function LO(e,t,n,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:h}=JM(o,{x:t.x,y:t.y});QT(h,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return ul(e,n,t,s),r}function NO(e,t,n,i,r,s){let o=[];const a=OO(n);let l=Number.POSITIVE_INFINITY;function u(c,h,f){const d=c.inRange(t.x,t.y,r);if(i&&!d)return;const g=c.getCenterPoint(r);if(!(!!s||e.isPointInArea(g))&&!d)return;const _=a(t,g);_<l?(o=[{element:c,datasetIndex:h,index:f}],l=_):_===l&&o.push({element:c,datasetIndex:h,index:f})}return ul(e,n,t,u),o}function xf(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?LO(e,t,n,r):NO(e,t,n,i,r,s)}function Yv(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ul(e,n,t,(l,u,c)=>{l[o](t[n],r)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var FO={evaluateInteractionItems:ul,modes:{index(e,t,n,i){const r=rr(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ef(e,r,s,i,o):xf(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(e,t,n,i){const r=rr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ef(e,r,s,i,o):xf(e,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(e,t,n,i){const r=rr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Ef(e,r,s,i,o)},nearest(e,t,n,i){const r=rr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return xf(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=rr(t,e);return Yv(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=rr(t,e);return Yv(e,r,"y",n.intersect,i)}}};const gS=["left","top","right","bottom"];function fo(e,t){return e.filter(n=>n.pos===t)}function Xv(e,t){return e.filter(n=>gS.indexOf(n.pos)===-1&&n.box.axis===t)}function po(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function $O(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function BO(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!gS.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function zO(e,t){const n=BO(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&t.availableHeight)}return n}function jO(e){const t=$O(e),n=po(t.filter(u=>u.box.fullSize),!0),i=po(fo(t,"left"),!0),r=po(fo(t,"right")),s=po(fo(t,"top"),!0),o=po(fo(t,"bottom")),a=Xv(t,"x"),l=Xv(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:fo(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Jv(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function mS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function UO(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!ht(r)){n.size&&(e[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,e[r]+=n.size}s.getPadding&&mS(o,s.getPadding());const a=Math.max(0,t.outerWidth-Jv(o,e,"left","right")),l=Math.max(0,t.outerHeight-Jv(o,e,"top","bottom")),u=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function HO(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function WO(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function Ao(e,t,n,i){const r=[];let s,o,a,l,u,c;for(s=0,o=e.length,u=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,WO(a.horizontal,t));const{same:h,other:f}=UO(t,n,a,i);u|=h&&r.length,c=c||f,l.fullSize||r.push(a)}return u&&Ao(r,t,n,i)||c}function jl(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Zv(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=t.w*c,f=u.size||l.height;Oa(u.start)&&(o=u.start),l.fullSize?jl(l,r.left,o,n.outerWidth-r.right-r.left,f):jl(l,t.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=l.bottom}else{const h=t.h*c,f=u.size||l.width;Oa(u.start)&&(s=u.start),l.fullSize?jl(l,s,r.top,f,n.outerHeight-r.bottom-r.top):jl(l,s,t.top+u.placed,f,h),u.start=s,u.placed+=h,s=l.right}}t.x=s,t.y=o}var an={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=ke(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=jO(e.boxes),l=a.vertical,u=a.horizontal;pt(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);mS(f,ke(i));const d=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=zO(l.concat(u),h);Ao(a.fullSize,d,h,g),Ao(l,d,h,g),Ao(u,d,h,g)&&Ao(l,d,h,g),HO(d),Zv(a.leftAndTop,d,h,g),d.x+=d.w,d.y+=d.h,Zv(a.rightAndBottom,d,h,g),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},pt(a.chartArea,y=>{const _=y.box;Object.assign(_,e.chartArea),_.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class yS{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class qO extends yS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const pu="$chartjs",KO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},t0=e=>e===null||e==="";function QO(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[pu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",t0(r)){const s=Lv(e,"width");s!==void 0&&(e.width=s)}if(t0(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=Lv(e,"height");s!==void 0&&(e.height=s)}return e}const _S=YV?{passive:!0}:!1;function GO(e,t,n){e.addEventListener(t,n,_S)}function YO(e,t,n){e.canvas.removeEventListener(t,n,_S)}function XO(e,t){const n=KO[e.type]||e.type,{x:i,y:r}=rr(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function _c(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function JO(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_c(a.addedNodes,i),o=o&&!_c(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function ZO(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_c(a.removedNodes,i),o=o&&!_c(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Fa=new Map;let e0=0;function vS(){const e=window.devicePixelRatio;e!==e0&&(e0=e,Fa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function tL(e,t){Fa.size||window.addEventListener("resize",vS),Fa.set(e,t)}function eL(e){Fa.delete(e),Fa.size||window.removeEventListener("resize",vS)}function nL(e,t,n){const i=e.canvas,r=i&&Dm(i);if(!r)return;const s=JT((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),tL(e,s),o}function Tf(e,t,n){n&&n.disconnect(),t==="resize"&&eL(e)}function iL(e,t,n){const i=e.canvas,r=JT(s=>{e.ctx!==null&&n(XO(s,e))},e);return GO(i,t,r),r}class rL extends yS{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(QO(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[pu])return!1;const i=n[pu].initial;["height","width"].forEach(s=>{const o=i[s];gt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[pu],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:JO,detach:ZO,resize:nL}[n]||iL;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Tf,detach:Tf,resize:Tf}[n]||YO)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return GV(t,n,i,r)}isAttached(t){const n=Dm(t);return!!(n&&n.isConnected)}}function sL(e){return!lS()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?qO:rL}class Bn{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return La(this.x)&&La(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Y(Bn,"defaults",{}),Y(Bn,"defaultRoutes");function oL(e,t){const n=e.options.ticks,i=aL(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?uL(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return cL(t,u,s,o/r),u;const c=lL(s,t,r);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(Ul(t,u,c,gt(d)?0:a-d,a),h=0,f=o-1;h<f;h++)Ul(t,u,c,s[h],s[h+1]);return Ul(t,u,c,l,gt(d)?t.length:l+d),u}return Ul(t,u,c),u}function aL(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function lL(e,t,n){const i=hL(e),r=t.length/n;if(!i)return Math.max(r,1);const s=YM(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function uL(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function cL(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function Ul(e,t,n,i,r){const s=it(i,0),o=Math.min(it(r,e.length),e.length);let a=0,l,u,c;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(t.push(e[u]),a++,c=Math.round(s+a*n))}function hL(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const fL=e=>e==="left"?"right":e==="right"?"left":e,n0=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,i0=(e,t)=>Math.min(t||e,e);function r0(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function dL(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(l-s,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<s-a||l>o+a)))return l}function pL(e,t){pt(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function go(e){return e.drawTicks?e.tickLength:0}function s0(e,t){if(!e.display)return 0;const n=Gt(e.font,t),i=ke(e.padding);return(Ct(e.text)?e.text.length:1)*n.lineHeight+i.height}function gL(e,t){return Gi(e,{scale:t,type:"scale"})}function mL(e,t,n){return Gi(e,{tick:n,index:t,type:"tick"})}function yL(e,t,n){let i=Sm(e);return(n&&t!=="right"||!n&&t==="right")&&(i=fL(i)),i}function _L(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:c}=l;let h=0,f,d,g;const y=o-r,_=a-s;if(e.isHorizontal()){if(d=me(i,s,a),ht(n)){const m=Object.keys(n)[0],p=n[m];g=c[m].getPixelForValue(p)+y-t}else n==="center"?g=(u.bottom+u.top)/2+y-t:g=n0(e,n,t);f=a-s}else{if(ht(n)){const m=Object.keys(n)[0],p=n[m];d=c[m].getPixelForValue(p)-_+t}else n==="center"?d=(u.left+u.right)/2-_+t:d=n0(e,n,t);g=me(i,o,r),h=n==="left"?-Ue:Ue}return{titleX:d,titleY:g,maxWidth:f,rotation:h}}class Br extends Bn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=Be(t,Number.POSITIVE_INFINITY),n=Be(n,Number.NEGATIVE_INFINITY),i=Be(i,Number.POSITIVE_INFINITY),r=Be(r,Number.NEGATIVE_INFINITY),{min:Be(t,i),max:Be(n,r),minDefined:te(t),maxDefined:te(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Be(n,Be(i,n)),max:Be(i,Be(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AV(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?r0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=oL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),wt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=wt(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=i0(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),h=c.widest.width,f=c.highest.height,d=He(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-go(t.grid)-n.padding-s0(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=xm(Math.min(Math.asin(He((c.highest.height+6)/a,-1,1)),Math.asin(He(l/u,-1,1))-Math.asin(He(f/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=s0(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=go(s)+l):(t.height=this.maxHeight,t.width=go(s)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,g=xi(this.labelRotation),y=Math.cos(g),_=Math.sin(g);if(a){const m=i.mirror?0:_*h.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+m+d)}else{const m=i.mirror?0:y*h.width+_*f.height;t.width=Math.min(this.maxWidth,t.width+m+d)}this._calculatePadding(u,c,_,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?u?(f=r*t.width,d=i*n.height):(f=i*t.height,d=r*n.width):s==="start"?d=n.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=t.height/2;s==="start"?(c=0,h=t.height):s==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)gt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=r0(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/i0(n,i));let u=0,c=0,h,f,d,g,y,_,m,p,v,E,x;for(h=0;h<n;h+=l){if(g=t[h].label,y=this._resolveTickFontOptions(h),r.font=_=y.string,m=s[_]=s[_]||{data:{},gc:[]},p=y.lineHeight,v=E=0,!gt(g)&&!Ct(g))v=mc(r,m.data,m.gc,v,g),E=p;else if(Ct(g))for(f=0,d=g.length;f<d;++f)x=g[f],!gt(x)&&!Ct(x)&&(v=mc(r,m.data,m.gc,v,x),E+=p);o.push(v),a.push(E),u=Math.max(v,u),c=Math.max(E,c)}pL(s,n);const S=o.indexOf(u),I=a.indexOf(c),k=O=>({width:o[O]||0,height:a[O]||0});return{first:k(0),last:k(n-1),widest:k(S),highest:k(I),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return tV(this._alignToPixels?Ji(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=mL(this.getContext(),t,i))}return this.$context||(this.$context=gL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=xi(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=go(s),d=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,_=y/2,m=function(at){return Ji(i,at,y)};let p,v,E,x,S,I,k,O,M,W,F,q;if(o==="top")p=m(this.bottom),I=this.bottom-f,O=p-_,W=m(t.top)+_,q=t.bottom;else if(o==="bottom")p=m(this.top),W=t.top,q=m(t.bottom)-_,I=p+_,O=this.top+f;else if(o==="left")p=m(this.right),S=this.right-f,k=p-_,M=m(t.left)+_,F=t.right;else if(o==="right")p=m(this.left),M=t.left,F=m(t.right)-_,S=p+_,k=this.left+f;else if(n==="x"){if(o==="center")p=m((t.top+t.bottom)/2+.5);else if(ht(o)){const at=Object.keys(o)[0],vt=o[at];p=m(this.chart.scales[at].getPixelForValue(vt))}W=t.top,q=t.bottom,I=p+_,O=I+f}else if(n==="y"){if(o==="center")p=m((t.left+t.right)/2);else if(ht(o)){const at=Object.keys(o)[0],vt=o[at];p=m(this.chart.scales[at].getPixelForValue(vt))}S=p-_,k=S-f,M=t.left,F=t.right}const ot=it(r.ticks.maxTicksLimit,h),nt=Math.max(1,Math.ceil(h/ot));for(v=0;v<h;v+=nt){const at=this.getContext(v),vt=s.setContext(at),V=a.setContext(at),Q=vt.lineWidth,X=vt.color,dt=V.dash||[],_t=V.dashOffset,Xe=vt.tickWidth,fe=vt.tickColor,fn=vt.tickBorderDash||[],re=vt.tickBorderDashOffset;E=dL(this,v,l),E!==void 0&&(x=Ji(i,E,Q),u?S=k=M=F=x:I=O=W=q=x,d.push({tx1:S,ty1:I,tx2:k,ty2:O,x1:M,y1:W,x2:F,y2:q,width:Q,color:X,borderDash:dt,borderDashOffset:_t,tickWidth:Xe,tickColor:fe,tickBorderDash:fn,tickBorderDashOffset:re}))}return this._ticksLength=h,this._borderValue=p,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,f=go(i.grid),d=f+c,g=h?-c:d,y=-xi(this.labelRotation),_=[];let m,p,v,E,x,S,I,k,O,M,W,F,q="middle";if(r==="top")S=this.bottom-g,I=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+g,I=this._getXAxisLabelAlignment();else if(r==="left"){const nt=this._getYAxisLabelAlignment(f);I=nt.textAlign,x=nt.x}else if(r==="right"){const nt=this._getYAxisLabelAlignment(f);I=nt.textAlign,x=nt.x}else if(n==="x"){if(r==="center")S=(t.top+t.bottom)/2+d;else if(ht(r)){const nt=Object.keys(r)[0],at=r[nt];S=this.chart.scales[nt].getPixelForValue(at)+d}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")x=(t.left+t.right)/2-d;else if(ht(r)){const nt=Object.keys(r)[0],at=r[nt];x=this.chart.scales[nt].getPixelForValue(at)}I=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const ot=this._getLabelSizes();for(m=0,p=a.length;m<p;++m){v=a[m],E=v.label;const nt=s.setContext(this.getContext(m));k=this.getPixelForTick(m)+s.labelOffset,O=this._resolveTickFontOptions(m),M=O.lineHeight,W=Ct(E)?E.length:1;const at=W/2,vt=nt.color,V=nt.textStrokeColor,Q=nt.textStrokeWidth;let X=I;o?(x=k,I==="inner"&&(m===p-1?X=this.options.reverse?"left":"right":m===0?X=this.options.reverse?"right":"left":X="center"),r==="top"?u==="near"||y!==0?F=-W*M+M/2:u==="center"?F=-ot.highest.height/2-at*M+M:F=-ot.highest.height+M/2:u==="near"||y!==0?F=M/2:u==="center"?F=ot.highest.height/2-at*M:F=ot.highest.height-W*M,h&&(F*=-1),y!==0&&!nt.showLabelBackdrop&&(x+=M/2*Math.sin(y))):(S=k,F=(1-W)*M/2);let dt;if(nt.showLabelBackdrop){const _t=ke(nt.backdropPadding),Xe=ot.heights[m],fe=ot.widths[m];let fn=F-_t.top,re=0-_t.left;switch(q){case"middle":fn-=Xe/2;break;case"bottom":fn-=Xe;break}switch(I){case"center":re-=fe/2;break;case"right":re-=fe;break}dt={left:re,top:fn,width:fe+_t.width,height:Xe+_t.height,color:nt.backdropColor}}_.push({label:E,font:O,textOffset:F,options:{rotation:y,color:vt,strokeColor:V,strokeWidth:Q,textAlign:X,textBaseline:q,translation:[x,S],backdrop:dt}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-xi(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let u,c;return n==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,f;this.isHorizontal()?(u=Ji(t,this.left,o)-o/2,c=Ji(t,this.right,a)+a/2,h=f=l):(h=Ji(t,this.top,o)-o/2,f=Ji(t,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Am(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Mr(i,u,0,c,l,a)}r&&Pm(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Gt(i.font),o=ke(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ht(n)?(l+=o.bottom,Ct(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:f}=_L(this,l,n,a);Mr(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:yL(a,n,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=it(t.grid&&t.grid.z,-1),r=it(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Br.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Gt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hl{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;EL(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,vL(t,o,i),this.override&&Lt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Lt[r]&&(delete Lt[r][i],this.override&&delete Dr[i])}}function vL(e,t,n){const i=Va(Object.create(null),[n?Lt.get(n):{},Lt.get(t),e.defaults]);Lt.set(t,i),e.defaultRoutes&&wL(t,e.defaultRoutes),e.descriptors&&Lt.describe(t,e.descriptors)}function wL(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Lt.route(s,r,l,a)})}function EL(e){return"id"in e&&"defaults"in e}class xL{constructor(){this.controllers=new Hl(Es,"datasets",!0),this.elements=new Hl(Bn,"elements"),this.plugins=new Hl(Object,"plugins"),this.scales=new Hl(Br,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):pt(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=Em(t);wt(i["before"+r],[],i),n[t](i),wt(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Pn=new xL;class TL{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[n,r,s.options];if(wt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=it(i.options&&i.options.plugins,{}),s=SL(i);return r===!1&&!n?[]:kL(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function SL(e){const t={},n=[],i=Object.keys(Pn.plugins.items);for(let s=0;s<i.length;s++)n.push(Pn.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function IL(e,t){return!t&&e===!1?null:e===!0?{}:e}function kL(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,u=IL(i[l],r);u!==null&&s.push({plugin:a,options:AL(e.config,{plugin:a,local:n[l]},u,o)})}return s}function AL(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ip(e,t){const n=Lt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function PL(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function CL(e,t){return e===t?"_index_":"_value_"}function o0(e){if(e==="x"||e==="y"||e==="r")return e}function bL(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function rp(e,...t){if(o0(e))return e;for(const n of t){const i=n.axis||bL(n.position)||e.length>1&&o0(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function a0(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function RL(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return a0(e,"x",n[0])||a0(e,"y",n[0])}return{}}function DL(e,t){const n=Dr[e.type]||{scales:{}},i=t.scales||{},r=ip(e.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ht(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=rp(o,a,RL(o,e),Lt.scales[a.type]),u=CL(l,r),c=n.scales||{};s[o]=Wo(Object.create(null),[{axis:l},a,c[l],c[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||ip(a,t),c=(Dr[a]||{}).scales||{};Object.keys(c).forEach(h=>{const f=PL(h,l),d=o[f+"AxisID"]||f;s[d]=s[d]||Object.create(null),Wo(s[d],[{axis:f},i[d],c[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Wo(a,[Lt.scales[a.type],Lt.scale])}),s}function wS(e){const t=e.options||(e.options={});t.plugins=it(t.plugins,{}),t.scales=DL(e,t)}function ES(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function ML(e){return e=e||{},e.data=ES(e.data),wS(e),e}const l0=new Map,xS=new Set;function Wl(e,t){let n=l0.get(e);return n||(n=t(),l0.set(e,n),xS.add(n)),n}const mo=(e,t,n)=>{const i=Ns(t,n);i!==void 0&&e.add(i)};class VL{constructor(t){this._config=ML(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ES(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Wl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Wl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Wl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Wl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{t&&(l.add(t),c.forEach(h=>mo(l,t,h))),c.forEach(h=>mo(l,r,h)),c.forEach(h=>mo(l,Dr[s]||{},h)),c.forEach(h=>mo(l,Lt,h)),c.forEach(h=>mo(l,ep,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),xS.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Dr[n]||{},Lt.datasets[n]||{},{type:n},Lt,ep]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=u0(this._resolverCache,t,r);let l=o;if(LL(o,n)){s.$shared=!1,i=ji(i)?i():i;const u=this.createResolver(t,i,a);l=Fs(o,i,u)}for(const u of n)s[u]=l[u];return s}createResolver(t,n,i=[""],r){const{resolver:s}=u0(this._resolverCache,t,i);return ht(n)?Fs(s,n,void 0,r):s}}function u0(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Cm(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const OL=e=>ht(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||ji(e[n]),!1);function LL(e,t){const{isScriptable:n,isIndexable:i}=iS(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(ji(a)||OL(a))||o&&Ct(a))return!0}return!1}var NL="4.4.0";const FL=["top","bottom","left","right","chartArea"];function c0(e,t){return e==="top"||e==="bottom"||FL.indexOf(e)===-1&&t==="x"}function h0(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function f0(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),wt(n&&n.onComplete,[e],t)}function $L(e){const t=e.chart,n=t.options.animation;wt(n&&n.onProgress,[e],t)}function TS(e){return lS()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const gu={},d0=e=>{const t=TS(e);return Object.values(gu).filter(n=>n.canvas===t).pop()};function BL(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function zL(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function ql(e,t,n){return e.options.clip?e[n]:t[n]}function jL(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:ql(n,t,"left"),right:ql(n,t,"right"),top:ql(i,t,"top"),bottom:ql(i,t,"bottom")}:t}var ci;let gh=(ci=class{static register(...t){Pn.add(...t),p0()}static unregister(...t){Pn.remove(...t),p0()}constructor(t,n){const i=this.config=new VL(n),r=TS(t),s=d0(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||sL(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=zM(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=rV(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],gu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hn.listen(this,"complete",f0),Hn.listen(this,"progress",$L),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return gt(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ov(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dv(this.canvas,this.ctx),this}stop(){return Hn.stop(this),this}resize(t,n){Hn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ov(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),wt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};pt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=rp(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),pt(s,o=>{const a=o.options,l=a.id,u=rp(l,a),c=it(a.type,o.dtype);(a.position===void 0||c0(a.position,u)!==c0(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===c)h=i[l];else{const f=Pn.getScale(c);h=new f({id:l,type:c,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),pt(r,(o,a)=>{o||delete i[a]}),pt(i,o=>{an.configure(this,o,o.options),an.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(h0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||ip(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Pn.getController(a),{datasetElementType:u,dataElementType:c}=Lt.datasets[a];Object.assign(l,{dataElementType:Pn.getElement(c),datasetElementType:u&&Pn.getElement(u)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){pt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),f=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||pt(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(h0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){pt(this.scales,t=>{an.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Tv(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;BL(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Tv(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],pt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ji(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hn.has(this)?this.attached&&!Hn.running(this)&&Hn.start(this):(this.draw(),f0({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=jL(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Am(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&Pm(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Jn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=FO.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Gi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Oa(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Hn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Dv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete gu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};pt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},r=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){pt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},pt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!dc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(t,r,i,o),l=KM(t),u=zL(t,this._lastEvent,i,l);i&&(this._lastEvent=null,wt(s.onHover,[t,a,this],this),l&&wt(s.onClick,[t,a,this],this));const c=!dc(a,r);return(c||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,c}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},Y(ci,"defaults",Lt),Y(ci,"instances",gu),Y(ci,"overrides",Dr),Y(ci,"registry",Pn),Y(ci,"version",NL),Y(ci,"getChart",d0),ci);function p0(){return pt(gh.instances,e=>e._plugins.invalidate())}function SS(e,t,n=t){e.lineCap=it(n.borderCapStyle,t.borderCapStyle),e.setLineDash(it(n.borderDash,t.borderDash)),e.lineDashOffset=it(n.borderDashOffset,t.borderDashOffset),e.lineJoin=it(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=it(n.borderWidth,t.borderWidth),e.strokeStyle=it(n.borderColor,t.borderColor)}function UL(e,t,n){e.lineTo(n.x,n.y)}function HL(e){return e.stepped?_V:e.tension||e.cubicInterpolationMode==="monotone"?vV:UL}function IS(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),u=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:u<l&&!c?i+u-l:u-l}}function WL(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:u}=IS(r,n,i),c=HL(s);let{move:h=!0,reverse:f}=i||{},d,g,y;for(d=0;d<=u;++d)g=r[(a+(f?u-d:d))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):c(e,y,g,f,s.stepped),y=g);return l&&(g=r[(a+(f?u:0))%o],c(e,y,g,f,s.stepped)),!!l}function qL(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=IS(r,n,i),{move:l=!0,reverse:u}=i||{};let c=0,h=0,f,d,g,y,_,m;const p=E=>(o+(u?a-E:E))%s,v=()=>{y!==_&&(e.lineTo(c,_),e.lineTo(c,y),e.lineTo(c,m))};for(l&&(d=r[p(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=r[p(f)],d.skip)continue;const E=d.x,x=d.y,S=E|0;S===g?(x<y?y=x:x>_&&(_=x),c=(h*c+E)/++h):(v(),e.lineTo(E,x),g=S,h=0,y=_=x),m=x}v()}function sp(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?qL:WL}function KL(e){return e.stepped?XV:e.tension||e.cubicInterpolationMode==="monotone"?JV:sr}function QL(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),SS(e,t.options),e.stroke(r)}function GL(e,t,n,i){const{segments:r,options:s}=t,o=sp(t);for(const a of r)SS(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const YL=typeof Path2D=="function";function XL(e,t,n,i){YL&&!t.options.segment?QL(e,t,n,i):GL(e,t,n,i)}class Po extends Bn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;UV(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oO(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=iO(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=KL(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:h,end:f}=o[u],d=s[h],g=s[f];if(d===g){a.push(d);continue}const y=Math.abs((r-d[n])/(g[n]-d[n])),_=l(d,g,y,i.stepped);_[n]=t[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(t,n,i){return sp(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=sp(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),XL(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Y(Po,"id","line"),Y(Po,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Y(Po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Y(Po,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function g0(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class mu extends Bn{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return g0(this,n,"x",i)}inYRange(n,i){return g0(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Jn(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,np(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(mu,"id","point"),Y(mu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(mu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kS(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,c,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),u=i-h,c=i+h):(h=s/2,a=n-h,l=n+h,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function Ti(e,t,n,i){return e?0:He(t,n,i)}function JL(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=nS(i);return{t:Ti(r.top,s.top,0,n),r:Ti(r.right,s.right,0,t),b:Ti(r.bottom,s.bottom,0,n),l:Ti(r.left,s.left,0,t)}}function ZL(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=wr(r),o=Math.min(t,n),a=e.borderSkipped,l=i||ht(r);return{topLeft:Ti(!l||a.top||a.left,s.topLeft,0,o),topRight:Ti(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ti(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ti(!l||a.bottom||a.right,s.bottomRight,0,o)}}function tN(e){const t=kS(e),n=t.right-t.left,i=t.bottom-t.top,r=JL(e,n/2,i/2),s=ZL(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Sf(e,t,n,i){const r=t===null,s=n===null,a=e&&!(r&&s)&&kS(e,i);return a&&(r||pr(t,a.left,a.right))&&(s||pr(n,a.top,a.bottom))}function eN(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function nN(e,t){e.rect(t.x,t.y,t.w,t.h)}function If(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}class yu extends Bn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=tN(this),a=eN(o.radius)?Na:nN;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,If(o,n,s)),t.clip(),a(t,If(s,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,If(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return Sf(this,t,n,i)}inXRange(t,n){return Sf(this,t,null,n)}inYRange(t,n){return Sf(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Y(yu,"id","bar"),Y(yu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Y(yu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const m0=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},iN=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class y0 extends Bn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=wt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Gt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=m0(i,s);let u,c;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,d=-c;return this.legendItems.forEach((g,y)=>{const _=i+n/2+s.measureText(g.text).width;(y===0||u[u.length-1]+_+2*a>o)&&(h+=c,u[u.length-(y>0?0:1)]=0,d+=c,f++),l[y]={left:0,top:d,row:f,width:_,height:r},u[u.length-1]+=_+a}),h}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let h=a,f=0,d=0,g=0,y=0;return this.legendItems.forEach((_,m)=>{const{itemWidth:p,itemHeight:v}=rN(i,n,s,_,r);m>0&&d+v+2*a>c&&(h+=f+a,u.push({width:f,height:d}),g+=f+a,y++,f=d=0),l[m]={left:g,top:d,col:y,width:p,height:v},f=Math.max(f,p),d+=v+a}),h+=f,u.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ws(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=me(i,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=me(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+t+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=me(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=me(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Am(t,this),this._draw(),Pm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Lt.color,l=ws(t.rtl,this.left,this.width),u=Gt(o.font),{padding:c}=o,h=u.size,f=h/2;let d;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:_}=m0(o,h),m=function(S,I,k){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const O=it(k.lineWidth,1);if(r.fillStyle=it(k.fillStyle,a),r.lineCap=it(k.lineCap,"butt"),r.lineDashOffset=it(k.lineDashOffset,0),r.lineJoin=it(k.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=it(k.strokeStyle,a),r.setLineDash(it(k.lineDash,[])),o.usePointStyle){const M={radius:y*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:O},W=l.xPlus(S,g/2),F=I+f;tS(r,M,W,F,o.pointStyleWidth&&g)}else{const M=I+Math.max((h-y)/2,0),W=l.leftForLtr(S,g),F=wr(k.borderRadius);r.beginPath(),Object.values(F).some(q=>q!==0)?Na(r,{x:W,y:M,w:g,h:y,radius:F}):r.rect(W,M,g,y),r.fill(),O!==0&&r.stroke()}r.restore()},p=function(S,I,k){Mr(r,k.text,S,I+_/2,u,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},v=this.isHorizontal(),E=this._computeTitleHeight();v?d={x:me(s,this.left+c,this.right-i[0]),y:this.top+c+E,line:0}:d={x:this.left+c,y:me(s,this.top+E+c,this.bottom-n[0].height),line:0},uS(this.ctx,t.textDirection);const x=_+c;this.legendItems.forEach((S,I)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const k=r.measureText(S.text).width,O=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),M=g+f+k;let W=d.x,F=d.y;l.setWidth(this.width),v?I>0&&W+M+c>this.right&&(F=d.y+=x,d.line++,W=d.x=me(s,this.left+c,this.right-i[d.line])):I>0&&F+x>this.bottom&&(W=d.x=W+n[d.line].width+c,d.line++,F=d.y=me(s,this.top+E+c,this.bottom-n[d.line].height));const q=l.x(W);if(m(q,F,S),W=sV(O,W+g+f,v?W+M:this.right,t.rtl),p(l.x(W),F,S),v)d.x+=M+c;else if(typeof S.text!="string"){const ot=u.lineHeight;d.y+=AS(S,ot)+c}else d.y+=x}),cS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Gt(n.font),r=ke(n.padding);if(!n.display)return;const s=ws(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=r.top+l;let c,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,h=me(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);c=u+me(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const d=me(a,h,h+f);o.textAlign=s.textAlign(Sm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Mr(o,n.text,d,c,i)}_computeTitleHeight(){const t=this.options.title,n=Gt(t.font),i=ke(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(pr(t,this.left,this.right)&&pr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],pr(t,r.left,r.left+r.width)&&pr(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!aN(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=iN(r,i);r&&!s&&wt(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&wt(n.onHover,[t,i,this],this)}else i&&wt(n.onClick,[t,i,this],this)}}function rN(e,t,n,i,r){const s=sN(i,e,t,n),o=oN(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function sN(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+i.measureText(r).width}function oN(e,t,n){let i=e;return typeof t.text!="string"&&(i=AS(t,n)),i}function AS(e,t){const n=e.text?e.text.length:0;return t*n}function aN(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var lN={id:"legend",_element:y0,start(e,t,n){const i=e.legend=new y0({ctx:e.ctx,options:n,chart:e});an.configure(e,i,n),an.addBox(e,i)},stop(e){an.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;an.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=ke(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class PS extends Bn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Ct(i.text)?i.text.length:1;this._padding=ke(i.padding);const s=r*Gt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,c,h;return this.isHorizontal()?(c=me(a,i,s),h=n+t,u=s-i):(o.position==="left"?(c=i+t,h=me(a,r,n),l=qt*-.5):(c=s-t,h=me(a,n,r),l=qt*.5),u=r-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Gt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Mr(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:Sm(n.align),textBaseline:"middle",translation:[o,a]})}}function uN(e,t){const n=new PS({ctx:e.ctx,options:t,chart:e});an.configure(e,n,t),an.addBox(e,n),e.titleBlock=n}var cN={id:"title",_element:PS,start(e,t,n){uN(e,n)},stop(e){const t=e.titleBlock;an.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;an.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Co={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=tp(t,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function kn(e,t){return t&&(Ct(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Wn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function hN(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function _0(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Gt(t.bodyFont),u=Gt(t.titleFont),c=Gt(t.footerFont),h=s.length,f=r.length,d=i.length,g=ke(t.padding);let y=g.height,_=0,m=i.reduce((E,x)=>E+x.before.length+x.lines.length+x.after.length,0);if(m+=e.beforeBody.length+e.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),m){const E=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=d*E+(m-d)*l.lineHeight+(m-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let p=0;const v=function(E){_=Math.max(_,n.measureText(E).width+p)};return n.save(),n.font=u.string,pt(e.title,v),n.font=l.string,pt(e.beforeBody.concat(e.afterBody),v),p=t.displayColors?o+2+t.boxPadding:0,pt(i,E=>{pt(E.before,v),pt(E.lines,v),pt(E.after,v)}),p=0,n.font=c.string,pt(e.footer,v),n.restore(),_+=g.width,{width:_,height:y}}function fN(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function dN(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function pN(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),dN(u,e,t,n)&&(u="center"),u}function v0(e,t,n){const i=n.yAlign||t.yAlign||fN(e,n);return{xAlign:n.xAlign||t.xAlign||pN(e,t,n,i),yAlign:i}}function gN(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function mN(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function w0(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=r+s,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:d}=wr(o);let g=gN(t,a);const y=mN(t,l,u);return l==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(c,f)+r:a==="right"&&(g+=Math.max(h,d)+r),{x:He(g,0,i.width-t.width),y:He(y,0,i.height-t.height)}}function Kl(e,t,n){const i=ke(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function E0(e){return kn([],Wn(e))}function yN(e,t,n){return Gi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function x0(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const CS={beforeTitle:jn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:jn,beforeBody:jn,beforeLabel:jn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return gt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jn,afterBody:jn,beforeFooter:jn,footer:jn,afterFooter:jn};function Me(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?CS[t].call(n,i):r}class op extends Bn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new fS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=yN(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Me(i,"beforeTitle",this,t),s=Me(i,"title",this,t),o=Me(i,"afterTitle",this,t);let a=[];return a=kn(a,Wn(r)),a=kn(a,Wn(s)),a=kn(a,Wn(o)),a}getBeforeBody(t,n){return E0(Me(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return pt(t,s=>{const o={before:[],lines:[],after:[]},a=x0(i,s);kn(o.before,Wn(Me(a,"beforeLabel",this,s))),kn(o.lines,Me(a,"label",this,s)),kn(o.after,Wn(Me(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,n){return E0(Me(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Me(i,"beforeFooter",this,t),s=Me(i,"footer",this,t),o=Me(i,"afterFooter",this,t);let a=[];return a=kn(a,Wn(r)),a=kn(a,Wn(s)),a=kn(a,Wn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(hN(this.chart,n[l]));return t.filter&&(a=a.filter((c,h,f)=>t.filter(c,h,f,i))),t.itemSort&&(a=a.sort((c,h)=>t.itemSort(c,h,i))),pt(a,c=>{const h=x0(t.callbacks,c);r.push(Me(h,"labelColor",this,c)),s.push(Me(h,"labelPointStyle",this,c)),o.push(Me(h,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Co[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=_0(this,i),u=Object.assign({},a,l),c=v0(this.chart,i,u),h=w0(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=wr(a),{x:f,y:d}=t,{width:g,height:y}=n;let _,m,p,v,E,x;return s==="center"?(E=d+y/2,r==="left"?(_=f,m=_-o,v=E+o,x=E-o):(_=f+g,m=_+o,v=E-o,x=E+o),p=_):(r==="left"?m=f+Math.max(l,c)+o:r==="right"?m=f+g-Math.max(u,h)-o:m=this.caretX,s==="top"?(v=d,E=v-o,_=m-o,p=m+o):(v=d+y,E=v+o,_=m+o,p=m-o),x=v),{x1:_,x2:m,x3:p,y1:v,y2:E,y3:x}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=ws(i.rtl,this.x,this.width);for(t.x=Kl(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=Gt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,c=Gt(s.bodyFont),h=Kl(this,"left",s),f=r.x(h),d=l<c.lineHeight?(c.lineHeight-l)/2:0,g=n.y+d;if(s.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=r.leftForLtr(f,u)+u/2,m=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,np(t,y,_,m),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,np(t,y,_,m)}else{t.lineWidth=ht(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(f,u),_=r.leftForLtr(r.xPlus(f,1),u-2),m=wr(o.borderRadius);Object.values(m).some(p=>p!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Na(t,{x:y,y:g,w:u,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Na(t,{x:_,y:g+1,w:u-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,g,u,l),t.strokeRect(y,g,u,l),t.fillStyle=o.backgroundColor,t.fillRect(_,g+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,h=Gt(i.bodyFont);let f=h.lineHeight,d=0;const g=ws(i.rtl,this.x,this.width),y=function(k){n.fillText(k,g.x(t.x+d),t.y+f/2),t.y+=f+s},_=g.textAlign(o);let m,p,v,E,x,S,I;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Kl(this,_,i),n.fillStyle=i.bodyColor,pt(this.beforeBody,y),d=a&&_!=="right"?o==="center"?u/2+c:u+2+c:0,E=0,S=r.length;E<S;++E){for(m=r[E],p=this.labelTextColors[E],n.fillStyle=p,pt(m.before,y),v=m.lines,a&&v.length&&(this._drawColorBox(n,t,E,g,i),f=Math.max(h.lineHeight,l)),x=0,I=v.length;x<I;++x)y(v[x]),f=h.lineHeight;pt(m.after,y)}d=0,f=h.lineHeight,pt(this.afterBody,y),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=ws(i.rtl,this.x,this.width);for(t.x=Kl(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Gt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:c}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:g}=wr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(a+u,l+c-g),n.quadraticCurveTo(a+u,l+c,a+u-g,l+c),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(a+d,l+c),n.quadraticCurveTo(a,l+c,a,l+c-d),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Co[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=_0(this,t),l=Object.assign({},o,this._size),u=v0(n,t,l),c=w0(t,l,u,n);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ke(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),uS(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),cS(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!dc(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),a=this._positionChanged(o,t),l=n||!dc(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=Co[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}Y(op,"positioners",Co);var _N={id:"tooltip",_element:op,positioners:Co,afterInit(e,t,n){n&&(e.tooltip=new op({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const vN=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function wN(e,t,n,i){const r=e.indexOf(t);if(r===-1)return vN(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const EN=(e,t)=>e===null?null:He(Math.round(e),0,t);function T0(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ap extends Br{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(gt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:wN(i,t,it(n,t),this._addedLabels),EN(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return T0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Y(ap,"id","category"),Y(ap,"defaults",{ticks:{callback:T0}});function xN(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:f}=e,d=s||1,g=c-1,{min:y,max:_}=t,m=!gt(o),p=!gt(a),v=!gt(u),E=(_-y)/(h+1);let x=Iv((_-y)/g/d)*d,S,I,k,O;if(x<1e-14&&!m&&!p)return[{value:y},{value:_}];O=Math.ceil(_/x)-Math.floor(y/x),O>g&&(x=Iv(O*x/g/d)*d),gt(l)||(S=Math.pow(10,l),x=Math.ceil(x*S)/S),r==="ticks"?(I=Math.floor(y/x)*x,k=Math.ceil(_/x)*x):(I=y,k=_),m&&p&&s&&XM((a-o)/s,x/1e3)?(O=Math.round(Math.min((a-o)/x,c)),x=(a-o)/O,I=o,k=a):v?(I=m?o:I,k=p?a:k,O=u-1,x=(k-I)/O):(O=(k-I)/x,qo(O,Math.round(O),x/1e3)?O=Math.round(O):O=Math.ceil(O));const M=Math.max(kv(x),kv(I));S=Math.pow(10,gt(l)?M:l),I=Math.round(I*S)/S,k=Math.round(k*S)/S;let W=0;for(m&&(f&&I!==o?(n.push({value:o}),I<o&&W++,qo(Math.round((I+W*x)*S)/S,o,S0(o,E,e))&&W++):I<o&&W++);W<O;++W){const F=Math.round((I+W*x)*S)/S;if(p&&F>a)break;n.push({value:F})}return p&&f&&k!==a?n.length&&qo(n[n.length-1].value,a,S0(a,E,e))?n[n.length-1].value=a:n.push({value:a}):(!p||k===a)&&n.push({value:k}),n}function S0(e,t,{horizontal:n,minRotation:i}){const r=xi(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class vc extends Br{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return gt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=Fn(r),u=Fn(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=xN(r,s);return t.bounds==="ticks"&&KT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return km(t,this.chart.options.locale,this.options.ticks.format)}}class lp extends vc{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=te(t)?t:0,this.max=te(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=xi(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Y(lp,"id","linear"),Y(lp,"defaults",{ticks:{callback:dh.formatters.numeric}});const $a=e=>Math.floor(Ei(e)),tr=(e,t)=>Math.pow(10,$a(e)+t);function I0(e){return e/Math.pow(10,$a(e))===1}function k0(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function TN(e,t){const n=t-e;let i=$a(n);for(;k0(e,t,i)>10;)i++;for(;k0(e,t,i)<10;)i--;return Math.min(i,$a(e))}function SN(e,{min:t,max:n}){t=Be(e.min,t);const i=[],r=$a(t);let s=TN(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,u=Math.round((t-l)*o)/o,c=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((u-c)/Math.pow(10,s)),f=Be(e.min,Math.round((l+c+h*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:I0(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+c+h*Math.pow(10,s))*o)/o;const d=Be(e.max,f);return i.push({value:d,major:I0(d),significand:h}),i}class A0 extends Br{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=vc.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return te(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=te(t)?Math.max(0,t):null,this.max=te(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!te(this._userMin)&&(this.min=t===tr(this.min,0)?tr(this.min,-1):tr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=t?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(tr(i,-1)),o(tr(r,1)))),i<=0&&s(tr(r,-1)),r<=0&&o(tr(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=SN(n,this);return t.bounds==="ticks"&&KT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":km(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ei(t),this._valueRange=Ei(this.max)-Ei(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ei(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Y(A0,"id","logarithmic"),Y(A0,"defaults",{ticks:{callback:dh.formatters.logarithmic,major:{enabled:!0}}});function up(e){const t=e.ticks;if(t.display&&e.display){const n=ke(t.backdropPadding);return it(t.font&&t.font.size,Lt.font.size)+n.height}return 0}function IN(e,t,n){return n=Ct(n)?n:[n],{w:yV(e,t.string,n),h:n.length*t.lineHeight}}function P0(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function kN(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?qt/s:0;for(let l=0;l<s;l++){const u=o.setContext(e.getPointLabelContext(l));r[l]=u.padding;const c=e.getPointPosition(l,e.drawingArea+r[l],a),h=Gt(u.font),f=IN(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=mn(e.getIndexAngle(l)+a),g=Math.round(xm(d)),y=P0(g,c.x,f.w,0,180),_=P0(g,c.y,f.h,90,270);AN(n,t,d,y,_)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=bN(e,i,r)}function AN(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function PN(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),u=Math.round(xm(mn(l.angle+Ue))),c=MN(l.y,a.h,u),h=RN(u),f=DN(l.x,a.w,h);return{visible:!0,x:l.x,y:c,textAlign:h,left:f,top:c,right:f+a.w,bottom:c+a.h}}function CN(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(Jn({x:n,y:i},t)||Jn({x:n,y:s},t)||Jn({x:r,y:i},t)||Jn({x:r,y:s},t))}function bN(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:up(s)/2,additionalAngle:o?qt/r:0};let u;for(let c=0;c<r;c++){l.padding=n[c],l.size=t[c];const h=PN(e,c,l);i.push(h),a==="auto"&&(h.visible=CN(h,u),h.visible&&(u=h))}return i}function RN(e){return e===0||e===180?"center":e<180?"left":"right"}function DN(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function MN(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function VN(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!gt(a)){const l=wr(t.borderRadius),u=ke(t.backdropPadding);e.fillStyle=a;const c=i-u.left,h=r-u.top,f=s-i+u.width,d=o-r+u.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),Na(e,{x:c,y:h,w:f,h:d,radius:l}),e.fill()):e.fillRect(c,h,f,d)}}function ON(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(e.getPointLabelContext(r));VN(n,o,s);const a=Gt(o.font),{x:l,y:u,textAlign:c}=s;Mr(n,e._pointLabels[r],l,u+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function bS(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,un);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function LN(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),bS(e,n,o,i),s.closePath(),s.stroke(),s.restore())}function NN(e,t,n){return Gi(e,{label:n,index:t,type:"pointLabel"})}class Ql extends vc{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ke(up(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=te(t)&&!isNaN(t)?t:0,this.max=te(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/up(this.options))}generateTickLabels(t){vc.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=wt(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?kN(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=un/(this._pointLabels.length||1),i=this.options.startAngle||0;return mn(t*n+xi(i))}getDistanceFromCenterForValue(t){if(gt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(gt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return NN(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-Ue+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),bS(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&ON(this,o),r.display&&this.ticks.forEach((c,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(c.value);const f=this.getContext(h),d=r.setContext(f),g=s.setContext(f);LN(this,d,l,o,g)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const c=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=c;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const u=i.setContext(this.getContext(l)),c=Gt(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=c.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;const h=ke(u.backdropPadding);t.fillRect(-o/2-h.left,-s-c.size/2-h.top,o+h.width,c.size+h.height)}Mr(t,a.label,0,-s,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}Y(Ql,"id","radialLinear"),Y(Ql,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Y(Ql,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Y(Ql,"descriptors",{angleLines:{_fallback:"grid"}});const mh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oe=Object.keys(mh);function C0(e,t){return e-t}function b0(e,t){if(gt(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),te(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(La(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function R0(e,t,n,i){const r=Oe.length;for(let s=Oe.indexOf(e);s<r-1;++s){const o=mh[Oe[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Oe[s]}return Oe[r-1]}function FN(e,t,n,i,r){for(let s=Oe.length-1;s>=Oe.indexOf(n);s--){const o=Oe[s];if(mh[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return Oe[n?Oe.indexOf(n):0]}function $N(e){for(let t=Oe.indexOf(e)+1,n=Oe.length;t<n;++t)if(mh[Oe[t]].common)return Oe[t]}function D0(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=Tm(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function BN(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function M0(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:BN(e,i,r,n)}class wc extends Br{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new MO._date(t.adapters.date);r.init(n),Wo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:b0(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=te(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=te(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=nV(r,s,o);return this._unit=n.unit||(i.autoSkip?R0(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):FN(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:$N(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),M0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=He(n,0,o),i=He(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||R0(s.minUnit,n,i,this._getLabelCapacity(n)),a=it(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=La(l)||l===!0,c={};let h=n,f,d;if(u&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,u?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)D0(c,f,g);return(f===i||r.bounds==="ticks"||d===1)&&D0(c,f,g),Object.keys(c).sort(C0).map(y=>+y)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return wt(o,[t,n,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],f=i[n],d=u&&h&&f&&f.major;return this._adapter.format(t,r||(d?h:c))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=xi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,M0(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(b0(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return YT(t.sort(C0))}}Y(wc,"id","time"),Y(wc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gl(e,t,n){let i=0,r=e.length-1,s,o,a,l;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=gr(e,"pos",t)),{pos:s,time:a}=e[i],{pos:o,time:l}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=gr(e,"time",t)),{time:s,pos:a}=e[i],{time:o,pos:l}=e[r]);const u=o-s;return u?a+(l-a)*(t-s)/u:a}class V0 extends wc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Gl(n,this.min),this._tableRange=Gl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Gl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Gl(this._table,i*this._tableRange+this._minPos,!0)}}Y(V0,"id","timeseries"),Y(V0,"defaults",wc.defaults);const RS="label";function O0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function zN(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function DS(e,t){e.labels=t}function MS(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RS;const i=[];e.datasets=t.map(r=>{const s=e.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function jN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RS;const n={labels:[],datasets:[]};return DS(n,e.labels),MS(n,e.datasets,t),n}function UN(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...f}=e,d=D.useRef(null),g=D.useRef(),y=()=>{d.current&&(g.current=new gh(d.current,{type:o,data:jN(a,s),options:l&&{...l},plugins:u}),O0(t,g.current))},_=()=>{O0(t,null),g.current&&(g.current.destroy(),g.current=null)};return D.useEffect(()=>{!r&&g.current&&l&&zN(g.current,l)},[r,l]),D.useEffect(()=>{!r&&g.current&&DS(g.current.config.data,a.labels)},[r,a.labels]),D.useEffect(()=>{!r&&g.current&&a.datasets&&MS(g.current.config.data,a.datasets,s)},[r,a.datasets]),D.useEffect(()=>{g.current&&(r?(_(),setTimeout(y)):g.current.update(h))},[r,l,a.labels,a.datasets,h]),D.useEffect(()=>{g.current&&(_(),setTimeout(y))},[o]),D.useEffect(()=>(y(),()=>_()),[]),nn.createElement("canvas",Object.assign({ref:d,role:"img",height:n,width:i},f),c)}const HN=D.forwardRef(UN);function WN(e,t){return gh.register(t),D.forwardRef((n,i)=>nn.createElement(HN,Object.assign({},n,{ref:i,type:e})))}const qN=WN("line",Go);gh.register(lp,ap,yu,mu,Po,lN,_N,Go,du,cN);const KN=()=>{const[e,t]=D.useState([]);D.useEffect(()=>{const h=hm(Ra(Da,"Health"),gm("timestamp","asc"));return ym(h,d=>{t(d.docs.map(g=>({...g.data(),id:g.id})))})},[]);const n=e.map(h=>new Date(h.timestamp.seconds*1e3).toLocaleDateString()),i={label:"",data:e.map(h=>h.fatPercentage),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1},r={label:"",data:e.map(h=>h.weight),fill:!1,borderColor:"rgb(255, 99, 132)",tension:.1,yAxisID:"y-weight"},s={labels:n,datasets:[i,r]},o=Math.min(...e.map(h=>parseFloat(h.weight))),a=Math.max(...e.map(h=>parseFloat(h.weight))),l=Math.min(...e.map(h=>parseFloat(h.fatPercentage))),u=Math.max(...e.map(h=>parseFloat(h.fatPercentage))),c={scales:{y:{type:"linear",position:"left",min:l-1,max:u+1,title:{display:!0,text:""}},"y-weight":{type:"linear",position:"right",min:o-1,max:a+1,title:{display:!0,text:""}}}};return z.jsxs(z.Fragment,{children:[z.jsx("p",{children:""}),z.jsx(qN,{data:s,options:c})]})},QN=()=>z.jsx("div",{className:"container mx-auto px-4",children:z.jsxs(lP,{children:[z.jsx("h1",{className:"text-center font-bold mb-0",children:"recoleco"}),z.jsxs("ul",{className:"list-decimal pl-5",children:[z.jsx("li",{className:"mb-2",children:z.jsx(t_,{to:"/money",className:"text-blue-500 hover:underline",children:""})}),z.jsx("li",{className:"mb-2",children:z.jsx(t_,{to:"/health",className:"text-blue-500 hover:underline",children:""})})]}),z.jsxs(nP,{children:[z.jsx(wd,{path:"/money",element:z.jsx(mM,{})}),z.jsx(wd,{path:"/health",element:z.jsx(yM,{})})]}),z.jsx(_M,{}),z.jsx(KN,{})]})});kf.createRoot(document.getElementById("root")).render(z.jsx(nn.StrictMode,{children:z.jsx(QN,{})}));
